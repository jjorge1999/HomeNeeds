var H2=Object.defineProperty,z2=Object.defineProperties;var G2=Object.getOwnPropertyDescriptors;var JE=Object.getOwnPropertySymbols;var q2=Object.prototype.hasOwnProperty,W2=Object.prototype.propertyIsEnumerable;var XE=(n,e,t)=>e in n?H2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})q2.call(e,t)&&XE(n,t,e[t]);if(JE)for(var t of JE(e))W2.call(e,t)&&XE(n,t,e[t]);return n},Y=(n,e)=>z2(n,G2(e));var Yt=null,Ld=!1,Ym=1,K2=null,on=Symbol("SIGNAL");function re(n){let e=Yt;return Yt=n,e}function Ud(){return Yt}var sa={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tl(n){if(Ld)throw new Error("");if(Yt===null)return;Yt.consumerOnSignalRead(n);let e=Yt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Yt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Yt.producers,t!==void 0&&t.producer===n)){Yt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Yt&&(!r||Y2(i,Yt)))return;let s=aa(Yt),o={producer:n,consumer:Yt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Yt.producersTail=o,e!==void 0?e.nextProducer=o:Yt.producers=o,s&&rD(n,o)}function eD(){Ym++}function Zm(n){if(!(aa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ym)){if(!n.producerMustRecompute(n)&&!rl(n)){Qm(n);return}n.producerRecomputeValue(n),Qm(n)}}function Jm(n){if(n.consumers===void 0)return;let e=Ld;Ld=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||Q2(r)}}finally{Ld=e}}function Xm(){return Yt?.consumerAllowSignalWrites!==!1}function Q2(n){n.dirty=!0,Jm(n),n.consumerMarkedDirty?.(n)}function Qm(n){n.dirty=!1,n.lastCleanEpoch=Ym}function oa(n){return n&&tD(n),re(n)}function tD(n){n.producersTail=void 0,n.recomputing=!0}function nl(n,e){re(e),n&&nD(n)}function nD(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(aa(n))do t=ey(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function rl(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Zm(t),r!==t.version))return!0}return!1}function Bs(n){if(aa(n)){let e=n.producers;for(;e!==void 0;)e=ey(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function rD(n,e){let t=n.consumersTail,r=aa(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)rD(i.producer,i)}function ey(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!aa(e)){let s=e.producers;for(;s!==void 0;)s=ey(s)}return t}function aa(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function ty(n){K2?.(n)}function Y2(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function ny(n,e){return Object.is(n,e)}function jd(n,e){let t=Object.create(Z2);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Zm(t),tl(t),t.value===Vd)throw t.error;return t.value};return r[on]=t,ty(t),r}var Wm=Symbol("UNSET"),Km=Symbol("COMPUTING"),Vd=Symbol("ERRORED"),Z2=Y(L({},sa),{value:Wm,dirty:!0,error:null,equal:ny,kind:"computed",producerMustRecompute(n){return n.value===Wm||n.value===Km},producerRecomputeValue(n){if(n.value===Km)throw new Error("");let e=n.value;n.value=Km;let t=oa(n),r,i=!1;try{r=n.computation(),re(null),i=e!==Wm&&e!==Vd&&r!==Vd&&n.equal(e,r)}catch(s){r=Vd,n.error=s}finally{nl(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function J2(){throw new Error}var iD=J2;function sD(n){iD(n)}function ry(n){iD=n}var X2=null;function iy(n,e){let t=Object.create(Bd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>oD(t);return r[on]=t,ty(t),[r,o=>il(t,o),o=>aD(t,o)]}function oD(n){return tl(n),n.value}function il(n,e){Xm()||sD(n),n.equal(n.value,e)||(n.value=e,eO(n))}function aD(n,e){Xm()||sD(n),il(n,e(n.value))}var Bd=Y(L({},sa),{equal:ny,value:void 0,kind:"signal"});function eO(n){n.version++,eD(),Jm(n),X2?.(n)}function sy(n){let e=re(null);try{return n()}finally{re(e)}}var oy=Y(L({},sa),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function ay(n){if(n.dirty=!1,n.version>0&&!rl(n))return;n.version++;let e=oa(n);try{n.cleanup(),n.fn()}finally{nl(n,e)}}function pe(n){return typeof n=="function"}function ca(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var $d=ca(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function $s(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ze=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(pe(r))try{r()}catch(s){e=s instanceof $d?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{cD(s)}catch(o){e=e??[],o instanceof $d?e=[...e,...o.errors]:e.push(o)}}if(e)throw new $d(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&$s(t,e)}remove(e){let{_finalizers:t}=this;t&&$s(t,e),e instanceof n&&e._removeParent(this)}};ze.EMPTY=(()=>{let n=new ze;return n.closed=!0,n})();var cy=ze.EMPTY;function Hd(n){return n instanceof ze||n&&"closed"in n&&pe(n.remove)&&pe(n.add)&&pe(n.unsubscribe)}function cD(n){pe(n)?n():n.unsubscribe()}var sr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var la={setTimeout(n,e,...t){let{delegate:r}=la;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=la;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function zd(n){la.setTimeout(()=>{let{onUnhandledError:e}=sr;if(e)e(n);else throw n})}function Hs(){}var lD=ly("C",void 0,void 0);function uD(n){return ly("E",void 0,n)}function dD(n){return ly("N",n,void 0)}function ly(n,e,t){return{kind:n,value:e,error:t}}var zs=null;function ua(n){if(sr.useDeprecatedSynchronousErrorHandling){let e=!zs;if(e&&(zs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=zs;if(zs=null,t)throw r}}else n()}function hD(n){sr.useDeprecatedSynchronousErrorHandling&&zs&&(zs.errorThrown=!0,zs.error=n)}var Gs=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hd(e)&&e.add(this)):this.destination=rO}static create(e,t,r){return new Gi(e,t,r)}next(e){this.isStopped?dy(dD(e),this):this._next(e)}error(e){this.isStopped?dy(uD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dy(lD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tO=Function.prototype.bind;function uy(n,e){return tO.call(n,e)}var hy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Gd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Gd(r)}else Gd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Gd(t)}}},Gi=class extends Gs{constructor(e,t,r){super();let i;if(pe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&sr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uy(e.next,s),error:e.error&&uy(e.error,s),complete:e.complete&&uy(e.complete,s)}):i=e}this.destination=new hy(i)}};function Gd(n){sr.useDeprecatedSynchronousErrorHandling?hD(n):zd(n)}function nO(n){throw n}function dy(n,e){let{onStoppedNotification:t}=sr;t&&la.setTimeout(()=>t(n,e))}var rO={closed:!0,next:Hs,error:nO,complete:Hs};var da=typeof Symbol=="function"&&Symbol.observable||"@@observable";function En(n){return n}function fy(...n){return py(n)}function py(n){return n.length===0?En:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=sO(t)?t:new Gi(t,r,i);return ua(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=fD(r),new r((i,s)=>{let o=new Gi({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[da](){return this}pipe(...t){return py(t)(this)}toPromise(t){return t=fD(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function fD(n){var e;return(e=n??sr.Promise)!==null&&e!==void 0?e:Promise}function iO(n){return n&&pe(n.next)&&pe(n.error)&&pe(n.complete)}function sO(n){return n&&n instanceof Gs||iO(n)&&Hd(n)}function oO(n){return pe(n?.lift)}function Se(n){return e=>{if(oO(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ee(n,e,t,r,i){return new gy(n,e,t,r,i)}var gy=class extends Gs{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var ha={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=ha;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=e(s=>{t=void 0,n(s)});return new ze(()=>t?.(i))},requestAnimationFrame(...n){let{delegate:e}=ha;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=ha;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var pD=ca(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new qd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new pD}next(t){ua(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ua(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ua(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?cy:(this.currentObservers=null,s.push(t),new ze(()=>{this.currentObservers=null,$s(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new qd(e,t),n})(),qd=class extends ie{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:cy}};var Pe=class extends ie{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var my={now(){return(my.delegate||Date).now()},delegate:void 0};var Wd=class extends ze{constructor(e,t){super()}schedule(e,t=0){return this}};var sl={setInterval(n,e,...t){let{delegate:r}=sl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=sl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var qi=class extends Wd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return sl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&sl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,$s(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var fa=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};fa.now=my.now;var Wi=class extends fa{constructor(e,t=fa.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Tr=new Wi(qi),yy=Tr;var Kd=class extends qi{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Qd=class extends Wi{};var vy=new Qd(Kd);var Yd=class extends qi{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=ha.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:s}=e;t!=null&&t===e._scheduled&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==t&&(ha.cancelAnimationFrame(t),e._scheduled=void 0)}};var Zd=class extends Wi{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var Jd=new Zd(Yd);var Zt=new ue(n=>n.complete());function Xd(n){return n&&pe(n.schedule)}function _y(n){return n[n.length-1]}function eh(n){return pe(_y(n))?n.pop():void 0}function Ar(n){return Xd(_y(n))?n.pop():void 0}function gD(n,e){return typeof _y(n)=="number"?n.pop():e}function by(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function yD(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(p){o(p)}}function c(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?s(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function mD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qs(n){return this instanceof qs?(this.v=n,this):new qs(n)}function vD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(x){return Promise.resolve(x).then(v,p)}}function a(v,x){r[v]&&(i[v]=function(O){return new Promise(function(M,$){s.push([v,O,M,$])>1||c(v,O)})},x&&(i[v]=x(i[v])))}function c(v,x){try{u(r[v](x))}catch(O){g(s[0][3],O)}}function u(v){v.value instanceof qs?Promise.resolve(v.value.v).then(d,p):g(s[0][2],v)}function d(v){c("next",v)}function p(v){c("throw",v)}function g(v,x){v(x),s.shift(),s.length&&c(s[0][0],s[0][1])}}function _D(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof mD=="function"?mD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var th=n=>n&&typeof n.length=="number"&&typeof n!="function";function nh(n){return pe(n?.then)}function rh(n){return pe(n[da])}function ih(n){return Symbol.asyncIterator&&pe(n?.[Symbol.asyncIterator])}function sh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var oh=aO();function ah(n){return pe(n?.[oh])}function ch(n){return vD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield qs(t.read());if(i)return yield qs(void 0);yield yield qs(r)}}finally{t.releaseLock()}})}function lh(n){return pe(n?.getReader)}function Ke(n){if(n instanceof ue)return n;if(n!=null){if(rh(n))return cO(n);if(th(n))return lO(n);if(nh(n))return uO(n);if(ih(n))return bD(n);if(ah(n))return dO(n);if(lh(n))return hO(n)}throw sh(n)}function cO(n){return new ue(e=>{let t=n[da]();if(pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lO(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function uO(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,zd)})}function dO(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function bD(n){return new ue(e=>{fO(n,e).catch(t=>e.error(t))})}function hO(n){return bD(ch(n))}function fO(n,e){var t,r,i,s;return yD(this,void 0,void 0,function*(){try{for(t=_D(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function gn(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ki(n,e=0){return Se((t,r)=>{t.subscribe(Ee(r,i=>gn(r,n,()=>r.next(i),e),()=>gn(r,n,()=>r.complete(),e),i=>gn(r,n,()=>r.error(i),e)))})}function Qi(n,e=0){return Se((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function CD(n,e){return Ke(n).pipe(Qi(e),Ki(e))}function wD(n,e){return Ke(n).pipe(Qi(e),Ki(e))}function ID(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ED(n,e){return new ue(t=>{let r;return gn(t,e,()=>{r=n[oh](),gn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>pe(r?.return)&&r.return()})}function uh(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{gn(t,e,()=>{let r=n[Symbol.asyncIterator]();gn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function DD(n,e){return uh(ch(n),e)}function SD(n,e){if(n!=null){if(rh(n))return CD(n,e);if(th(n))return ID(n,e);if(nh(n))return wD(n,e);if(ih(n))return uh(n,e);if(ah(n))return ED(n,e);if(lh(n))return DD(n,e)}throw sh(n)}function ge(n,e){return e?SD(n,e):Ke(n)}function Q(...n){let e=Ar(n);return ge(n,e)}function $n(n,e){let t=pe(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function ol(n){return!!n&&(n instanceof ue||pe(n.lift)&&pe(n.subscribe))}var li=ca(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function dh(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let s=new Gi({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new li)}});n.subscribe(s)})}function xD(n){return n instanceof Date&&!isNaN(n)}function X(n,e){return Se((t,r)=>{let i=0;t.subscribe(Ee(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:pO}=Array;function gO(n,e){return pO(e)?n(...e):n(e)}function hh(n){return X(e=>gO(n,e))}var{isArray:mO}=Array,{getPrototypeOf:yO,prototype:vO,keys:_O}=Object;function fh(n){if(n.length===1){let e=n[0];if(mO(e))return{args:e,keys:null};if(bO(e)){let t=_O(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function bO(n){return n&&typeof n=="object"&&yO(n)===vO}function ph(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function al(...n){let e=Ar(n),t=eh(n),{args:r,keys:i}=fh(n);if(r.length===0)return ge([],e);let s=new ue(CO(r,e,i?o=>ph(i,o):En));return t?s.pipe(hh(t)):s}function CO(n,e,t=En){return r=>{TD(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)TD(e,()=>{let u=ge(n[c],e),d=!1;u.subscribe(Ee(r,p=>{s[c]=p,d||(d=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function TD(n,e,t){n?gn(t,n,e):e()}function AD(n,e,t,r,i,s,o,a){let c=[],u=0,d=0,p=!1,g=()=>{p&&!c.length&&!u&&e.complete()},v=O=>u<r?x(O):c.push(O),x=O=>{s&&e.next(O),u++;let M=!1;Ke(t(O,d++)).subscribe(Ee(e,$=>{i?.($),s?v($):e.next($)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;c.length&&u<r;){let $=c.shift();o?gn(e,o,()=>x($)):x($)}g()}catch($){e.error($)}}))};return n.subscribe(Ee(e,v,()=>{p=!0,g()})),()=>{a?.()}}function Ot(n,e,t=1/0){return pe(e)?Ot((r,i)=>X((s,o)=>e(r,s,i,o))(Ke(n(r,i))),t):(typeof e=="number"&&(t=e),Se((r,i)=>AD(r,i,n,t)))}function Yi(n=1/0){return Ot(En,n)}function kD(){return Yi(1)}function Zi(...n){return kD()(ge(n,Ar(n)))}function cl(n){return new ue(e=>{Ke(n()).subscribe(e)})}function Dn(...n){let e=eh(n),{args:t,keys:r}=fh(n),i=new ue(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let d=0;d<o;d++){let p=!1;Ke(t[d]).subscribe(Ee(s,g=>{p||(p=!0,u--),a[d]=g},()=>c--,void 0,()=>{(!c||!p)&&(u||s.next(r?ph(r,a):a),s.complete())}))}});return e?i.pipe(hh(e)):i}function pa(n=0,e,t=yy){let r=-1;return e!=null&&(Xd(e)?t=e:r=e),new ue(i=>{let s=xD(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function ll(n=0,e=Tr){return n<0&&(n=0),pa(n,n,e)}function ul(...n){let e=Ar(n),t=gD(n,1/0),r=n;return r.length?r.length===1?Ke(r[0]):Yi(t)(ge(r,e)):Zt}function Sn(n,e){return Se((t,r)=>{let i=0;t.subscribe(Ee(r,s=>n.call(e,s,i++)&&r.next(s)))})}function RD(n){return Se((e,t)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let u=i;i=null,t.next(u)}o&&t.complete()},c=()=>{s=null,o&&t.complete()};e.subscribe(Ee(t,u=>{r=!0,i=u,s||Ke(n(u)).subscribe(s=Ee(t,a,c))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}function gh(n,e=Tr){return RD(()=>pa(n,e))}function ui(n){return Se((e,t)=>{let r=null,i=!1,s;r=e.subscribe(Ee(t,void 0,void 0,o=>{s=Ke(n(o,ui(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function dl(n,e){return pe(e)?Ot(n,e,1):Ot(n,1)}function Cy(n){return Se((e,t)=>{let r=!1;e.subscribe(Ee(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Tt(n){return n<=0?()=>Zt:Se((e,t)=>{let r=0;e.subscribe(Ee(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function MD(){return Se((n,e)=>{n.subscribe(Ee(e,Hs))})}function ND(n){return X(()=>n)}function wy(n,e){return e?t=>Zi(e.pipe(Tt(1),MD()),t.pipe(wy(n))):Ot((t,r)=>Ke(n(t,r)).pipe(Tt(1),ND(t)))}function Iy(n,e=Tr){let t=pa(n,e);return wy(()=>t)}function ga(n,e=En){return n=n??wO,Se((t,r)=>{let i,s=!0;t.subscribe(Ee(r,o=>{let a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function wO(n,e){return n===e}function PD(n=IO){return Se((e,t)=>{let r=!1;e.subscribe(Ee(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function IO(){return new li}function Ws(n){return Se((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function di(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Sn((i,s)=>n(i,s,r)):En,Tt(1),t?Cy(e):PD(()=>new li))}function mh(n){return n<=0?()=>Zt:Se((e,t)=>{let r=[];e.subscribe(Ee(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ks(...n){let e=Ar(n);return Se((t,r)=>{(e?Zi(n,t,e):Zi(n,t)).subscribe(r)})}function zt(n,e){return Se((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(Ee(r,c=>{i?.unsubscribe();let u=0,d=s++;Ke(n(c,d)).subscribe(i=Ee(r,p=>r.next(e?e(c,p,d,u++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function or(n){return Se((e,t)=>{Ke(n).subscribe(Ee(t,()=>t.complete(),Hs)),!t.closed&&e.subscribe(t)})}function Ge(n,e,t){let r=pe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Se((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Ee(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):En}var Ey;function yh(){return Ey}function kr(n){let e=Ey;return Ey=n,e}var OD=Symbol("NotFound");function ma(n){return n===OD||n?.name==="\u0275NotFound"}var Ys=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Vy=new Ys("21.0.5");var Eh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",K=class extends Error{code;constructor(e,t){super(va(e,t)),this.code=e}};function EO(n){return`NG0${Math.abs(n)}`}function va(n,e){return`${EO(n)}${e?": "+e:""}`}var gi=globalThis;function Ue(n){for(let e in n)if(n[e]===Ue)return e;throw Error("")}function jD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function fi(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(fi).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Dh(n,e){return n?e?`${n} ${e}`:n:e||""}var DO=Ue({__forward_ref__:Ue});function Mr(n){return n.__forward_ref__=Mr,n.toString=function(){return fi(this())},n}function Gt(n){return Uy(n)?n():n}function Uy(n){return typeof n=="function"&&n.hasOwnProperty(DO)&&n.__forward_ref__===Mr}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mn(n){return{providers:n.providers||[],imports:n.imports||[]}}function vl(n){return SO(n,Sh)}function jy(n){return vl(n)!==null}function SO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function xO(n){let e=n?.[Sh]??null;return e||null}function Sy(n){return n&&n.hasOwnProperty(_h)?n[_h]:null}var Sh=Ue({\u0275prov:Ue}),_h=Ue({\u0275inj:Ue}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function By(n){return n&&!!n.\u0275providers}var $y=Ue({\u0275cmp:Ue}),Hy=Ue({\u0275dir:Ue}),zy=Ue({\u0275pipe:Ue}),Gy=Ue({\u0275mod:Ue}),fl=Ue({\u0275fac:Ue}),eo=Ue({__NG_ELEMENT_ID__:Ue}),FD=Ue({__NG_ENV_ID__:Ue});function qy(n){return n[Gy]||null}function mi(n){return n[$y]||null}function Wy(n){return n[Hy]||null}function BD(n){return n[zy]||null}function to(n){return typeof n=="string"?n:n==null?"":String(n)}function $D(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():to(n)}var HD=Ue({ngErrorCode:Ue}),TO=Ue({ngErrorMessage:Ue}),AO=Ue({ngTokenPath:Ue});function Ky(n,e){return zD("",-200,e)}function xh(n,e){throw new K(-201,!1)}function zD(n,e,t){let r=new K(e,n);return r[HD]=e,r[TO]=n,t&&(r[AO]=t),r}function kO(n){return n[HD]}var xy;function GD(){return xy}function an(n){let e=xy;return xy=n,e}function Qy(n,e,t){let r=vl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;xh(n,"Injector")}var RO={},Qs=RO,Ty="__NG_DI_FLAG__",Ay=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Zs(t)||0;try{return this.injector.get(e,r&8?null:Qs,r)}catch(i){if(ma(i))return i;throw i}}};function MO(n,e=0){let t=yh();if(t===void 0)throw new K(-203,!1);if(t===null)return Qy(n,void 0,e);{let r=NO(e),i=t.retrieve(n,r);if(ma(i)){if(r.optional)return null;throw i}return i}}function _e(n,e=0){return(GD()||MO)(Gt(n),e)}function E(n,e){return _e(n,Zs(e))}function Zs(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function NO(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function ky(n){let e=[];for(let t=0;t<n.length;t++){let r=Gt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,s=0;for(let o=0;o<r.length;o++){let a=r[o],c=PO(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(_e(i,s))}else e.push(_e(r))}return e}function qD(n,e){return n[Ty]=e,n.prototype[Ty]=e,n}function PO(n){return n[Ty]}function Ji(n,e){let t=n.hasOwnProperty(fl);return t?n[fl]:null}function WD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function KD(n){return n.flat(Number.POSITIVE_INFINITY)}function Th(n,e){n.forEach(t=>Array.isArray(t)?Th(t,e):e(t))}function Yy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function _l(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function QD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function Ah(n,e,t){let r=_a(n,e);return r>=0?n[r|1]=t:(r=~r,QD(n,r,e,t)),r}function kh(n,e){let t=_a(n,e);if(t>=0)return n[t|1]}function _a(n,e){return OO(n,e,1)}function OO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var ts={},cn=[],no=new q(""),Zy=new q("",-1),Jy=new q(""),pl=class{get(e,t=Qs){if(t===Qs){let i=zD("",-201);throw i.name="\u0275NotFound",i}return t}};function xn(n){return{\u0275providers:n}}function YD(n){return xn([{provide:no,multi:!0,useValue:n}])}function ZD(...n){return{\u0275providers:Xy(!0,n),\u0275fromNgModule:!0}}function Xy(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return Th(e,o=>{let a=o;bh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&JD(i,s),t}function JD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];e0(i,s=>{e(s,r)})}}function bh(n,e,t,r){if(n=Gt(n),!n)return!1;let i=null,s=Sy(n),o=!s&&mi(n);if(!s&&!o){let c=n.ngModule;if(s=Sy(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)bh(u,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Th(s.imports,d=>{bh(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&JD(u,e)}if(!a){let u=Ji(i)||(()=>new i);e({provide:i,useFactory:u,deps:cn},i),e({provide:Jy,useValue:i,multi:!0},i),e({provide:no,useValue:()=>_e(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=n;e0(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function e0(n,e){for(let t of n)By(t)&&(t=t.\u0275providers),Array.isArray(t)?e0(t,e):e(t)}var FO=Ue({provide:String,useValue:Ue});function XD(n){return n!==null&&typeof n=="object"&&FO in n}function LO(n){return!!(n&&n.useExisting)}function VO(n){return!!(n&&n.useFactory)}function Js(n){return typeof n=="function"}function eS(n){return!!n.useClass}var bl=new q(""),vh={},LD={},Dy;function ba(){return Dy===void 0&&(Dy=new pl),Dy}var at=class{},Xs=class extends at{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,My(e,o=>this.processProvider(o)),this.records.set(Zy,ya(void 0,this)),i.has("environment")&&this.records.set(at,ya(void 0,this));let s=this.records.get(bl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Jy,cn,{self:!0}))}retrieve(e,t){let r=Zs(t)||0;try{return this.get(e,Qs,r)}catch(i){if(ma(i))return i;throw i}}destroy(){hl(this),this._destroyed=!0;let e=re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(e)}}onDestroy(e){return hl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){hl(this);let t=kr(this),r=an(void 0),i;try{return e()}finally{kr(t),an(r)}}get(e,t=Qs,r){if(hl(this),e.hasOwnProperty(FD))return e[FD](this);let i=Zs(r),s,o=kr(this),a=an(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=HO(e)&&vl(e);d&&this.injectableDefInScope(d)?u=ya(Ry(e),vh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?ba():this.parent;return t=i&8&&t===Qs?null:t,c.get(e,t)}catch(c){let u=kO(c);throw u===-200||u===-201?new K(u,null):c}finally{an(a),kr(o)}}resolveInjectorInitializers(){let e=re(null),t=kr(this),r=an(void 0),i;try{let s=this.get(no,cn,{self:!0});for(let o of s)o()}finally{kr(t),an(r),re(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(fi(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Gt(e);let t=Js(e)?e:Gt(e&&e.provide),r=jO(e);if(!Js(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ya(void 0,vh,!0),i.factory=()=>ky(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=re(null);try{if(t.value===LD)throw Ky(fi(e));return t.value===vh&&(t.value=LD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&$O(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{re(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Gt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ry(n){let e=vl(n),t=e!==null?e.factory:Ji(n);if(t!==null)return t;if(n instanceof q)throw new K(204,!1);if(n instanceof Function)return UO(n);throw new K(204,!1)}function UO(n){if(n.length>0)throw new K(204,!1);let t=xO(n);return t!==null?()=>t.factory(n):()=>new n}function jO(n){if(XD(n))return ya(void 0,n.useValue);{let e=t0(n);return ya(e,vh)}}function t0(n,e,t){let r;if(Js(n)){let i=Gt(n);return Ji(i)||Ry(i)}else if(XD(n))r=()=>Gt(n.useValue);else if(VO(n))r=()=>n.useFactory(...ky(n.deps||[]));else if(LO(n))r=(i,s)=>_e(Gt(n.useExisting),s!==void 0&&s&8?8:void 0);else{let i=Gt(n&&(n.useClass||n.provide));if(BO(n))r=()=>new i(...ky(n.deps));else return Ji(i)||Ry(i)}return r}function hl(n){if(n.destroyed)throw new K(205,!1)}function ya(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function BO(n){return!!n.deps}function $O(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function HO(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function My(n,e){for(let t of n)Array.isArray(t)?My(t,e):t&&By(t)?My(t.\u0275providers,e):e(t)}function kt(n,e){let t;n instanceof Xs?(hl(n),t=n):t=new Ay(n);let r,i=kr(t),s=an(void 0);try{return e()}finally{kr(i),an(s)}}function tS(){return GD()!==void 0||yh()!=null}var ar=0,se=1,ce=2,At=3,Hn=4,zn=5,Ca=6,wa=7,ft=8,yi=9,Nr=10,Xe=11,Ia=12,n0=13,ro=14,Tn=15,ns=16,io=17,Pr=18,Cl=19,r0=20,hi=21,Rh=22,Xi=23,An=24,so=25,oo=26,pt=27,nS=1,i0=6,rs=7,wl=8,ao=9,ct=10;function Or(n){return Array.isArray(n)&&typeof n[nS]=="object"}function cr(n){return Array.isArray(n)&&n[nS]===!0}function s0(n){return(n.flags&4)!==0}function is(n){return n.componentOffset>-1}function Il(n){return(n.flags&1)===1}function Fr(n){return!!n.template}function Ea(n){return(n[ce]&512)!==0}function co(n){return(n[ce]&256)===256}var rS="svg",iS="math";function Gn(n){for(;Array.isArray(n);)n=n[ar];return n}function o0(n,e){return Gn(e[n])}function lr(n,e){return Gn(e[n.index])}function El(n,e){return n.data[e]}function a0(n,e){return n[e]}function c0(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function qn(n,e){let t=e[n];return Or(t)?t:t[ar]}function sS(n){return(n[ce]&4)===4}function Mh(n){return(n[ce]&128)===128}function oS(n){return cr(n[At])}function Wn(n,e){return e==null?null:n[e]}function l0(n){n[io]=0}function u0(n){n[ce]&1024||(n[ce]|=1024,Mh(n)&&lo(n))}function aS(n,e){for(;n>0;)e=e[ro],n--;return e}function Dl(n){return!!(n[ce]&9216||n[An]?.dirty)}function Nh(n){n[Nr].changeDetectionScheduler?.notify(8),n[ce]&64&&(n[ce]|=1024),Dl(n)&&lo(n)}function lo(n){n[Nr].changeDetectionScheduler?.notify(0);let e=es(n);for(;e!==null&&!(e[ce]&8192||(e[ce]|=8192,!Mh(e)));)e=es(e)}function d0(n,e){if(co(n))throw new K(911,!1);n[hi]===null&&(n[hi]=[]),n[hi].push(e)}function cS(n,e){if(n[hi]===null)return;let t=n[hi].indexOf(e);t!==-1&&n[hi].splice(t,1)}function es(n){let e=n[At];return cr(e)?e[At]:e}function h0(n){return n[wa]??=[]}function f0(n){return n.cleanup??=[]}function lS(n,e,t,r){let i=h0(e);i.push(t),n.firstCreatePass&&f0(n).push(r,i.length-1)}var be={lFrame:ES(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ny=!1;function uS(){return be.lFrame.elementDepthCount}function dS(){be.lFrame.elementDepthCount++}function p0(){be.lFrame.elementDepthCount--}function g0(){return be.bindingsEnabled}function hS(){return be.skipHydrationRootTNode!==null}function m0(n){return be.skipHydrationRootTNode===n}function y0(){be.skipHydrationRootTNode=null}function ve(){return be.lFrame.lView}function gt(){return be.lFrame.tView}function j(n){return be.lFrame.contextLView=n,n[ft]}function B(n){return be.lFrame.contextLView=null,n}function Ft(){let n=v0();for(;n!==null&&n.type===64;)n=n.parent;return n}function v0(){return be.lFrame.currentTNode}function fS(){let n=be.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Da(n,e){let t=be.lFrame;t.currentTNode=n,t.isParent=e}function _0(){return be.lFrame.isParent}function pS(){be.lFrame.isParent=!1}function gS(){return be.lFrame.contextLView}function b0(){return Ny}function gl(n){let e=Ny;return Ny=n,e}function mS(){let n=be.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function yS(){return be.lFrame.bindingIndex}function vS(n){return be.lFrame.bindingIndex=n}function uo(){return be.lFrame.bindingIndex++}function Ph(n){let e=be.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function _S(){return be.lFrame.inI18n}function bS(n,e){let t=be.lFrame;t.bindingIndex=t.bindingRootIndex=n,Oh(e)}function CS(){return be.lFrame.currentDirectiveIndex}function Oh(n){be.lFrame.currentDirectiveIndex=n}function wS(n){let e=be.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function C0(){return be.lFrame.currentQueryIndex}function Fh(n){be.lFrame.currentQueryIndex=n}function zO(n){let e=n[se];return e.type===2?e.declTNode:e.type===1?n[zn]:null}function w0(n,e,t){if(t&4){let i=e,s=n;for(;i=i.parent,i===null&&!(t&1);)if(i=zO(s),i===null||(s=s[ro],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=be.lFrame=IS();return r.currentTNode=e,r.lView=n,!0}function Lh(n){let e=IS(),t=n[se];be.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function IS(){let n=be.lFrame,e=n===null?null:n.child;return e===null?ES(n):e}function ES(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function DS(){let n=be.lFrame;return be.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var I0=DS;function Vh(){let n=DS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function SS(n){return(be.lFrame.contextLView=aS(n,be.lFrame.contextLView))[ft]}function Lr(){return be.lFrame.selectedIndex}function ss(n){be.lFrame.selectedIndex=n}function Uh(){let n=be.lFrame;return El(n.tView,n.selectedIndex)}function xS(){return be.lFrame.currentNamespace}var TS=!0;function jh(){return TS}function Bh(n){TS=n}function Py(n,e=null,t=null,r){let i=E0(n,e,t,r);return i.resolveInjectorInitializers(),i}function E0(n,e=null,t=null,r,i=new Set){let s=[t||cn,ZD(n)];return r=r||(typeof n=="object"?void 0:fi(n)),new Xs(s,e||ba(),r||null,i)}var Qe=class n{static THROW_IF_NOT_FOUND=Qs;static NULL=new pl;static create(e,t){if(Array.isArray(e))return Py({name:""},t,e,"");{let r=e.name??"";return Py({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>_e(Zy)});static __NG_ELEMENT_ID__=-1},Ye=new q(""),ln=(()=>{class n{static __NG_ELEMENT_ID__=GO;static __NG_ENV_ID__=t=>t}return n})(),Ch=class extends ln{_lView;constructor(e){super(),this._lView=e}get destroyed(){return co(this._lView)}onDestroy(e){let t=this._lView;return d0(t,e),()=>cS(t,e)}};function GO(){return new Ch(ve())}var AS=!1,vi=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Pe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ue(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Oy=class extends ie{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,tS()&&(this.destroyRef=E(ln,{optional:!0})??void 0,this.pendingTasks=E(vi,{optional:!0})??void 0)}emit(e){let t=re(null);try{super.next(e)}finally{re(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ze&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ae=Oy;function wh(...n){}function D0(n){let e,t;function r(){n=wh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function S0(n){return queueMicrotask(()=>n()),()=>{n=wh}}var x0="isAngularZone",ml=x0+"_ID",qO=0,Oe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ae(!1);onMicrotaskEmpty=new Ae(!1);onStable=new Ae(!1);onError=new Ae(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=AS}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,QO(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(x0)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new K(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,WO,wh,wh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},WO={};function T0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function KO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){D0(()=>{n.callbackScheduled=!1,Fy(n),n.isCheckStableRunning=!0,T0(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Fy(n)}function QO(n){let e=()=>{KO(n)},t=qO++;n._inner=n._inner.fork({name:"angular",properties:{[x0]:!0,[ml]:t,[ml+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(YO(c))return r.invokeTask(s,o,a,c);try{return VD(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),UD(n)}},onInvoke:(r,i,s,o,a,c,u)=>{try{return VD(n),r.invoke(s,o,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!ZO(c)&&e(),UD(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Fy(n),T0(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Fy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function VD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function UD(n){n._nesting--,T0(n)}var yl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ae;onMicrotaskEmpty=new Ae;onStable=new Ae;onError=new Ae;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function YO(n){return kS(n,"__ignore_ng_zone__")}function ZO(n){return kS(n,"__scheduler_tick__")}function kS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Rr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},kn=new q("",{factory:()=>{let n=E(Oe),e=E(at),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(Rr),t.handleError(r))})}}}),RS={provide:no,useValue:()=>{let n=E(Rr,{optional:!0})},multi:!0},JO=new q("",{factory:()=>{let n=E(Ye).defaultView;if(!n)return;let e=E(kn),t=s=>{e(s.reason),s.preventDefault()},r=s=>{s.error?e(s.error):e(new Error(s.message,{cause:s})),s.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),E(ln).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function A0(){return xn([YD(()=>void E(JO))])}function te(n,e){let[t,r,i]=iy(n,e?.equal),s=t,o=s[on];return s.set=r,s.update=i,s.asReadonly=MS.bind(s),s}function MS(){let n=this[on];if(n.readonlyFn===void 0){let e=()=>this();e[on]=n,n.readonlyFn=e}return n.readonlyFn}var Sl=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=XO}return n})();function XO(){return new Sl(ve(),Ft())}var pi=class{},xl=new q("",{factory:()=>!0});var k0=new q(""),Sa=(()=>{class n{internalPendingTasks=E(vi);scheduler=E(pi);errorHandler=E(kn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),$h=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new Ly})}return n})(),Ly=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Ih=class{[on];constructor(e){this[on]=e}destroy(){this[on].destroy()}};function Rn(n,e){let t=e?.injector??E(Qe),r=e?.manualCleanup!==!0?t.get(ln):null,i,s=t.get(Sl,null,{optional:!0}),o=t.get(pi);return s!==null?(i=nF(s.view,o,n),r instanceof Ch&&r._lView===s.view&&(r=null)):i=rF(n,t.get($h),o),i.injector=t,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new Ih(i)}var NS=Y(L({},oy),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let n=gl(!1);try{ay(this)}finally{gl(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=re(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],re(n)}}}),eF=Y(L({},NS),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(Bs(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.scheduler.remove(this)}}),tF=Y(L({},NS),{consumerMarkedDirty(){this.view[ce]|=8192,lo(this.view),this.notifier.notify(13)},destroy(){if(Bs(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.view[Xi]?.delete(this)}});function nF(n,e,t){let r=Object.create(tF);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=PS(r,t),n[Xi]??=new Set,n[Xi].add(r),r.consumerMarkedDirty(r),r}function rF(n,e,t){let r=Object.create(eF);return r.fn=PS(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function PS(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}function bt(n){return sy(n)}function Ma(n){return{toString:n}.toString()}var Hh="__parameters__";function dF(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function hF(n,e,t){return Ma(()=>{let r=dF(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,d){let p=c.hasOwnProperty(Hh)?c[Hh]:Object.defineProperty(c,Hh,{value:[]})[Hh];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(o),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Nn=qD(hF("Optional"),8);function fF(n){return typeof n=="function"}function lx(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Zh=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Kn=(()=>{let n=()=>ux;return n.ngInherit=!0,n})();function ux(n){return n.type.prototype.ngOnChanges&&(n.setInput=gF),pF}function pF(){let n=hx(this),e=n?.current;if(e){let t=n.previous;if(t===ts)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function gF(n,e,t,r,i){let s=this.declaredInputs[r],o=hx(n)||mF(n,{previous:ts,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Zh(u&&u.currentValue,t,c===ts),lx(n,e,i,t)}var dx="__ngSimpleChanges__";function hx(n){return n[dx]||null}function mF(n,e){return n[dx]=e}var OS=[];var je=function(n,e=null,t){for(let r=0;r<OS.length;r++){let i=OS[r];i(n,e,t)}},Re=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(Re||{});function yF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ux(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function fx(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function qh(n,e,t){px(n,e,3,t)}function Wh(n,e,t,r){(n[ce]&3)===t&&px(n,e,t,r)}function R0(n,e){let t=n[ce];(t&3)===e&&(t&=16383,t+=1,n[ce]=t)}function px(n,e,t,r){let i=r!==void 0?n[io]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[io]+=65536),(a<s||s==-1)&&(vF(n,t,e,c),n[io]=(n[io]&4294901760)+c+2),c++}function FS(n,e){je(Re.LifecycleHookStart,n,e);let t=re(null);try{e.call(n)}finally{re(t),je(Re.LifecycleHookEnd,n,e)}}function vF(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[ce]>>14<n[io]>>16&&(n[ce]&3)===e&&(n[ce]+=16384,FS(a,s)):FS(a,s)}var Ta=-1,fo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function _F(n){return(n.flags&8)!==0}function bF(n){return(n.flags&16)!==0}function CF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];wF(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function gx(n){return n===3||n===4||n===6}function wF(n){return n.charCodeAt(0)===64}function Aa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?LS(n,t,i,null,e[++r]):LS(n,t,i,null,null))}}return n}function LS(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function mx(n){return n!==Ta}function Jh(n){return n&32767}function IF(n){return n>>16}function Xh(n,e){let t=IF(n),r=e;for(;t>0;)r=r[ro],t--;return r}var $0=!0;function ef(n){let e=$0;return $0=n,e}var EF=256,yx=EF-1,vx=5,DF=0,Vr={};function SF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(eo)&&(r=t[eo]),r==null&&(r=t[eo]=DF++);let i=r&yx,s=1<<i;e.data[n+(i>>vx)]|=s}function tf(n,e){let t=_x(n,e);if(t!==-1)return t;let r=e[se];r.firstCreatePass&&(n.injectorIndex=e.length,M0(r.data,n),M0(e,null),M0(r.blueprint,null));let i=mv(n,e),s=n.injectorIndex;if(mx(i)){let o=Jh(i),a=Xh(i,e),c=a[se].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function M0(n,e){n.push(0,0,0,0,0,0,0,0,e)}function _x(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function mv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Ex(i),r===null)return Ta;if(t++,i=i[ro],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ta}function H0(n,e,t){SF(n,e,t)}function xF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(gx(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function bx(n,e,t){if(t&8||n!==void 0)return n;xh(e,"NodeInjector")}function Cx(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[yi],s=an(void 0);try{return i?i.get(e,r,t&8):Qy(e,r,t&8)}finally{an(s)}}return bx(r,e,t)}function wx(n,e,t,r=0,i){if(n!==null){if(e[ce]&2048&&!(r&2)){let o=RF(n,e,t,r,Vr);if(o!==Vr)return o}let s=Ix(n,e,t,r,Vr);if(s!==Vr)return s}return Cx(e,t,r,i)}function Ix(n,e,t,r,i){let s=AF(t);if(typeof s=="function"){if(!w0(e,n,r))return r&1?bx(i,t,r):Cx(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&8))xh(t);else return o}finally{I0()}}else if(typeof s=="number"){let o=null,a=_x(n,e),c=Ta,u=r&1?e[Tn][zn]:null;for((a===-1||r&4)&&(c=a===-1?mv(n,e):e[a+8],c===Ta||!US(r,!1)?a=-1:(o=e[se],a=Jh(c),e=Xh(c,e)));a!==-1;){let d=e[se];if(VS(s,a,d.data)){let p=TF(a,e,t,o,r,u);if(p!==Vr)return p}c=e[a+8],c!==Ta&&US(r,e[se].data[a+8]===u)&&VS(s,a,e)?(o=d,a=Jh(c),e=Xh(c,e)):a=-1}}return i}function TF(n,e,t,r,i,s){let o=e[se],a=o.data[n+8],c=r==null?is(a)&&$0:r!=o&&(a.type&3)!==0,u=i&1&&s===a,d=Kh(a,o,t,c,u);return d!==null?Rl(e,o,d,a,i):Vr}function Kh(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,u=n.directiveEnd,d=s>>20,p=r?a:a+d,g=i?a+d:u;for(let v=p;v<g;v++){let x=o[v];if(v<c&&t===x||v>=c&&x.type===t)return v}if(i){let v=o[c];if(v&&Fr(v)&&v.type===t)return c}return null}function Rl(n,e,t,r,i){let s=n[t],o=e.data;if(s instanceof fo){let a=s;if(a.resolving){let v=$D(o[t]);throw Ky(v)}let c=ef(a.canSeeViewProviders);a.resolving=!0;let u=o[t].type||o[t],d,p=a.injectImpl?an(a.injectImpl):null,g=w0(n,r,0);try{s=n[t]=a.factory(void 0,i,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&yF(t,o[t],e)}finally{p!==null&&an(p),ef(c),a.resolving=!1,I0()}}return s}function AF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(eo)?n[eo]:void 0;return typeof e=="number"?e>=0?e&yx:kF:e}function VS(n,e,t){let r=1<<n;return!!(t[e+(n>>vx)]&r)}function US(n,e){return!(n&2)&&!(n&1&&e)}var ho=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return wx(this._tNode,this._lView,e,Zs(r),t)}};function kF(){return new ho(Ft(),ve())}function bi(n){return Ma(()=>{let e=n.prototype.constructor,t=e[fl]||z0(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[fl]||z0(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function z0(n){return Uy(n)?()=>{let e=z0(Gt(n));return e&&e()}:Ji(n)}function RF(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[ce]&2048&&!Ea(o);){let a=Ix(s,o,t,r|2,Vr);if(a!==Vr)return a;let c=s.parent;if(!c){let u=o[r0];if(u){let d=u.get(t,Vr,r);if(d!==Vr)return d}c=Ex(o),o=o[ro]}s=c}return i}function Ex(n){let e=n[se],t=e.type;return t===2?e.declTNode:t===1?n[zn]:null}function Ll(n){return xF(Ft(),n)}function MF(){return Na(Ft(),ve())}function Na(n,e){return new mt(lr(n,e))}var mt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=MF}return n})();function NF(n){return n instanceof mt?n.nativeElement:n}function PF(){return this._results[Symbol.iterator]()}var nf=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ie}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=KD(e);(this._changesDetected=!WD(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=PF};function Dx(n){return(n.flags&128)===128}var yv=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(yv||{}),Sx=new Map,OF=0;function FF(){return OF++}function LF(n){Sx.set(n[Cl],n)}function G0(n){Sx.delete(n[Cl])}var jS="__ngContext__";function ka(n,e){Or(e)?(n[jS]=e[Cl],LF(e)):n[jS]=e}function xx(n){return Ax(n[Ia])}function Tx(n){return Ax(n[Hn])}function Ax(n){for(;n!==null&&!cr(n);)n=n[Hn];return n}var VF;function vv(n){VF=n}var Pa=new q("",{factory:()=>UF}),UF="ng";var yf=new q(""),Ci=new q("",{providedIn:"platform",factory:()=>"unknown"});var vf=new q("",{factory:()=>E(Ye).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kx="r";var Rx="di";var Mx=!1,Nx=new q("",{factory:()=>Mx});var jF=(n,e,t,r)=>{};function BF(n,e,t,r){jF(n,e,t,r)}function _v(n){return(n.flags&32)===32}var $F=()=>null;function Px(n,e,t=!1){return $F(n,e,t)}function Ox(n,e){let t=n.contentQueries;if(t!==null){let r=re(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];Fh(s),a.contentQueries(2,e[o],o)}}}finally{re(r)}}}function q0(n,e,t){Fh(0);let r=re(null);try{e(n,t)}finally{re(r)}}function Fx(n,e,t){if(s0(e)){let r=re(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{re(r)}}}var hr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(hr||{});var zh;function HF(){if(zh===void 0&&(zh=null,gi.trustedTypes))try{zh=gi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zh}function BS(n){return HF()?.createScriptURL(n)||n}var rf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Eh})`}};function Vl(n){return n instanceof rf?n.changingThisBreaksApplicationSecurity:n}function bv(n,e){let t=Lx(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Eh})`)}return t===e}function Lx(n){return n instanceof rf&&n.getTypeName()||null}var zF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vx(n){return n=String(n),n.match(zF)?n:"unsafe:"+n}function GF(n,e){return n.createText(e)}function qF(n,e,t){n.setValue(e,t)}function Ux(n,e,t){return n.createElement(e,t)}function sf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function jx(n,e,t){n.appendChild(e,t)}function $S(n,e,t,r,i){r!==null?sf(n,e,t,r,i):jx(n,e,t)}function Bx(n,e,t,r){n.removeChild(null,e,t,r)}function WF(n,e,t){n.setAttribute(e,"style",t)}function KF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function $x(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&CF(n,e,r),i!==null&&KF(n,e,i),s!==null&&WF(n,e,s)}var _f=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(_f||{});function un(n){let e=zx();return e?e.sanitize(_f.URL,n)||"":bv(n,"URL")?Vl(n):Vx(to(n))}function Hx(n){let e=zx();if(e)return BS(e.sanitize(_f.RESOURCE_URL,n)||"");if(bv(n,"ResourceURL"))return BS(Vl(n));throw new K(904,!1)}function QF(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Hx:un}function Cv(n,e,t){return QF(e,t)(n)}function zx(){let n=ve();return n&&n[Nr].sanitizer}function Gx(n){return n instanceof Function?n():n}function YF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var qx="ng-template";function ZF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&YF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(wv(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function wv(n){return n.type===4&&n.value!==qx}function JF(n,e,t){let r=n.type===4&&!t?qx:n.value;return e===r}function XF(n,e,t){let r=4,i=n.attrs,s=i!==null?nL(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!ur(r)&&!ur(c))return!1;if(o&&ur(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!JF(n,c,t)||c===""&&e.length===1){if(ur(r))return!1;o=!0}}else if(r&8){if(i===null||!ZF(n,i,c,t)){if(ur(r))return!1;o=!0}}else{let u=e[++a],d=eL(c,i,wv(n),t);if(d===-1){if(ur(r))return!1;o=!0;continue}if(u!==""){let p;if(d>s?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(ur(r))return!1;o=!0}}}}return ur(r)||o}function ur(n){return(n&1)===0}function eL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return rL(e,n)}function tL(n,e,t=!1){for(let r=0;r<e.length;r++)if(XF(n,e[r],t))return!0;return!1}function nL(n){for(let e=0;e<n.length;e++){let t=n[e];if(gx(t))return e}return n.length}function rL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function HS(n,e){return n?":not("+e.trim()+")":e}function iL(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!ur(o)&&(e+=HS(s,i),i=""),r=o,s=s||!ur(r);t++}return i!==""&&(e+=HS(s,i)),e}function sL(n){return n.map(iL).join(",")}function oL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!ur(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var yn={};function Iv(n,e,t,r,i,s,o,a,c,u,d){let p=pt+r,g=p+i,v=aL(p,g),x=typeof u=="function"?u():u;return v[se]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:x,incompleteFirstPass:!1,ssrId:d}}function aL(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:yn);return t}function cL(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Iv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ev(n,e,t,r,i,s,o,a,c,u,d){let p=e.blueprint.slice();return p[ar]=i,p[ce]=r|4|128|8|64|1024,(u!==null||n&&n[ce]&2048)&&(p[ce]|=2048),l0(p),p[At]=p[ro]=n,p[ft]=t,p[Nr]=o||n&&n[Nr],p[Xe]=a||n&&n[Xe],p[yi]=c||n&&n[yi]||null,p[zn]=s,p[Cl]=FF(),p[Ca]=d,p[r0]=u,p[Tn]=e.type==2?n[Tn]:p,p}function lL(n,e,t){let r=lr(e,n),i=cL(t),s=n[Nr].rendererFactory,o=Dv(n,Ev(n,i,null,Wx(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function Wx(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Kx(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Dv(n,e){return n[Ia]?n[n0][Hn]=e:n[Ia]=e,n[n0]=e,e}function D(n=1){Qx(gt(),ve(),Lr()+n,!1)}function Qx(n,e,t,r){if(!r)if((e[ce]&3)===3){let s=n.preOrderCheckHooks;s!==null&&qh(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Wh(e,s,0,t)}ss(t)}var bf=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(bf||{});function W0(n,e,t,r){let i=re(null);try{let[s,o,a]=n.inputs[t],c=null;(o&bf.SignalBased)!==0&&(c=e[s][on]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,s):lx(e,c,s,r)}finally{re(i)}}var Ur=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Ur||{}),uL;function Sv(n,e){return uL(n,e)}var po=new Set,Cf=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Cf||{}),vo=new q(""),zS=new Set;function as(n){zS.has(n)||(zS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var xv=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Yx=[0,1,2,3],Zx=(()=>{class n{ngZone=E(Oe);scheduler=E(pi);errorHandler=E(Rr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){E(vo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&je(Re.AfterRenderHooksStart),this.executing=!0;for(let r of Yx)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&je(Re.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[so]??=[]).push(t),lo(r),r[ce]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Cf.AFTER_NEXT_RENDER,t):t()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),of=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[so];e&&(this.view[so]=e.filter(t=>t!==this))}};function _o(n,e){let t=e?.injector??E(Qe);return as("NgAfterNextRender"),hL(n,t,e,!0)}function dL(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function hL(n,e,t,r){let i=e.get(xv);i.impl??=e.get(Zx);let s=e.get(vo,null,{optional:!0}),o=t?.manualCleanup!==!0?e.get(ln):null,a=e.get(Sl,null,{optional:!0}),c=new of(i.impl,dL(n),a?.view,r,o,s?.snapshot(null));return i.impl.register(c),c}var Jx=new q("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:E(at)})});function Xx(n,e,t){let r=n.get(Jx);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function fL(n,e){let t=n.get(Jx);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function pL(n,e){for(let[t,r]of e)Xx(n,r.animateFns)}function GS(n,e,t,r){let i=n?.[oo]?.enter;e!==null&&i&&i.has(t.index)&&pL(r,i)}function xa(n,e,t,r,i,s,o,a){if(i!=null){let c,u=!1;cr(i)?c=i:Or(i)&&(u=!0,i=i[ar]);let d=Gn(i);n===0&&r!==null?(GS(a,r,s,t),o==null?jx(e,r,d):sf(e,r,d,o||null,!0)):n===1&&r!==null?(GS(a,r,s,t),sf(e,r,d,o||null,!0)):n===2?qS(a,s,t,p=>{Bx(e,d,u,p)}):n===3&&qS(a,s,t,()=>{e.destroyNode(d)}),c!=null&&xL(e,n,t,c,s,r,o)}}function gL(n,e){eT(n,e),e[ar]=null,e[zn]=null}function mL(n,e,t,r,i,s){r[ar]=i,r[zn]=e,If(n,r,t,1,i,s)}function eT(n,e){e[Nr].changeDetectionScheduler?.notify(9),If(n,e,e[Xe],2,null,null)}function yL(n){let e=n[Ia];if(!e)return N0(n[se],n);for(;e;){let t=null;if(Or(e))t=e[Ia];else{let r=e[ct];r&&(t=r)}if(!t){for(;e&&!e[Hn]&&e!==n;)Or(e)&&N0(e[se],e),e=e[At];e===null&&(e=n),Or(e)&&N0(e[se],e),t=e&&e[Hn]}e=t}}function Tv(n,e){let t=n[ao],r=t.indexOf(e);t.splice(r,1)}function wf(n,e){if(co(e))return;let t=e[Xe];t.destroyNode&&If(n,e,t,3,null,null),yL(e)}function N0(n,e){if(co(e))return;let t=re(null);try{e[ce]&=-129,e[ce]|=256,e[An]&&Bs(e[An]),bL(n,e),_L(n,e),e[se].type===1&&e[Xe].destroy();let r=e[ns];if(r!==null&&cr(e[At])){r!==e[At]&&Tv(r,e);let i=e[Pr];i!==null&&i.detachView(n)}G0(e)}finally{re(t)}}function qS(n,e,t,r){let i=n?.[oo];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&po.add(n),Xx(t,()=>{if(i.leave&&i.leave.has(e.index)){let o=i.leave.get(e.index),a=[];if(o){for(let c=0;c<o.animateFns.length;c++){let u=o.animateFns[c],{promise:d}=u();a.push(d)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),vL(n,r)}else n&&po.delete(n),r(!1)},i)}function vL(n,e){let t=n[oo]?.running;if(t){t.then(()=>{n[oo].running=void 0,po.delete(n),e(!0)});return}e(!1)}function _L(n,e){let t=n.cleanup,r=e[wa];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[wa]=null);let i=e[hi];if(i!==null){e[hi]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Xi];if(s!==null){e[Xi]=null;for(let o of s)o.destroy()}}function bL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof fo)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];je(Re.LifecycleHookStart,a,c);try{c.call(a)}finally{je(Re.LifecycleHookEnd,a,c)}}else{je(Re.LifecycleHookStart,i,s);try{s.call(i)}finally{je(Re.LifecycleHookEnd,i,s)}}}}}function CL(n,e,t){return wL(n,e.parent,t)}function wL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ar];if(is(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===hr.None||i===hr.Emulated)return null}return lr(r,t)}function IL(n,e,t){return DL(n,e,t)}function EL(n,e,t){return n.type&40?lr(n,t):null}var DL=EL,WS;function Av(n,e,t,r){let i=CL(n,r,e),s=e[Xe],o=r.parent||e[zn],a=IL(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)$S(s,i,t[c],a,!1);else $S(s,i,t,a,!1);WS!==void 0&&WS(s,r,e,t,i)}function Al(n,e){if(e!==null){let t=e.type;if(t&3)return lr(e,n);if(t&4)return K0(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Al(n,r);{let i=n[e.index];return cr(i)?K0(-1,i):Gn(i)}}else{if(t&128)return Al(n,e.next);if(t&32)return Sv(e,n)()||Gn(n[e.index]);{let r=tT(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=es(n[Tn]);return Al(i,r)}else return Al(n,e.next)}}}return null}function tT(n,e){if(e!==null){let r=n[Tn][zn],i=e.projection;return r.projection[i]}return null}function K0(n,e){let t=ct+n+1;if(t<e.length){let r=e[t],i=r[se].firstChild;if(i!==null)return Al(r,i)}return e[rs]}function kv(n,e,t,r,i,s,o){for(;t!=null;){let a=r[yi];if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(o&&e===0&&(c&&ka(Gn(c),r),t.flags|=2),!_v(t))if(u&8)kv(n,e,t.child,r,i,s,!1),xa(e,n,a,i,c,t,s,r);else if(u&32){let d=Sv(t,r),p;for(;p=d();)xa(e,n,a,i,p,t,s,r);xa(e,n,a,i,c,t,s,r)}else u&16?SL(n,e,r,t,i,s):xa(e,n,a,i,c,t,s,r);t=o?t.projectionNext:t.next}}function If(n,e,t,r,i,s){kv(t,r,n.firstChild,e,i,s,!1)}function SL(n,e,t,r,i,s){let o=t[Tn],c=o[zn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];xa(e,n,t[yi],i,d,r,s,t)}else{let u=c,d=o[At];Dx(r)&&(u.flags|=128),kv(n,e,u,d,i,s,!0)}}function xL(n,e,t,r,i,s,o){let a=r[rs],c=Gn(r);a!==c&&xa(e,n,t,s,a,i,o);for(let u=ct;u<r.length;u++){let d=r[u];If(d[se],d,n,e,s,a)}}function TL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Ur.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ur.Important),n.setStyle(t,r,i,s))}}function nT(n,e,t,r,i){let s=Lr(),o=r&2;try{ss(-1),o&&e.length>pt&&Qx(n,e,pt,!1);let a=o?Re.TemplateUpdateStart:Re.TemplateCreateStart;je(a,i,t),t(r,i)}finally{ss(s);let a=o?Re.TemplateUpdateEnd:Re.TemplateCreateEnd;je(a,i,t)}}function Rv(n,e,t){OL(n,e,t),(t.flags&64)===64&&FL(n,e,t)}function Ef(n,e,t=lr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function AL(n,e,t,r){let s=r.get(Nx,Mx)||t===hr.ShadowDom||t===hr.ExperimentalIsolatedShadowDom,o=n.selectRootElement(e,s);return kL(o),o}function kL(n){RL(n)}var RL=()=>null;function ML(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function rT(n,e,t,r,i,s){let o=e[se];if(Mv(n,o,e,t,r)){is(n)&&PL(e,n.index);return}n.type&3&&(t=ML(t)),NL(n,e,t,r,i,s)}function NL(n,e,t,r,i,s){if(n.type&3){let o=lr(n,e);r=s!=null?s(r,n.value||"",t):r,i.setProperty(o,t,r)}else n.type&12}function PL(n,e){let t=qn(e,n);t[ce]&16||(t[ce]|=64)}function OL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;is(t)&&lL(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||tf(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],c=Rl(e,n,o,t);if(ka(c,e),s!==null&&jL(e,o-r,c,a,t,s),Fr(a)){let u=qn(t.index,e);u[ft]=Rl(e,n,o,t)}}}function FL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=CS();try{ss(s);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Oh(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&LL(c,u)}}finally{ss(-1),Oh(o)}}function LL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function iT(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];tL(e,s.selectors,!1)&&(r??=[],Fr(s)?r.unshift(s):r.push(s))}return r}function VL(n,e,t,r,i,s){let o=lr(n,e);UL(e[Xe],o,s,n.value,t,r,i)}function UL(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?to(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function jL(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],u=o[a+1];W0(r,t,c,u)}}function sT(n,e,t,r,i){let s=pt+t,o=e[se],a=i(o,e,n,r,t);e[s]=a,Da(n,!0);let c=n.type===2;return c?($x(e[Xe],a,n),(uS()===0||Il(n))&&ka(a,e),dS()):ka(a,e),jh()&&(!c||!_v(n))&&Av(o,e,a,n),n}function oT(n){let e=n;return _0()?pS():(e=e.parent,Da(e,!1)),e}function BL(n,e){let t=n[yi];if(!t)return;let r;try{r=t.get(kn,null)}catch{r=null}r?.(e)}function Mv(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let u=o[c],d=o[c+1],p=e.data[u];W0(p,t[u],d,i),a=!0}if(s)for(let c of s){let u=t[c],d=e.data[c];W0(d,u,r,i),a=!0}return a}function $L(n,e){let t=qn(e,n),r=t[se];HL(r,t);let i=t[ar];i!==null&&t[Ca]===null&&(t[Ca]=Px(i,t[yi])),je(Re.ComponentStart);try{Nv(r,t,t[ft])}finally{je(Re.ComponentEnd,t[ft])}}function HL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Nv(n,e,t){Lh(e);try{let r=n.viewQuery;r!==null&&q0(1,r,t);let i=n.template;i!==null&&nT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Pr]?.finishViewCreation(n),n.staticContentQueries&&Ox(n,e),n.staticViewQueries&&q0(2,n.viewQuery,t);let s=n.components;s!==null&&zL(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ce]&=-5,Vh()}}function zL(n,e){for(let t=0;t<e.length;t++)$L(n,e[t])}function Df(n,e,t,r){let i=re(null);try{let s=e.tView,a=n[ce]&4096?4096:16,c=Ev(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[ns]=u;let d=n[Pr];return d!==null&&(c[Pr]=d.createEmbeddedView(s)),Nv(s,c,t),c}finally{re(i)}}function Ml(n,e){return!e||e.firstChild===null||Dx(n)}function Nl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(Gn(s)),cr(s)&&aT(s,r);let o=t.type;if(o&8)Nl(n,e,t.child,r);else if(o&32){let a=Sv(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=tT(e,t);if(Array.isArray(a))r.push(...a);else{let c=es(e[Tn]);Nl(c[se],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function aT(n,e){for(let t=ct;t<n.length;t++){let r=n[t],i=r[se].firstChild;i!==null&&Nl(r[se],r,i,e)}n[rs]!==n[ar]&&e.push(n[rs])}function cT(n){if(n[so]!==null){for(let e of n[so])e.impl.addSequence(e);n[so].length=0}}var lT=[];function GL(n){return n[An]??qL(n)}function qL(n){let e=lT.pop()??Object.create(KL);return e.lView=n,e}function WL(n){n.lView[An]!==n&&(n.lView=null,lT.push(n))}var KL=Y(L({},sa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{lo(n.lView)},consumerOnSignalRead(){this.lView[An]=this}});function QL(n){let e=n[An]??Object.create(YL);return e.lView=n,e}var YL=Y(L({},sa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=es(n.lView);for(;e&&!uT(e[se]);)e=es(e);e&&u0(e)},consumerOnSignalRead(){this.lView[An]=this}});function uT(n){return n.type!==2}function dT(n){if(n[Xi]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Xi])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ce]&8192)}}var ZL=100;function hT(n,e=0){let r=n[Nr].rendererFactory,i=!1;i||r.begin?.();try{JL(n,e)}finally{i||r.end?.()}}function JL(n,e){let t=b0();try{gl(!0),Q0(n,e);let r=0;for(;Dl(n);){if(r===ZL)throw new K(103,!1);r++,Q0(n,1)}}finally{gl(t)}}function XL(n,e,t,r){if(co(e))return;let i=e[ce],s=!1,o=!1;Lh(e);let a=!0,c=null,u=null;s||(uT(n)?(u=GL(e),c=oa(u)):Ud()===null?(a=!1,u=QL(e),c=oa(u)):e[An]&&(Bs(e[An]),e[An]=null));try{l0(e),vS(n.bindingStartIndex),t!==null&&nT(n,e,t,2,r);let d=(i&3)===3;if(!s)if(d){let v=n.preOrderCheckHooks;v!==null&&qh(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Wh(e,v,0,null),R0(e,0)}if(o||eV(e),dT(e),fT(e,0),n.contentQueries!==null&&Ox(n,e),!s)if(d){let v=n.contentCheckHooks;v!==null&&qh(e,v)}else{let v=n.contentHooks;v!==null&&Wh(e,v,1),R0(e,1)}nV(n,e);let p=n.components;p!==null&&gT(e,p,0);let g=n.viewQuery;if(g!==null&&q0(2,g,r),!s)if(d){let v=n.viewCheckHooks;v!==null&&qh(e,v)}else{let v=n.viewHooks;v!==null&&Wh(e,v,2),R0(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Rh]){for(let v of e[Rh])v();e[Rh]=null}s||(cT(e),e[ce]&=-73)}catch(d){throw s||lo(e),d}finally{u!==null&&(nl(u,c),a&&WL(u)),Vh()}}function fT(n,e){for(let t=xx(n);t!==null;t=Tx(t))for(let r=ct;r<t.length;r++){let i=t[r];pT(i,e)}}function eV(n){for(let e=xx(n);e!==null;e=Tx(e)){if(!(e[ce]&2))continue;let t=e[ao];for(let r=0;r<t.length;r++){let i=t[r];u0(i)}}}function tV(n,e,t){je(Re.ComponentStart);let r=qn(e,n);try{pT(r,t)}finally{je(Re.ComponentEnd,r[ft])}}function pT(n,e){Mh(n)&&Q0(n,e)}function Q0(n,e){let r=n[se],i=n[ce],s=n[An],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&rl(s)),o||=!1,s&&(s.dirty=!1),n[ce]&=-9217,o)XL(r,n,r.template,n[ft]);else if(i&8192){let a=re(null);try{dT(n),fT(n,1);let c=r.components;c!==null&&gT(n,c,1),cT(n)}finally{re(a)}}}function gT(n,e,t){for(let r=0;r<e.length;r++)tV(n,e[r],t)}function nV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ss(~i);else{let s=i,o=t[++r],a=t[++r];bS(o,s);let c=e[s];je(Re.HostBindingsUpdateStart,c);try{a(2,c)}finally{je(Re.HostBindingsUpdateEnd,c)}}}}finally{ss(-1)}}function Pv(n,e){let t=b0()?64:1088;for(n[Nr].changeDetectionScheduler?.notify(e);n;){n[ce]|=t;let r=es(n);if(Ea(n)&&!r)return n;n=r}return null}function mT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function yT(n,e){let t=ct+e;if(t<n.length)return n[t]}function Sf(n,e,t,r=!0){let i=e[se];if(rV(i,e,n,t),r){let o=K0(t,n),a=e[Xe],c=a.parentNode(n[rs]);c!==null&&mL(i,n[zn],a,e,c,o)}let s=e[Ca];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function vT(n,e){let t=Pl(n,e);return t!==void 0&&wf(t[se],t),t}function Pl(n,e){if(n.length<=ct)return;let t=ct+e,r=n[t];if(r){let i=r[ns];i!==null&&i!==n&&Tv(i,r),e>0&&(n[t-1][Hn]=r[Hn]);let s=_l(n,ct+e);gL(r[se],r);let o=s[Pr];o!==null&&o.detachView(s[se]),r[At]=null,r[Hn]=null,r[ce]&=-129}return r}function rV(n,e,t,r){let i=ct+r,s=t.length;r>0&&(t[i-1][Hn]=e),r<s-ct?(e[Hn]=t[i],Yy(t,ct+r,e)):(t.push(e),e[Hn]=null),e[At]=t;let o=e[ns];o!==null&&t!==o&&_T(o,e);let a=e[Pr];a!==null&&a.insertView(n),Nh(e),e[ce]|=128}function _T(n,e){let t=n[ao],r=e[At];if(Or(r))n[ce]|=2;else{let i=r[At][Tn];e[Tn]!==i&&(n[ce]|=2)}t===null?n[ao]=[e]:t.push(e)}var os=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[se];return Nl(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[ft]}set context(e){this._lView[ft]=e}get destroyed(){return co(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[At];if(cr(e)){let t=e[wl],r=t?t.indexOf(this):-1;r>-1&&(Pl(e,r),_l(t,r))}this._attachedToViewContainer=!1}wf(this._lView[se],this._lView)}onDestroy(e){d0(this._lView,e)}markForCheck(){Pv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){Nh(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,hT(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ea(this._lView),t=this._lView[ns];t!==null&&!e&&Tv(t,this._lView),eT(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let t=Ea(this._lView),r=this._lView[ns];r!==null&&!t&&_T(r,this._lView),Nh(this._lView)}};var _i=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=iV;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let s=Df(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new os(s)}}return n})();function iV(){return Ov(Ft(),ve())}function Ov(n,e){return n.type&4?new _i(e,n,Na(n,e)):null}function Ul(n,e,t,r,i){let s=n.data[e];if(s===null)s=sV(n,e,t,r,i),_S()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=fS();s.injectorIndex=o===null?-1:o.injectorIndex}return Da(s,!0),s}function sV(n,e,t,r,i){let s=v0(),o=_0(),a=o?s:s&&s.parent,c=n.data[e]=aV(n,a,t,e,r,i);return oV(n,c,s,o),c}function oV(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function aV(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return hS()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function cV(n){let e=n[i0]??[],r=n[At][Xe],i=[];for(let s of e)s.data[Rx]!==void 0?i.push(s):lV(s,r);n[i0]=i}function lV(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[kx];for(;t<i;){let s=r.nextSibling;Bx(e,r,!1),r=s,t++}}}var uV=()=>null,dV=()=>null;function Y0(n,e){return uV(n,e)}function bT(n,e,t){return dV(n,e,t)}var CT=class{},xf=class{},Z0=class{resolveComponentFactory(e){throw new K(917,!1)}},jl=class{static NULL=new Z0},Mn=class{},fr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>hV()}return n})();function hV(){let n=ve(),e=Ft(),t=qn(e.index,n);return(Or(t)?t:n)[Xe]}var wT=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var Qh={},J0=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Qh,r);return i!==Qh||t===Qh?i:this.parentInjector.get(e,t,r)}};function af(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Dh(i,a);else if(s==2){let c=a,u=e[++o];r=Dh(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function we(n,e=0){let t=ve();if(t===null)return _e(n,e);let r=Ft();return wx(r,t,Gt(n),e)}function IT(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a=o,c=null,u=null;for(let d of o)if(d.resolveHostDirectives!==null){[a,c,u]=d.resolveHostDirectives(o);break}gV(n,e,t,a,s,c,u)}s!==null&&r!==null&&fV(t,r,s)}function fV(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new K(-301,!1);r.push(e[i],s)}}function pV(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function gV(n,e,t,r,i,s,o){let a=r.length,c=null;for(let g=0;g<a;g++){let v=r[g];c===null&&Fr(v)&&(c=v,pV(n,t,g)),H0(tf(t,e),n,v.type)}CV(t,n.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let g=0;g<a;g++){let v=r[g];v.providersResolver&&v.providersResolver(v)}let u=!1,d=!1,p=Kx(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let v=r[g];if(t.mergedAttrs=Aa(t.mergedAttrs,v.hostAttrs),yV(n,t,e,p,v),bV(p,v,i),o!==null&&o.has(v)){let[O,M]=o.get(v);t.directiveToIndex.set(v.type,[p,O+t.directiveStart,M+t.directiveStart])}else(s===null||!s.has(v))&&t.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let x=v.type.prototype;!u&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(x.ngOnChanges||x.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}mV(n,t,s)}function mV(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))KS(0,e,i,r),KS(1,e,i,r),YS(e,r,!1);else{let s=t.get(i);QS(0,e,s,r),QS(1,e,s,r),YS(e,r,!0)}}}function KS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),ET(e,s)}}function QS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),ET(e,o)}}function ET(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function YS(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||wv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){o??=[],o.push(c,r[a+1]);break}}else if(t&&s.hasOwnProperty(c)){let u=s[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){o??=[],o.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function yV(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Ji(i.type,!0)),o=new fo(s,Fr(i),we,null);n.blueprint[r]=o,t[r]=o,vV(n,e,r,Kx(n,t,i.hostVars,yn),i)}function vV(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;_V(o)!=a&&o.push(a),o.push(t,r,s)}}function _V(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function bV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Fr(e)&&(t[""]=n)}}function CV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function DT(n,e,t,r,i,s,o,a){let c=e[se],u=c.consts,d=Wn(u,o),p=Ul(c,n,t,r,d);return s&&IT(c,e,p,Wn(u,a),i),p.mergedAttrs=Aa(p.mergedAttrs,p.attrs),p.attrs!==null&&af(p,p.attrs,!1),p.mergedAttrs!==null&&af(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function ST(n,e){fx(n,e),s0(e)&&n.queries.elementEnd(e)}function wV(n,e,t,r,i,s){let o=e.consts,a=Wn(o,i),c=Ul(e,n,t,r,a);if(c.mergedAttrs=Aa(c.mergedAttrs,c.attrs),s!=null){let u=Wn(o,s);c.localNames=[];for(let d=0;d<u.length;d+=2)c.localNames.push(u[d],-1)}return c.attrs!==null&&af(c,c.attrs,!1),c.mergedAttrs!==null&&af(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function IV(n,e,t){return n[e]=t}function jr(n,e,t){if(t===yn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function xT(n,e,t,r){let i=jr(n,e,t);return jr(n,e+1,r)||i}function Yh(n,e,t){return function r(i){let s=is(n)?qn(n.index,e):e;Pv(s,5);let o=e[ft],a=ZS(e,o,t,i),c=r.__ngNextListenerFn__;for(;c;)a=ZS(e,o,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function ZS(n,e,t,r){let i=re(null);try{return je(Re.OutputStart,e,t),t(r)!==!1}catch(s){return BL(n,s),!1}finally{je(Re.OutputEnd,e,t),re(i)}}function TT(n,e,t,r,i,s,o,a){let c=Il(n),u=!1,d=null;if(!r&&c&&(d=DV(e,t,s,n.index)),d!==null){let p=d.__ngLastListenerFn__||d;p.__ngNextListenerFn__=o,d.__ngLastListenerFn__=o,u=!0}else{let p=lr(n,t),g=r?r(p):p;BF(t,g,s,a);let v=i.listen(g,s,a);if(!EV(s)){let x=r?O=>r(Gn(O[n.index])):n.index;AT(x,e,t,s,a,v,!1)}}return u}function EV(n){return n.startsWith("animation")||n.startsWith("transition")}function DV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[wa],c=i[s+2];return a&&a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function AT(n,e,t,r,i,s,o){let a=e.firstCreatePass?f0(e):null,c=h0(t),u=c.length;c.push(i,s),a&&a.push(r,n,u,(u+1)*(o?-1:1))}function JS(n,e,t,r,i,s){let o=e[t],a=e[se],u=a.data[t].outputs[r],p=o[u].subscribe(s);AT(n.index,a,e,i,s,p,!0)}var X0=Symbol("BINDING");var cf=class extends jl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=mi(e);return new go(t,this.ngModule)}};function SV(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&bf.SignalBased)!==0};return i&&(s.transform=i),s})}function xV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function TV(n,e,t){let r=e instanceof at?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new J0(t,r):t}function AV(n){let e=n.get(Mn,null);if(e===null)throw new K(407,!1);let t=n.get(wT,null),r=n.get(pi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function kV(n,e){let t=kT(n);return Ux(e,t,t==="svg"?rS:t==="math"?iS:null)}function kT(n){return(n.selectors[0][0]||"div").toLowerCase()}var go=class extends xf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=SV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=xV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=sL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,s,o){je(Re.DynamicComponentStart);let a=re(null);try{let c=this.componentDef,u=RV(r,c,o,s),d=TV(c,i||this.ngModule,e),p=AV(d),g=p.rendererFactory.createRenderer(null,c),v=r?AL(g,r,c.encapsulation,d):kV(c,g),x=o?.some(XS)||s?.some($=>typeof $!="function"&&$.bindings.some(XS)),O=Ev(null,u,null,512|Wx(c),null,null,p,g,d,null,Px(v,d,!0));O[pt]=v,Lh(O);let M=null;try{let $=DT(pt,O,2,"#host",()=>u.directiveRegistry,!0,0);$x(g,v,$),ka(v,O),Rv(u,O,$),Fx(u,$,O),ST(u,$),t!==void 0&&NV($,this.ngContentSelectors,t),M=qn($.index,O),O[ft]=M[ft],Nv(u,O,null)}catch($){throw M!==null&&G0(M),G0(O),$}finally{je(Re.DynamicComponentEnd),Vh()}return new lf(this.componentType,O,!!x)}finally{re(a)}}};function RV(n,e,t,r){let i=n?["ng-version","21.0.5"]:oL(e.selectors[0]),s=null,o=null,a=0;if(t)for(let d of t)a+=d[X0].requiredVars,d.create&&(d.targetIdx=0,(s??=[]).push(d)),d.update&&(d.targetIdx=0,(o??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let p=r[d];if(typeof p!="function")for(let g of p.bindings){a+=g[X0].requiredVars;let v=d+1;g.create&&(g.targetIdx=v,(s??=[]).push(g)),g.update&&(g.targetIdx=v,(o??=[]).push(g))}}let c=[e];if(r)for(let d of r){let p=typeof d=="function"?d:d.type,g=Wy(p);c.push(g)}return Iv(0,null,MV(s,o),1,a,c,null,null,null,[i],null)}function MV(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function XS(n){let e=n[X0].kind;return e==="input"||e==="twoWay"}var lf=class extends CT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=El(t[se],pt),this.location=Na(this._tNode,t),this.instance=qn(this._tNode.index,t)[ft],this.hostView=this.changeDetectorRef=new os(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=Mv(r,i[se],i,e,t);this.previousInputValues.set(e,t);let o=qn(r.index,i);Pv(o,1)}get injector(){return new ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function NV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Br=(()=>{class n{static __NG_ELEMENT_ID__=PV}return n})();function PV(){let n=Ft();return MT(n,ve())}var OV=Br,RT=class extends OV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Na(this._hostTNode,this._hostLView)}get injector(){return new ho(this._hostTNode,this._hostLView)}get parentInjector(){let e=mv(this._hostTNode,this._hostLView);if(mx(e)){let t=Xh(e,this._hostLView),r=Jh(e),i=t[se].data[r+8];return new ho(i,t)}else return new ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ex(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Y0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,Ml(this._hostTNode,o)),a}createComponent(e,t,r,i,s,o,a){let c=e&&!fF(e),u;if(c)u=t;else{let M=t||{};u=M.index,r=M.injector,i=M.projectableNodes,s=M.environmentInjector||M.ngModuleRef,o=M.directives,a=M.bindings}let d=c?e:new go(mi(e)),p=r||this.parentInjector;if(!s&&d.ngModule==null){let $=(c?p:this.parentInjector).get(at,null);$&&(s=$)}let g=mi(d.componentType??{}),v=Y0(this._lContainer,g?.id??null),x=v?.firstChild??null,O=d.create(p,i,x,s,o,a);return this.insertImpl(O.hostView,u,Ml(this._hostTNode,v)),O}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(oS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[At],u=new RT(c,c[zn],c[At]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Sf(o,i,s,r),e.attachToViewContainerRef(),Yy(P0(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ex(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Pl(this._lContainer,t);r&&(_l(P0(this._lContainer),t),wf(r[se],r))}detach(e){let t=this._adjustIndex(e,-1),r=Pl(this._lContainer,t);return r&&_l(P0(this._lContainer),t)!=null?new os(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ex(n){return n[wl]}function P0(n){return n[wl]||(n[wl]=[])}function MT(n,e){let t,r=e[n.index];return cr(r)?t=r:(t=mT(r,e,null,n),e[n.index]=t,Dv(e,t)),LV(t,e,n,r),new RT(t,n,e)}function FV(n,e){let t=n[Xe],r=t.createComment(""),i=lr(e,n),s=t.parentNode(i);return sf(t,s,r,t.nextSibling(i),!1),r}var LV=jV,VV=()=>!1;function UV(n,e,t){return VV(n,e,t)}function jV(n,e,t,r){if(n[rs])return;let i;t.type&8?i=Gn(r):i=FV(e,t),n[rs]=i}var ev=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},tv=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Fv(e,t).matches!==null&&this.queries[t].setDirty()}},nv=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=KV(e):this.predicate=e}},rv=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},iv=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,BV(t,s)),this.matchTNodeWithReadOption(e,t,Kh(t,e,s,!1,!1))}else r===_i?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Kh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===mt||i===Br||i===_i&&t.type&4)this.addMatch(t.index,-2);else{let s=Kh(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function BV(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function $V(n,e){return n.type&11?Na(n,e):n.type&4?Ov(n,e):null}function HV(n,e,t,r){return t===-1?$V(e,n):t===-2?zV(n,e,r):Rl(n,n[se],t,e)}function zV(n,e,t){if(t===mt)return Na(e,n);if(t===_i)return Ov(e,n);if(t===Br)return MT(e,n)}function NT(n,e,t,r){let i=e[Pr].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let d=s[u];a.push(HV(e,d,o[c+1],t.metadata.read))}}i.matches=a}return i.matches}function sv(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=NT(n,e,i,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],d=e[-c];for(let p=ct;p<d.length;p++){let g=d[p];g[ns]===g[At]&&sv(g[se],g,u,r)}if(d[ao]!==null){let p=d[ao];for(let g=0;g<p.length;g++){let v=p[g];sv(v[se],v,u,r)}}}}}return r}function GV(n,e){return n[Pr].queries[e].queryList}function qV(n,e,t){let r=new nf((t&4)===4);return lS(n,e,r,r.destroy),(e[Pr]??=new tv).queries.push(new ev(r))-1}function WV(n,e,t,r){let i=gt();if(i.firstCreatePass){let s=Ft();QV(i,new nv(e,t,r),s.index),YV(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return qV(i,ve(),t)}function KV(n){return n.split(",").map(e=>e.trim())}function QV(n,e,t){n.queries===null&&(n.queries=new rv),n.queries.track(new iv(e,t))}function YV(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Fv(n,e){return n.queries.getByIndex(e)}function ZV(n,e){let t=n[se],r=Fv(t,e);return r.crossesNgTemplate?sv(t,n,e,[]):NT(t,n,r,e)}var mo=class{},Tf=class{};var uf=class extends mo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new cf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=qy(e);this._bootstrapComponents=Gx(s.bootstrap),this._r3Injector=E0(e,t,[{provide:mo,useValue:this},{provide:jl,useValue:this.componentFactoryResolver},...r],fi(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},df=class extends Tf{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new uf(this.moduleType,e,[])}};var Ol=class extends mo{injector;componentFactoryResolver=new cf(this);instance=null;constructor(e){super();let t=new Xs([...e.providers,{provide:mo,useValue:this},{provide:jl,useValue:this.componentFactoryResolver}],e.parent||ba(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Bl(n,e,t=null){return new Ol({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var JV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Xy(!1,t.type),i=r.length>0?Bl([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(_e(at))})}return n})();function Ct(n){return Ma(()=>{let e=PT(n),t=Y(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===yv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(JV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||hr.Emulated,styles:n.styles||cn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&as("NgStandalone"),OT(t);let r=n.dependencies;return t.directiveDefs=tx(r,XV),t.pipeDefs=tx(r,BD),t.id=nU(t),t})}function XV(n){return mi(n)||Wy(n)}function Pn(n){return Ma(()=>({type:n.type,bootstrap:n.bootstrap||cn,declarations:n.declarations||cn,imports:n.imports||cn,exports:n.exports||cn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function eU(n,e){if(n==null)return ts;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=bf.None,c=null),t[s]=[r,a,c],e[s]=o}return t}function tU(n){if(n==null)return ts;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function rt(n){return Ma(()=>{let e=PT(n);return OT(e),e})}function Lv(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function PT(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ts,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||cn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:eU(n.inputs,e),outputs:tU(n.outputs),debugInfo:null}}function OT(n){n.features?.forEach(e=>e(n))}function tx(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let s=e(i);s!==null&&r.push(s)}return r}:null}function nU(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function rU(n){return Object.getPrototypeOf(n.prototype).constructor}function $r(n){let e=rU(n.type),t=!0,r=[n];for(;e;){let i;if(Fr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=O0(n.inputs),o.declaredInputs=O0(n.declaredInputs),o.outputs=O0(n.outputs);let a=i.hostBindings;a&&cU(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&oU(n,c),u&&aU(n,u),iU(n,i),jD(n.outputs,i.outputs),Fr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===$r&&(t=!1)}}e=Object.getPrototypeOf(e)}sU(r)}function iU(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function sU(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Aa(i.hostAttrs,t=Aa(t,i.hostAttrs))}}function O0(n){return n===ts?{}:n===cn?[]:n}function oU(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function aU(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function cU(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function FT(n,e,t,r,i,s,o,a){if(t.firstCreatePass){n.mergedAttrs=Aa(n.mergedAttrs,n.attrs);let d=n.tView=Iv(2,n,i,s,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Da(n,!1);let c=uU(t,e,n,r);jh()&&Av(t,e,c,n),ka(c,e);let u=mT(c,e,c,n);e[r+pt]=u,Dv(e,u),UV(u,n,e)}function lU(n,e,t,r,i,s,o,a,c,u,d){let p=t+pt,g;return e.firstCreatePass?(g=Ul(e,p,4,o||null,a||null),g0()&&IT(e,n,g,Wn(e.consts,u),iT),fx(e,g)):g=e.data[p],FT(g,n,e,t,r,i,s,c),Il(g)&&Rv(e,n,g),u!=null&&Ef(n,g,d),g}function hf(n,e,t,r,i,s,o,a,c,u,d){let p=t+pt,g;if(e.firstCreatePass){if(g=Ul(e,p,4,o||null,a||null),u!=null){let v=Wn(e.consts,u);g.localNames=[];for(let x=0;x<v.length;x+=2)g.localNames.push(v[x],-1)}}else g=e.data[p];return FT(g,n,e,t,r,i,s,c),u!=null&&Ef(n,g,d),g}function Af(n,e,t,r,i,s,o,a){let c=ve(),u=gt(),d=Wn(u.consts,s);return lU(c,u,n,e,t,r,i,d,void 0,o,a),Af}var uU=dU;function dU(n,e,t,r){return Bh(!0),e[Xe].createComment("")}var Vv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function LT(n){return typeof n=="function"&&n[on]!==void 0}function Uv(n){return LT(n)&&typeof n.set=="function"}var jv=new q("");function cs(n){return!!n&&typeof n.then=="function"}function Bv(n){return!!n&&typeof n.subscribe=="function"}var VT=new q("");var $v=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=E(VT,{optional:!0})??[];injector=E(Qe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=kt(this.injector,i);if(cs(s))t.push(s);else if(Bv(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kf=new q("");function UT(){ry(()=>{let n="";throw new K(600,n)})}function jT(n){return n.isBoundToModule}var hU=10;var pr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(kn);afterRenderManager=E(xv);zonelessEnabled=E(xl);rootEffectScheduler=E($h);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ie;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=E(vi);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(t=>!t))}constructor(){E(vo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=E(at);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Qe.NULL){return this._injector.get(Oe).run(()=>{je(Re.BootstrapComponentStart);let o=t instanceof xf;if(!this._injector.get($v).done){let x="";throw new K(405,x)}let c;o?c=t:c=this._injector.get(jl).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=jT(c)?void 0:this._injector.get(mo),d=r||c.selector,p=c.create(i,[],d,u),g=p.location.nativeElement,v=p.injector.get(jv,null);return v?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),kl(this.components,p),v?.unregisterApplication(g)}),this._loadComponent(p),je(Re.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){je(Re.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Cf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw je(Re.ChangeDetectionEnd),new K(101,!1);let t=re(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,re(t),this.afterTick.next(),je(Re.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Mn,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<hU;){je(Re.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{je(Re.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Dl(i))continue;let s=r&&!this.zonelessEnabled?0:1;hT(i,s),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Dl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;kl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(kf,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>kl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function bo(n,e,t,r){let i=ve(),s=uo();if(jr(i,s,e)){let o=gt(),a=Uh();VL(a,i,n,e,t,r)}return bo}var NX=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var ov=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function F0(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function fU(n,e,t,r){let i,s,o=0,a=n.length-1,c=void 0;if(Array.isArray(e)){re(r);let u=e.length-1;for(re(null);o<=a&&o<=u;){let d=n.at(o),p=e[o],g=F0(o,d,o,p,t);if(g!==0){g<0&&n.updateValue(o,p),o++;continue}let v=n.at(a),x=e[u],O=F0(a,v,u,x,t);if(O!==0){O<0&&n.updateValue(a,x),a--,u--;continue}let M=t(o,d),$=t(a,v),ee=t(o,p);if(Object.is(ee,$)){let oe=t(u,x);Object.is(oe,M)?(n.swap(o,a),n.updateValue(a,x),u--,a--):n.move(a,o),n.updateValue(o,p),o++;continue}if(i??=new ff,s??=rx(n,o,a,t),av(n,i,o,ee))n.updateValue(o,p),o++,a++;else if(s.has(ee))i.set(M,n.detach(o)),a--;else{let oe=n.create(o,e[o]);n.attach(o,oe),o++,a++}}for(;o<=u;)nx(n,i,t,o,e[o]),o++}else if(e!=null){re(r);let u=e[Symbol.iterator]();re(null);let d=u.next();for(;!d.done&&o<=a;){let p=n.at(o),g=d.value,v=F0(o,p,o,g,t);if(v!==0)v<0&&n.updateValue(o,g),o++,d=u.next();else{i??=new ff,s??=rx(n,o,a,t);let x=t(o,g);if(av(n,i,o,x))n.updateValue(o,g),o++,a++,d=u.next();else if(!s.has(x))n.attach(o,n.create(o,g)),o++,a++,d=u.next();else{let O=t(o,p);i.set(O,n.detach(o)),a--}}}for(;!d.done;)nx(n,i,t,n.length,d.value),d=u.next()}for(;o<=a;)n.destroy(n.detach(a--));i?.forEach(u=>{n.destroy(u)})}function av(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function nx(n,e,t,r,i){if(av(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function rx(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var ff=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Z(n,e,t,r,i,s,o,a){as("NgControlFlow");let c=ve(),u=gt(),d=Wn(u.consts,s);return hf(c,u,n,e,t,r,i,d,256,o,a),Hv}function Hv(n,e,t,r,i,s,o,a){as("NgControlFlow");let c=ve(),u=gt(),d=Wn(u.consts,s);return hf(c,u,n,e,t,r,i,d,512,o,a),Hv}function J(n,e){as("NgControlFlow");let t=ve(),r=uo(),i=t[r]!==yn?t[r]:-1,s=i!==-1?pf(t,pt+i):void 0,o=0;if(jr(t,r,n)){let a=re(null);try{if(s!==void 0&&vT(s,o),n!==-1){let c=pt+n,u=pf(t,c),d=dv(t[se],c),p=bT(u,d,t),g=Df(t,d,e,{dehydratedView:p});Sf(u,g,o,Ml(d,p))}}finally{re(a)}}else if(s!==void 0){let a=yT(s,o);a!==void 0&&(a[ft]=e)}}var cv=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-ct}};function Oa(n,e){return e}var lv=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function it(n,e,t,r,i,s,o,a,c,u,d,p,g){as("NgControlFlow");let v=ve(),x=gt(),O=c!==void 0,M=ve(),$=a?o.bind(M[Tn][ft]):o,ee=new lv(O,$);M[pt+n]=ee,hf(v,x,n+1,e,t,r,i,Wn(x.consts,s),256),O&&hf(v,x,n+2,c,u,d,p,Wn(x.consts,g),512)}var uv=class extends ov{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-ct}at(e){return this.getLView(e)[ft].$implicit}attach(e,t){let r=t[Ca];this.needsIndexUpdate||=e!==this.length,Sf(this.lContainer,t,e,Ml(this.templateTNode,r)),pU(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,gU(this.lContainer,e),mU(this.lContainer,e)}create(e,t){let r=Y0(this.lContainer,this.templateTNode.tView.ssrId);return Df(this.hostLView,this.templateTNode,new cv(this.lContainer,t,e),{dehydratedView:r})}destroy(e){wf(e[se],e)}updateValue(e,t){this.getLView(e)[ft].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ft].$index=e}getLView(e){return yU(this.lContainer,e)}};function st(n){let e=re(null),t=Lr();try{let r=ve(),i=r[se],s=r[t],o=t+1,a=pf(r,o);if(s.liveCollection===void 0){let u=dv(i,o);s.liveCollection=new uv(a,r,u)}else s.liveCollection.reset();let c=s.liveCollection;if(fU(c,n,s.trackByFn,e),c.updateIndexes(),s.hasEmptyBlock){let u=uo(),d=c.length===0;if(jr(r,u,d)){let p=t+2,g=pf(r,p);if(d){let v=dv(i,p),x=bT(g,v,r),O=Df(r,v,void 0,{dehydratedView:x});Sf(g,O,0,Ml(v,x))}else i.firstUpdatePass&&cV(g),vT(g,0)}}}finally{re(e)}}function pf(n,e){return n[e]}function pU(n,e){if(n.length<=ct)return;let t=ct+e,r=n[t],i=r?r[oo]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let s=r[yi];fL(s,i),po.delete(r),i.detachedLeaveAnimationFns=void 0}}function gU(n,e){if(n.length<=ct)return;let t=ct+e,r=n[t],i=r?r[oo]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function mU(n,e){return Pl(n,e)}function yU(n,e){return yT(n,e)}function dv(n,e){return El(n,e)}function me(n,e,t){let r=ve(),i=uo();if(jr(r,i,e)){let s=gt(),o=Uh();rT(o,r,n,e,r[Xe],t)}return me}function hv(n,e,t,r,i){Mv(e,n,t,i?"class":"style",r)}function y(n,e,t,r){let i=ve(),s=i[se],o=n+pt,a=s.firstCreatePass?DT(o,i,2,e,iT,g0(),t,r):s.data[o];if(sT(a,i,n,e,BT),Il(a)){let c=i[se];Rv(c,i,a),Fx(c,a,i)}return r!=null&&Ef(i,a),y}function _(){let n=gt(),e=Ft(),t=oT(e);return n.firstCreatePass&&ST(n,t),m0(t)&&y0(),p0(),t.classesWithoutHost!=null&&_F(t)&&hv(n,t,ve(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&bF(t)&&hv(n,t,ve(),t.stylesWithoutHost,!1),_}function et(n,e,t,r){return y(n,e,t,r),_(),et}function Lt(n,e,t,r){let i=ve(),s=i[se],o=n+pt,a=s.firstCreatePass?wV(o,s,2,e,t,r):s.data[o];return sT(a,i,n,e,BT),r!=null&&Ef(i,a),Lt}function Jt(){let n=Ft(),e=oT(n);return m0(e)&&y0(),p0(),Jt}function Fa(n,e,t,r){return Lt(n,e,t,r),Jt(),Fa}var BT=(n,e,t,r,i)=>(Bh(!0),Ux(e[Xe],r,xS()));function Ie(){return ve()}var Tl=void 0;function vU(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var _U=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Tl,Tl,Tl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",vU],L0={};function On(n){let e=bU(n),t=ix(e);if(t)return t;let r=e.split("-")[0];if(t=ix(r),t)return t;if(r==="en")return _U;throw new K(701,!1)}function ix(n){return n in L0||(L0[n]=gi.ng&&gi.ng.common&&gi.ng.common.locales&&gi.ng.common.locales[n]),L0[n]}var yt=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(yt||{});function bU(n){return n.toLowerCase().replace(/_/g,"-")}var $l="en-US";var CU=$l;function $T(n){typeof n=="string"&&(CU=n.toLowerCase().replace(/_/g,"-"))}function U(n,e,t){let r=ve(),i=gt(),s=Ft();return HT(i,r,r[Xe],s,n,e,t),U}function La(n,e,t){let r=ve(),i=gt(),s=Ft();return(s.type&3||t)&&TT(s,i,r,t,r[Xe],n,e,Yh(s,r,e)),La}function HT(n,e,t,r,i,s,o){let a=!0,c=null;if((r.type&3||o)&&(c??=Yh(r,e,s),TT(r,n,e,o,t,i,s,c)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let p=0;p<d.length;p+=2){let g=d[p],v=d[p+1];c??=Yh(r,e,s),JS(r,e,g,v,i,c)}if(u&&u.length)for(let p of u)c??=Yh(r,e,s),JS(r,e,p,i,i,c)}}function P(n=1){return SS(n)}function Rf(n,e,t,r){return WV(n,e,t,r),Rf}function Mf(n){let e=ve(),t=gt(),r=C0();Fh(r+1);let i=Fv(t,r);if(n.dirty&&sS(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=ZV(e,r);n.reset(s,NF),n.notifyOnChanges()}return!0}return!1}function Nf(){return GV(ve(),C0())}function zv(n){let e=gS();return a0(e,pt+n)}function Gh(n,e){return n<<17|e<<2}function yo(n){return n>>17&32767}function wU(n){return(n&2)==2}function IU(n,e){return n&131071|e<<17}function fv(n){return n|2}function Ra(n){return(n&131068)>>2}function V0(n,e){return n&-131069|e<<2}function EU(n){return(n&1)===1}function pv(n){return n|1}function DU(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=yo(o),c=Ra(o);n[r]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||_a(p,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let g=yo(n[a+1]);n[r+1]=Gh(g,a),g!==0&&(n[g+1]=V0(n[g+1],r)),n[a+1]=IU(n[a+1],r)}else n[r+1]=Gh(a,0),a!==0&&(n[a+1]=V0(n[a+1],r)),a=r;else n[r+1]=Gh(c,0),a===0?a=r:n[c+1]=V0(n[c+1],r),c=r;u&&(n[r+1]=fv(n[r+1])),sx(n,d,r,!0),sx(n,d,r,!1),SU(e,d,n,r,s),o=Gh(a,c),s?e.classBindings=o:e.styleBindings=o}function SU(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&_a(s,e)>=0&&(t[r+1]=pv(t[r+1]))}function sx(n,e,t,r){let i=n[t+1],s=e===null,o=r?yo(i):Ra(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],u=n[o+1];xU(c,e)&&(a=!0,n[o+1]=r?pv(u):fv(u)),o=r?yo(u):Ra(u)}a&&(n[t+1]=r?fv(i):pv(i))}function xU(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?_a(n,e)>=0:!1}var dr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function TU(n){return n.substring(dr.key,dr.keyEnd)}function AU(n){return kU(n),zT(n,GT(n,0,dr.textEnd))}function zT(n,e){let t=dr.textEnd;return t===e?-1:(e=dr.keyEnd=RU(n,dr.key=e,t),GT(n,e,t))}function kU(n){dr.key=0,dr.keyEnd=0,dr.value=0,dr.valueEnd=0,dr.textEnd=n.length}function GT(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function RU(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Co(n,e,t){return qT(n,e,t,!1),Co}function Vt(n,e){return qT(n,e,null,!0),Vt}function Be(n){NU(UU,MU,n,!0)}function MU(n,e){for(let t=AU(e);t>=0;t=zT(e,t))Ah(n,TU(e),!0)}function qT(n,e,t,r){let i=ve(),s=gt(),o=Ph(2);if(s.firstUpdatePass&&KT(s,n,o,r),e!==yn&&jr(i,o,e)){let a=s.data[Lr()];QT(s,a,i,i[Xe],n,i[o+1]=BU(e,t),r,o)}}function NU(n,e,t,r){let i=gt(),s=Ph(2);i.firstUpdatePass&&KT(i,null,s,r);let o=ve();if(t!==yn&&jr(o,s,t)){let a=i.data[Lr()];if(YT(a,r)&&!WT(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Dh(c,t||"")),hv(i,a,o,t,r)}else jU(i,a,o,o[Xe],o[s+1],o[s+1]=VU(n,e,t),r,s)}}function WT(n,e){return e>=n.expandoStartIndex}function KT(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Lr()],o=WT(n,t);YT(s,r)&&e===null&&!o&&(e=!1),e=PU(i,s,e,r),DU(i,s,e,t,o,r)}}function PU(n,e,t,r){let i=wS(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=U0(null,n,e,t,r),t=Fl(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=U0(i,n,e,t,r),s===null){let c=OU(n,e,r);c!==void 0&&Array.isArray(c)&&(c=U0(null,n,e,c[1],r),c=Fl(c,e.attrs,r),FU(n,e,r,c))}else s=LU(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function OU(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ra(r)!==0)return n[yo(r)]}function FU(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[yo(i)]=r}function LU(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Fl(r,o,t)}return Fl(r,e.attrs,t)}function U0(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Fl(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Fl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Ah(n,o,t?!0:e[++s]))}return n===void 0?null:n}function VU(n,e,t){if(t==null||t==="")return cn;let r=[],i=Vl(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function UU(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Ah(n,r,t)}function jU(n,e,t,r,i,s,o,a){i===yn&&(i=cn);let c=0,u=0,d=0<i.length?i[0]:null,p=0<s.length?s[0]:null;for(;d!==null||p!==null;){let g=c<i.length?i[c+1]:void 0,v=u<s.length?s[u+1]:void 0,x=null,O;d===p?(c+=2,u+=2,g!==v&&(x=p,O=v)):p===null||d!==null&&d<p?(c+=2,x=d):(u+=2,x=p,O=v),x!==null&&QT(n,e,t,r,x,O,o,a),d=c<i.length?i[c]:null,p=u<s.length?s[u]:null}}function QT(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=EU(u)?ox(c,e,t,i,Ra(u),o):void 0;if(!gf(d)){gf(s)||wU(u)&&(s=ox(c,null,t,i,a,o));let p=o0(Lr(),t);TL(r,o,p,i,s)}}function ox(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,p=d===null,g=t[i+1];g===yn&&(g=p?cn:void 0);let v=p?kh(g,r):d===r?g:void 0;if(u&&!gf(v)&&(v=kh(c,r)),gf(v)&&(a=v,o))return a;let x=n[i+1];i=o?yo(x):Ra(x)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=kh(c,r))}return a}function gf(n){return n!==void 0}function BU(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=fi(Vl(n)))),n}function YT(n,e){return(n.flags&(e?8:16))!==0}function C(n,e=""){let t=ve(),r=gt(),i=n+pt,s=r.firstCreatePass?Ul(r,i,1,e,null):r.data[i],o=$U(r,t,s,e,n);t[i]=o,jh()&&Av(r,t,o,s),Da(s,!1)}var $U=(n,e,t,r,i)=>(Bh(!0),GF(e[Xe],r));function HU(n,e,t,r=""){return jr(n,uo(),t)?e+to(t)+r:yn}function zU(n,e,t,r,i,s=""){let o=yS(),a=xT(n,o,t,i);return Ph(2),a?e+to(t)+r+to(i)+s:yn}function de(n){return Ne("",n),de}function Ne(n,e,t){let r=ve(),i=HU(r,n,e,t);return i!==yn&&ZT(r,Lr(),i),Ne}function wo(n,e,t,r,i){let s=ve(),o=zU(s,n,e,t,r,i);return o!==yn&&ZT(s,Lr(),o),wo}function ZT(n,e,t){let r=o0(e,n);qF(n[Xe],r,t)}function lt(n,e,t){Uv(e)&&(e=e());let r=ve(),i=uo();if(jr(r,i,e)){let s=gt(),o=Uh();rT(o,r,n,e,r[Xe],t)}return lt}function vt(n,e){let t=Uv(n);return t&&n.set(e),t}function ut(n,e){let t=ve(),r=gt(),i=Ft();return HT(r,t,t[Xe],i,n,e),ut}function ax(n,e,t){let r=gt();r.firstCreatePass&&JT(e,r.data,r.blueprint,Fr(n),t)}function JT(n,e,t,r,i){if(n=Gt(n),Array.isArray(n))for(let s=0;s<n.length;s++)JT(n[s],e,t,r,i);else{let s=gt(),o=ve(),a=Ft(),c=Js(n)?n:Gt(n.provide),u=t0(n),d=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Js(n)||!n.multi){let v=new fo(u,i,we,null),x=B0(c,e,i?d:d+g,p);x===-1?(H0(tf(a,o),s,c),j0(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),o.push(v)):(t[x]=v,o[x]=v)}else{let v=B0(c,e,d+g,p),x=B0(c,e,d,d+g),O=v>=0&&t[v],M=x>=0&&t[x];if(i&&!M||!i&&!O){H0(tf(a,o),s,c);let $=WU(i?qU:GU,t.length,i,r,u,n);!i&&M&&(t[x].providerFactory=$),j0(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push($),o.push($)}else{let $=XT(t[i?x:v],u,!i&&r);j0(s,n,v>-1?v:x,$)}!i&&r&&M&&t[x].componentProviders++}}}function j0(n,e,t,r){let i=Js(e),s=eS(e);if(i||s){let c=(s?Gt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function XT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function B0(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function GU(n,e,t,r,i){return gv(this.multi,[])}function qU(n,e,t,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Rl(r,r[se],this.providerFactory.index,i);o=c.slice(0,a),gv(s,o);for(let u=a;u<c.length;u++)o.push(c[u])}else o=[],gv(s,o);return o}function gv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function WU(n,e,t,r,i,s){let o=new fo(n,t,we,null);return o.multi=[],o.index=e,o.componentProviders=0,XT(o,i,r&&!t),o}function Qn(n,e){return t=>{t.providersResolver=(r,i)=>ax(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>ax(r,i?i(e):e,!0))}}function KU(n,e){let t=n[e];return t===yn?void 0:t}function QU(n,e,t,r,i,s,o){let a=e+t;return xT(n,a,i,s)?IV(n,a+2,o?r.call(o,i,s):r(i,s)):KU(n,a+2)}function Hl(n,e){let t=gt(),r,i=n+pt;t.firstCreatePass?(r=YU(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=Ji(r.type,!0)),o,a=an(we);try{let c=ef(!1),u=s();return ef(c),c0(t,ve(),i,u),u}finally{an(a)}}function YU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function zl(n,e,t,r){let i=n+pt,s=ve(),o=a0(s,i);return ZU(s,i)?QU(s,mS(),e,o.transform,t,r,o):o.transform(t,r)}function ZU(n,e){return n[se].data[e].pure}var mf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Gv=(()=>{class n{compileModuleSync(t){return new df(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=qy(t),s=Gx(i.declarations).reduce((o,a)=>{let c=mi(a);return c&&o.push(new go(c)),o},[]);return new mf(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eA=(()=>{class n{applicationErrorHandler=E(kn);appRef=E(pr);taskService=E(vi);ngZone=E(Oe);zonelessEnabled=E(xl);tracing=E(vo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ml):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(k0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?S0:D0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ml+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,S0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tA(){return[{provide:pi,useExisting:eA},{provide:Oe,useClass:yl},{provide:xl,useValue:!0}]}function JU(){return typeof $localize<"u"&&$localize.locale||$l}var Gl=new q("",{factory:()=>E(Gl,{optional:!0,skipSelf:!0})||JU()});function xe(n,e){return jd(n,e?.equal)}var rA=Symbol("InputSignalNode#UNSET"),yj=Y(L({},Bd),{transformFn:void 0,applyValueToInputSignal(n,e){il(n,e)}});function iA(n,e){let t=Object.create(yj);t.value=n,t.transformFn=e?.transform;function r(){if(tl(t),t.value===rA){let i=null;throw new K(-950,i)}return t.value}return r[on]=t,r}var Of=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Ll(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function nA(n,e){return iA(n,e)}function vj(n){return iA(rA,n)}var sA=(nA.required=vj,nA);var qv=new q(""),_j=new q("");function ql(n){return!n.moduleRef}function bj(n){let e=ql(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Oe);return t.run(()=>{ql(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(kn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),ql(n)){let s=()=>e.destroy(),o=n.platformInjector.get(qv);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(qv);o.add(s),n.moduleRef.onDestroy(()=>{kl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return wj(r,t,()=>{let s=e.get(vi),o=s.add(),a=e.get($v);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Gl,$l);if($T(c||$l),!e.get(_j,!0))return ql(n)?e.get(pr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ql(n)){let d=e.get(pr);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return Cj?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void s.remove(o))})})}var Cj;function wj(n,e,t){try{let r=t();return cs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Pf=null;function Ij(n=[],e){return Qe.create({name:e,providers:[{provide:bl,useValue:"platform"},{provide:qv,useValue:new Set([()=>Pf=null])},...n]})}function Ej(n=[]){if(Pf)return Pf;let e=Ij(n);return Pf=e,UT(),Dj(e),e}function Dj(n){let e=n.get(yf,null);kt(n,()=>{e?.forEach(t=>t())})}function Wv(){return!1}var Xt=(()=>{class n{static __NG_ELEMENT_ID__=Sj}return n})();function Sj(n){return xj(Ft(),ve(),(n&16)===16)}function xj(n,e,t){if(is(n)&&!t){let r=qn(n.index,e);return new os(r,r)}else if(n.type&175){let r=e[Tn];return new os(r,e)}return null}function oA(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;je(Re.BootstrapApplicationStart);try{let s=i?.injector??Ej(r),o=[tA(),RS,...t||[]],a=new Ol({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return bj({r3Injector:a.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}finally{je(Re.BootstrapApplicationEnd)}}function vn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function aA(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function cA(n,e){let t=mi(n),r=e.elementInjector||ba();return new go(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var lA=null;function Yn(){return lA}function Kv(n){lA??=n}var Wl=class{},Ff=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>E(uA),providedIn:"platform"})}return n})();var uA=(()=>{class n extends Ff{_location;_history;_doc=E(Ye);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yn().getBaseHref(this._doc)}onPopState(t){let r=Yn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Yn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function fA(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function dA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ls(n){return n&&n[0]!=="?"?`?${n}`:n}var Va=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>E(Aj),providedIn:"root"})}return n})(),Tj=new q(""),Aj=(()=>{class n extends Va{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(Ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fA(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ls(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ls(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ls(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(_e(Ff),_e(Tj,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ua=(()=>{class n{_subject=new ie;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Mj(dA(hA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ls(r))}normalize(t){return n.stripTrailingSlash(Rj(this._basePath,hA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ls(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ls(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ls;static joinWithSlash=fA;static stripTrailingSlash=dA;static \u0275fac=function(r){return new(r||n)(_e(Va))};static \u0275prov=H({token:n,factory:()=>kj(),providedIn:"root"})}return n})();function kj(){return new Ua(_e(Va))}function Rj(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function hA(n){return n.replace(/\/index.html$/,"")}function Mj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var en=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(en||{}),qe=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(qe||{}),_n=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(_n||{}),Ii={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gA(n){return On(n)[yt.LocaleId]}function mA(n,e,t){let r=On(n),i=[r[yt.DayPeriodsFormat],r[yt.DayPeriodsStandalone]],s=Zn(i,e);return Zn(s,t)}function yA(n,e,t){let r=On(n),i=[r[yt.DaysFormat],r[yt.DaysStandalone]],s=Zn(i,e);return Zn(s,t)}function vA(n,e,t){let r=On(n),i=[r[yt.MonthsFormat],r[yt.MonthsStandalone]],s=Zn(i,e);return Zn(s,t)}function _A(n,e){let r=On(n)[yt.Eras];return Zn(r,e)}function Kl(n,e){let t=On(n);return Zn(t[yt.DateFormat],e)}function Ql(n,e){let t=On(n);return Zn(t[yt.TimeFormat],e)}function Yl(n,e){let r=On(n)[yt.DateTimeFormat];return Zn(r,e)}function Zl(n,e){let t=On(n),r=t[yt.NumberSymbols][e];if(typeof r>"u"){if(e===Ii.CurrencyDecimal)return t[yt.NumberSymbols][Ii.Decimal];if(e===Ii.CurrencyGroup)return t[yt.NumberSymbols][Ii.Group]}return r}function bA(n){if(!n[yt.ExtraData])throw new K(2303,!1)}function CA(n){let e=On(n);return bA(e),(e[yt.ExtraData][2]||[]).map(r=>typeof r=="string"?Qv(r):[Qv(r[0]),Qv(r[1])])}function wA(n,e,t){let r=On(n);bA(r);let i=[r[yt.ExtraData][0],r[yt.ExtraData][1]],s=Zn(i,e)||[];return Zn(s,t)||[]}function Zn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new K(2304,!1)}function Qv(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var Pj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Lf={},Oj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function IA(n,e,t,r){let i=zj(n);e=wi(t,e)||e;let o=[],a;for(;e;)if(a=Oj.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let c=i.getTimezoneOffset();r&&(c=DA(r,c),i=Hj(i,r));let u="";return o.forEach(d=>{let p=Bj(d);u+=p?p(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function $f(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function wi(n,e){let t=gA(n);if(Lf[t]??={},Lf[t][e])return Lf[t][e];let r="";switch(e){case"shortDate":r=Kl(n,_n.Short);break;case"mediumDate":r=Kl(n,_n.Medium);break;case"longDate":r=Kl(n,_n.Long);break;case"fullDate":r=Kl(n,_n.Full);break;case"shortTime":r=Ql(n,_n.Short);break;case"mediumTime":r=Ql(n,_n.Medium);break;case"longTime":r=Ql(n,_n.Long);break;case"fullTime":r=Ql(n,_n.Full);break;case"short":let i=wi(n,"shortTime"),s=wi(n,"shortDate");r=Vf(Yl(n,_n.Short),[i,s]);break;case"medium":let o=wi(n,"mediumTime"),a=wi(n,"mediumDate");r=Vf(Yl(n,_n.Medium),[o,a]);break;case"long":let c=wi(n,"longTime"),u=wi(n,"longDate");r=Vf(Yl(n,_n.Long),[c,u]);break;case"full":let d=wi(n,"fullTime"),p=wi(n,"fullDate");r=Vf(Yl(n,_n.Full),[d,p]);break}return r&&(Lf[t][e]=r),r}function Vf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function gr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Fj(n,e){return gr(n,3).substring(0,e)}function wt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=Lj(n,s);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return Fj(a,e);let c=Zl(o,Ii.MinusSign);return gr(a,e,c,r,i)}}function Lj(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new K(2301,!1)}}function Ze(n,e,t=en.Format,r=!1){return function(i,s){return Vj(i,s,n,e,t,r)}}function Vj(n,e,t,r,i,s){switch(t){case 2:return vA(e,i,r)[n.getMonth()];case 1:return yA(e,i,r)[n.getDay()];case 0:let o=n.getHours(),a=n.getMinutes();if(s){let u=CA(e),d=wA(e,i,r),p=u.findIndex(g=>{if(Array.isArray(g)){let[v,x]=g,O=o>=v.hours&&a>=v.minutes,M=o<x.hours||o===x.hours&&a<x.minutes;if(v.hours<x.hours){if(O&&M)return!0}else if(O||M)return!0}else if(g.hours===o&&g.minutes===a)return!0;return!1});if(p!==-1)return d[p]}return mA(e,i,r)[o<12?0:1];case 3:return _A(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new K(2302,!1)}}function Uf(n){return function(e,t,r){let i=-1*r,s=Zl(t,Ii.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+gr(o,2,s)+gr(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+gr(o,1,s);case 2:return"GMT"+(i>=0?"+":"")+gr(o,2,s)+":"+gr(Math.abs(i%60),2,s);case 3:return r===0?"Z":(i>=0?"+":"")+gr(o,2,s)+":"+gr(Math.abs(i%60),2,s);default:throw new K(2310,!1)}}}var Uj=0,Bf=4;function jj(n){let e=$f(n,Uj,1).getDay();return $f(n,0,1+(e<=Bf?Bf:Bf+7)-e)}function EA(n){let e=n.getDay(),t=e===0?-3:Bf-e;return $f(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Yv(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{let s=EA(t),o=jj(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return gr(i,n,Zl(r,Ii.MinusSign))}}function jf(n,e=!1){return function(t,r){let s=EA(t).getFullYear();return gr(s,n,Zl(r,Ii.MinusSign),e)}}var Zv={};function Bj(n){if(Zv[n])return Zv[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ze(3,qe.Abbreviated);break;case"GGGG":e=Ze(3,qe.Wide);break;case"GGGGG":e=Ze(3,qe.Narrow);break;case"y":e=wt(0,1,0,!1,!0);break;case"yy":e=wt(0,2,0,!0,!0);break;case"yyy":e=wt(0,3,0,!1,!0);break;case"yyyy":e=wt(0,4,0,!1,!0);break;case"Y":e=jf(1);break;case"YY":e=jf(2,!0);break;case"YYY":e=jf(3);break;case"YYYY":e=jf(4);break;case"M":case"L":e=wt(1,1,1);break;case"MM":case"LL":e=wt(1,2,1);break;case"MMM":e=Ze(2,qe.Abbreviated);break;case"MMMM":e=Ze(2,qe.Wide);break;case"MMMMM":e=Ze(2,qe.Narrow);break;case"LLL":e=Ze(2,qe.Abbreviated,en.Standalone);break;case"LLLL":e=Ze(2,qe.Wide,en.Standalone);break;case"LLLLL":e=Ze(2,qe.Narrow,en.Standalone);break;case"w":e=Yv(1);break;case"ww":e=Yv(2);break;case"W":e=Yv(1,!0);break;case"d":e=wt(2,1);break;case"dd":e=wt(2,2);break;case"c":case"cc":e=wt(7,1);break;case"ccc":e=Ze(1,qe.Abbreviated,en.Standalone);break;case"cccc":e=Ze(1,qe.Wide,en.Standalone);break;case"ccccc":e=Ze(1,qe.Narrow,en.Standalone);break;case"cccccc":e=Ze(1,qe.Short,en.Standalone);break;case"E":case"EE":case"EEE":e=Ze(1,qe.Abbreviated);break;case"EEEE":e=Ze(1,qe.Wide);break;case"EEEEE":e=Ze(1,qe.Narrow);break;case"EEEEEE":e=Ze(1,qe.Short);break;case"a":case"aa":case"aaa":e=Ze(0,qe.Abbreviated);break;case"aaaa":e=Ze(0,qe.Wide);break;case"aaaaa":e=Ze(0,qe.Narrow);break;case"b":case"bb":case"bbb":e=Ze(0,qe.Abbreviated,en.Standalone,!0);break;case"bbbb":e=Ze(0,qe.Wide,en.Standalone,!0);break;case"bbbbb":e=Ze(0,qe.Narrow,en.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ze(0,qe.Abbreviated,en.Format,!0);break;case"BBBB":e=Ze(0,qe.Wide,en.Format,!0);break;case"BBBBB":e=Ze(0,qe.Narrow,en.Format,!0);break;case"h":e=wt(3,1,-12);break;case"hh":e=wt(3,2,-12);break;case"H":e=wt(3,1);break;case"HH":e=wt(3,2);break;case"m":e=wt(4,1);break;case"mm":e=wt(4,2);break;case"s":e=wt(5,1);break;case"ss":e=wt(5,2);break;case"S":e=wt(6,1);break;case"SS":e=wt(6,2);break;case"SSS":e=wt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Uf(0);break;case"ZZZZZ":e=Uf(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Uf(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Uf(2);break;default:return null}return Zv[n]=e,e}function DA(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function $j(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function Hj(n,e,t){let i=n.getTimezoneOffset(),s=DA(e,i);return $j(n,-1*(s-i))}function zj(n){if(pA(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,o=1]=n.split("-").map(a=>+a);return $f(i,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Pj))return Gj(r)}let e=new Date(n);if(!pA(e))throw new K(2311,!1);return e}function Gj(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,c,u),e}function pA(n){return n instanceof Date&&!isNaN(n.valueOf())}function qj(n,e){return new K(2100,!1)}var Wj="mediumDate",SA=new q(""),xA=new q(""),Jl=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let o=r??this.defaultOptions?.dateFormat??Wj,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return IA(t,o,s||this.locale,a)}catch(o){throw qj(n,o.message)}}static \u0275fac=function(r){return new(r||n)(we(Gl,16),we(SA,24),we(xA,24))};static \u0275pipe=Lv({name:"date",type:n,pure:!0})}return n})();var bn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=mn({})}return n})();function Jv(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Xl=class{};var Xv="browser";function TA(n){return n===Xv}var eu=class{_doc;constructor(e){this._doc=e}manager},Hf=(()=>{class n extends eu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(_e(Ye))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),qf=new q(""),i_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this});let i=t.filter(o=>!(o instanceof Hf));this._plugins=i.slice().reverse();let s=t.find(o=>o instanceof Hf);s&&this._plugins.push(s)}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(_e(qf),_e(Oe))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),t_="ng-app-id";function AA(n){for(let e of n)e.remove()}function kA(n,e){let t=e.createElement("style");return t.textContent=n,t}function Qj(n,e,t,r){let i=n.head?.querySelectorAll(`style[${t_}="${e}"],link[${t_}="${e}"]`);if(i)for(let s of i)s.removeAttribute(t_),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function r_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var s_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,Qj(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,kA);r?.forEach(i=>this.addUsage(i,this.external,r_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(AA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])AA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,kA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,r_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(_e(Ye),_e(Pa),_e(vf,8),_e(Ci))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),n_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},o_=/%COMP%/g;var MA="%COMP%",Yj=`_nghost-${MA}`,Zj=`_ngcontent-${MA}`,Jj=!0,Xj=new q("",{factory:()=>Jj});function e4(n){return Zj.replace(o_,n)}function t4(n){return Yj.replace(o_,n)}function NA(n,e){return e.map(t=>t.replace(o_,n))}var a_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new tu(t,o,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Gf?i.applyToHost(t):i instanceof nu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case hr.Emulated:s=new Gf(c,u,r,this.appId,d,o,a,p,g);break;case hr.ShadowDom:return new zf(c,t,r,o,a,this.nonce,p,g,u);case hr.ExperimentalIsolatedShadowDom:return new zf(c,t,r,o,a,this.nonce,p,g);default:s=new nu(c,u,r,d,o,a,p,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(_e(i_),_e(s_),_e(Pa),_e(Xj),_e(Ye),_e(Oe),_e(vf),_e(vo,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),tu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(n_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(RA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(RA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=n_[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=n_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ur.DashCase|Ur.Important)?e.style.setProperty(t,r,i&Ur.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ur.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Yn().getGlobalEventTarget(this.doc,e),!e))throw new K(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function RA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var zf=class extends tu{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,s,o,a,c,u){super(e,i,s,a,c),this.hostEl=t,this.sharedStylesHost=u,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=NA(r.id,d);for(let g of d){let v=document.createElement("style");o&&v.setAttribute("nonce",o),v.textContent=g,this.shadowRoot.appendChild(v)}let p=r.getExternalStyles?.();if(p)for(let g of p){let v=r_(g,i);o&&v.setAttribute("nonce",o),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},nu=class extends tu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c,u){super(e,s,o,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?NA(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&po.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Gf=class extends nu{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c,u){let d=i+"-"+r.id;super(e,t,r,s,o,a,c,u,d),this.contentAttr=e4(d),this.hostAttr=t4(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Wf=class n extends Wl{supportsDOMEvents=!0;static makeCurrent(){Kv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=n4();return t==null?null:r4(t)}resetBaseElement(){ru=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jv(document.cookie,e)}},ru=null;function n4(){return ru=ru||document.head.querySelector("base"),ru?ru.getAttribute("href"):null}function r4(n){return new URL(n,document.baseURI).pathname}var i4=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),PA=["alt","control","meta","shift"],s4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},o4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},OA=(()=>{class n extends eu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yn().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),PA.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=s4[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),PA.forEach(o=>{if(o!==i){let a=o4[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(_e(Ye))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function c_(n,e,t){let r=L({rootComponent:n,platformRef:t?.platformRef},a4(e));return oA(r)}function a4(n){return{appProviders:[...h4,...n?.providers??[]],platformProviders:d4}}function c4(){Wf.makeCurrent()}function l4(){return new Rr}function u4(){return vv(document),document}var d4=[{provide:Ci,useValue:Xv},{provide:yf,useValue:c4,multi:!0},{provide:Ye,useFactory:u4}];var h4=[{provide:bl,useValue:"root"},{provide:Rr,useFactory:l4},{provide:qf,useClass:Hf,multi:!0},{provide:qf,useClass:OA,multi:!0},a_,s_,i_,{provide:Mn,useExisting:a_},{provide:Xl,useClass:i4},[]];var FA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(_e(Ye))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var he="primary",mu=Symbol("RouteTitle"),f_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function xo(n){return new f_(n)}function GA(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Xf(n){return new Promise((e,t)=>{n.pipe(di()).subscribe({next:r=>e(r),error:r=>t(r)})})}function p4(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hr(n[t],e[t]))return!1;return!0}function Hr(n,e){let t=n?p_(n):void 0,r=e?p_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!qA(n[i],e[i]))return!1;return!0}function p_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function qA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function WA(n){return n.length>0?n[n.length-1]:null}function Ao(n){return ol(n)?n:cs(n)?ge(Promise.resolve(n)):Q(n)}function KA(n){return ol(n)?Xf(n):Promise.resolve(n)}var g4={exact:YA,subset:ZA},QA={exact:m4,subset:y4,ignored:()=>!0};function LA(n,e,t){return g4[t.paths](n.root,e.root,t.matrixParams)&&QA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function m4(n,e){return Hr(n,e)}function YA(n,e,t){if(!Do(n.segments,e.segments)||!Yf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!YA(n.children[r],e.children[r],t))return!1;return!0}function y4(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qA(n[t],e[t]))}function ZA(n,e,t){return JA(n,e,e.segments,t)}function JA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Do(i,t)||e.hasChildren()||!Yf(i,t,r))}else if(n.segments.length===t.length){if(!Do(n.segments,t)||!Yf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!ZA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Do(n.segments,i)||!Yf(n.segments,i,r)||!n.children[he]?!1:JA(n.children[he],e,s,r)}}function Yf(n,e,t){return e.every((r,i)=>QA[t](n[i].parameters,r.parameters))}var yr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Le([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xo(this.queryParams),this._queryParamMap}toString(){return b4.serialize(this)}},Le=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zf(this)}},us=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=xo(this.parameters),this._parameterMap}toString(){return ek(this)}};function v4(n,e){return Do(n,e)&&n.every((t,r)=>Hr(t.parameters,e[r].parameters))}function Do(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function _4(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===he&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==he&&(t=t.concat(e(i,r)))}),t}var yu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new ds,providedIn:"root"})}return n})(),ds=class{parse(e){let t=new m_(e);return new yr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${iu(e.root,!0)}`,r=I4(e.queryParams),i=typeof e.fragment=="string"?`#${C4(e.fragment)}`:"";return`${t}${r}${i}`}},b4=new ds;function Zf(n){return n.segments.map(e=>ek(e)).join("/")}function iu(n,e){if(!n.hasChildren())return Zf(n);if(e){let t=n.children[he]?iu(n.children[he],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==he&&r.push(`${i}:${iu(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=_4(n,(r,i)=>i===he?[iu(n.children[he],!1)]:[`${i}:${iu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[he]!=null?`${Zf(n)}/${t[0]}`:`${Zf(n)}/(${t.join("//")})`}}function XA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kf(n){return XA(n).replace(/%3B/gi,";")}function C4(n){return encodeURI(n)}function g_(n){return XA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jf(n){return decodeURIComponent(n)}function VA(n){return Jf(n.replace(/\+/g,"%20"))}function ek(n){return`${g_(n.path)}${w4(n.parameters)}`}function w4(n){return Object.entries(n).map(([e,t])=>`;${g_(e)}=${g_(t)}`).join("")}function I4(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Kf(t)}=${Kf(i)}`).join("&"):`${Kf(t)}=${Kf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var E4=/^[^\/()?;#]+/;function l_(n){let e=n.match(E4);return e?e[0]:""}var D4=/^[^\/()?;=#]+/;function S4(n){let e=n.match(D4);return e?e[0]:""}var x4=/^[^=?&#]+/;function T4(n){let e=n.match(x4);return e?e[0]:""}var A4=/^[^&#]+/;function k4(n){let e=n.match(A4);return e?e[0]:""}var m_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new Le(e,t)),r}parseSegment(){let e=l_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new us(Jf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=S4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=l_(this.remaining);i&&(r=i,this.capture(r))}e[Jf(t)]=Jf(r)}parseQueryParam(e){let t=T4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=k4(this.remaining);o&&(r=o,this.capture(r))}let i=VA(t),s=VA(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=l_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=he);let o=this.parseChildren();t[s??he]=Object.keys(o).length===1&&o[he]?o[he]:new Le([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function tk(n){return n.segments.length>0?new Le([],{[he]:n}):n}function nk(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=nk(i);if(r===he&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Le(n.segments,e);return R4(t)}function R4(n){if(n.numberOfChildren===1&&n.children[he]){let e=n.children[he];return new Le(n.segments.concat(e.segments),e.children)}return n}function hs(n){return n instanceof yr}function rk(n,e,t=null,r=null,i=new ds){let s=ik(n);return sk(s,e,t,r,i)}function ik(n){let e;function t(s){let o={};for(let c of s.children){let u=t(c);o[c.outlet]=u}let a=new Le(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=tk(r);return e??i}function sk(n,e,t,r,i){let s=n;for(;s.parent;)s=s.parent;if(e.length===0)return u_(s,s,s,t,r,i);let o=M4(e);if(o.toRoot())return u_(s,s,new Le([],{}),t,r,i);let a=N4(o,s,n),c=a.processChildren?ou(a.segmentGroup,a.index,o.commands):ak(a.segmentGroup,a.index,o.commands);return u_(s,a.segmentGroup,c,t,r,i)}function ep(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function lu(n){return typeof n=="object"&&n!=null&&n.outlets}function UA(n,e,t){n||="\u0275";let r=new yr;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function u_(n,e,t,r,i,s){let o={};for(let[u,d]of Object.entries(r??{}))o[u]=Array.isArray(d)?d.map(p=>UA(u,p,s)):UA(u,d,s);let a;n===e?a=t:a=ok(n,e,t);let c=tk(nk(a));return new yr(c,o,i)}function ok(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=ok(s,e,t)}),new Le(n.segments,r)}var tp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ep(r[0]))throw new K(4003,!1);let i=r.find(lu);if(i&&i!==WA(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function M4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new tp(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new tp(t,e,r)}var Ba=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function N4(n,e,t){if(n.isAbsolute)return new Ba(e,!0,0);if(!t)return new Ba(e,!1,NaN);if(t.parent===null)return new Ba(t,!0,0);let r=ep(n.commands[0])?0:1,i=t.segments.length-1+r;return P4(t,i,n.numberOfDoubleDots)}function P4(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Ba(r,!1,i-s)}function O4(n){return lu(n[0])?n[0].outlets:{[he]:n}}function ak(n,e,t){if(n??=new Le([],{}),n.segments.length===0&&n.hasChildren())return ou(n,e,t);let r=F4(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Le(n.segments.slice(0,r.pathIndex),{});return s.children[he]=new Le(n.segments.slice(r.pathIndex),n.children),ou(s,0,i)}else return r.match&&i.length===0?new Le(n.segments,{}):r.match&&!n.hasChildren()?y_(n,e,t):r.match?ou(n,0,i):y_(n,e,t)}function ou(n,e,t){if(t.length===0)return new Le(n.segments,{});{let r=O4(t),i={};if(Object.keys(r).some(s=>s!==he)&&n.children[he]&&n.numberOfChildren===1&&n.children[he].segments.length===0){let s=ou(n.children[he],e,t);return new Le(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=ak(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Le(n.segments,i)}}function F4(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(lu(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!BA(c,u,o))return s;r+=2}else{if(!BA(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function y_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(lu(s)){let c=L4(s.outlets);return new Le(r,c)}if(i===0&&ep(t[0])){let c=n.segments[e];r.push(new us(c.path,jA(t[0]))),i++;continue}let o=lu(s)?s.outlets[he]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&ep(a)?(r.push(new us(o,jA(a))),i+=2):(r.push(new us(o,{})),i++)}return new Le(r,{})}function L4(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=y_(new Le([],{}),0,r))}),e}function jA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function BA(n,e,t){return n==t.path&&Hr(e,t.parameters)}var au="imperative",Ut=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ut||{}),Ln=class{id;url;constructor(e,t){this.id=e,this.url=t}},To=class extends Ln{type=Ut.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vr=class extends Ln{urlAfterRedirects;type=Ut.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},dn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(dn||{}),uu=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(uu||{}),zr=class extends Ln{reason;code;type=Ut.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ei=class extends Ln{reason;code;type=Ut.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ha=class extends Ln{error;target;type=Ut.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},du=class extends Ln{urlAfterRedirects;state;type=Ut.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},np=class extends Ln{urlAfterRedirects;state;type=Ut.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rp=class extends Ln{urlAfterRedirects;state;shouldActivate;type=Ut.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ip=class extends Ln{urlAfterRedirects;state;type=Ut.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sp=class extends Ln{urlAfterRedirects;state;type=Ut.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},op=class{route;type=Ut.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ap=class{route;type=Ut.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cp=class{snapshot;type=Ut.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lp=class{snapshot;type=Ut.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},up=class{snapshot;type=Ut.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dp=class{snapshot;type=Ut.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var hu=class{},za=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function V4(n){return!(n instanceof hu)&&!(n instanceof za)}function U4(n,e){return n.providers&&!n._injector&&(n._injector=Bl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function mr(n){return n.outlet||he}function j4(n,e){let t=n.filter(r=>mr(r)===e);return t.push(...n.filter(r=>mr(r)!==e)),t}function Wa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var hp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Wa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ka(this.rootInjector)}},Ka=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(_e(at))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=v_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=v_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=__(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return __(e,this._root).map(t=>t.value)}};function v_(n,e){if(n===e.value)return e;for(let t of e.children){let r=v_(n,t);if(r)return r}return null}function __(n,e){if(n===e.value)return[e];for(let t of e.children){let r=__(n,t);if(r.length)return r.unshift(e),r}return[]}var Fn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ja(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var fu=class extends fp{snapshot;constructor(e,t){super(e),this.snapshot=t,D_(this,e)}toString(){return this.snapshot.toString()}};function ck(n){let e=B4(n),t=new Pe([new us("",{})]),r=new Pe({}),i=new Pe({}),s=new Pe({}),o=new Pe(""),a=new Di(t,r,s,o,i,he,n,e.root);return a.snapshot=e.root,new fu(new Fn(a,[]),e)}function B4(n){let e={},t={},r={},s=new So([],e,r,"",t,he,n,null,{});return new pu("",new Fn(s,[]))}var Di=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(u=>u[mu]))??Q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>xo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>xo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&uk(i)&&(r.resolve[mu]=i.title),r}var So=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[mu]}constructor(e,t,r,i,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},pu=class extends fp{url;constructor(e,t){super(t),this.url=e,D_(this,t)}toString(){return lk(this._root)}};function D_(n,e){e.value._routerState=n,e.children.forEach(t=>D_(n,t))}function lk(n){let e=n.children.length>0?` { ${n.children.map(lk).join(", ")} } `:"";return`${n.value}${e}`}function d_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Hr(e.params,t.params)||n.paramsSubject.next(t.params),p4(e.url,t.url)||n.urlSubject.next(t.url),Hr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function b_(n,e){let t=Hr(n.params,e.params)&&v4(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||b_(n.parent,e.parent))}function uk(n){return typeof n.title=="string"||n.title===null}var dk=new q(""),vu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=he;activateEvents=new Ae;deactivateEvents=new Ae;attachEvents=new Ae;detachEvents=new Ae;routerOutletData=sA();parentContexts=E(Ka);location=E(Br);changeDetector=E(Xt);inputBinder=E(vp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new C_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Kn]})}return n})(),C_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Di?this.route:e===Ka?this.childContexts:e===dk?this.outletData:this.parent.get(e,t)}},vp=new q("");var S_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ct({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&et(0,"router-outlet")},dependencies:[vu],encapsulation:2})}return n})();function x_(n){let e=n.children&&n.children.map(x_),t=e?Y(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=S_),t}function $4(n,e,t){let r=gu(n,e._root,t?t._root:void 0);return new fu(r,e)}function gu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=H4(n,e,t);return new Fn(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>gu(n,a)),o}}let r=z4(e.value),i=e.children.map(s=>gu(n,s));return new Fn(r,i)}}function H4(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return gu(n,r,i);return gu(n,r)})}function z4(n){return new Di(new Pe(n.url),new Pe(n.params),new Pe(n.queryParams),new Pe(n.fragment),new Pe(n.data),n.outlet,n.component,n)}var Ga=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},hk="ngNavigationCancelingError";function gp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=hs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fk(!1,dn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function fk(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[hk]=!0,t.cancellationCode=e,t}function G4(n){return pk(n)&&hs(n.url)}function pk(n){return!!n&&n[hk]}var q4=(n,e,t,r)=>X(i=>(new w_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),w_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),d_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ja(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ja(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=ja(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ja(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new dp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new lp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(d_(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),d_(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},mp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$a=class{component;route;constructor(e,t){this.component=e,this.route=t}};function W4(n,e,t){let r=n._root,i=e?e._root:null;return su(r,i,t,[r.value])}function K4(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Qa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!jy(n)?n:e.get(n):r}function su(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ja(e);return n.children.forEach(o=>{Q4(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>cu(a,t.getContext(o),i)),i}function Q4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Y4(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new mp(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?su(n,e,a?a.children:null,r,i):su(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $a(a.outlet.component,o))}else o&&cu(e,a,i),i.canActivateChecks.push(new mp(r)),s.component?su(n,null,a?a.children:null,r,i):su(n,null,t,r,i);return i}function Y4(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Do(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Do(n.url,e.url)||!Hr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!b_(n,e)||!Hr(n.queryParams,e.queryParams);case"paramsChange":default:return!b_(n,e)}}function cu(n,e,t){let r=ja(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?cu(o,e.children.getContext(s),t):cu(o,null,t):cu(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new $a(e.outlet.component,i)):t.canDeactivateChecks.push(new $a(null,i)):t.canDeactivateChecks.push(new $a(null,i))}function _u(n){return typeof n=="function"}function Z4(n){return typeof n=="boolean"}function J4(n){return n&&_u(n.canLoad)}function X4(n){return n&&_u(n.canActivate)}function e3(n){return n&&_u(n.canActivateChild)}function t3(n){return n&&_u(n.canDeactivate)}function n3(n){return n&&_u(n.canMatch)}function gk(n){return n instanceof li||n?.name==="EmptyError"}var Qf=Symbol("INITIAL_VALUE");function qa(){return zt(n=>al(n.map(e=>e.pipe(Tt(1),Ks(Qf)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===Qf)return Qf;if(t===!1||r3(t))return t}return!0}),Sn(e=>e!==Qf),Tt(1)))}function r3(n){return hs(n)||n instanceof Ga}function mk(n){return n.aborted?Q(void 0).pipe(Tt(1)):new ue(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function yk(n){return or(mk(n))}function i3(n,e){return Ot(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?Q(Y(L({},t),{guardsResult:!0})):s3(o,r,i,n).pipe(Ot(a=>a&&Z4(a)?o3(r,s,n,e):Q(a)),X(a=>Y(L({},t),{guardsResult:a})))})}function s3(n,e,t,r){return ge(n).pipe(Ot(i=>d3(i.component,i.route,t,e,r)),di(i=>i!==!0,!0))}function o3(n,e,t,r){return ge(e).pipe(dl(i=>Zi(c3(i.route.parent,r),a3(i.route,r),u3(n,i.path,t),l3(n,i.route,t))),di(i=>i!==!0,!0))}function a3(n,e){return n!==null&&e&&e(new up(n)),Q(!0)}function c3(n,e){return n!==null&&e&&e(new cp(n)),Q(!0)}function l3(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(s=>cl(()=>{let o=Wa(e)??t,a=Qa(s,o),c=X4(a)?a.canActivate(e,n):kt(o,()=>a(e,n));return Ao(c).pipe(di())}));return Q(i).pipe(qa())}function u3(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>K4(o)).filter(o=>o!==null).map(o=>cl(()=>{let a=o.guards.map(c=>{let u=Wa(o.node)??t,d=Qa(c,u),p=e3(d)?d.canActivateChild(r,n):kt(u,()=>d(r,n));return Ao(p).pipe(di())});return Q(a).pipe(qa())}));return Q(s).pipe(qa())}function d3(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Q(!0);let o=s.map(a=>{let c=Wa(e)??i,u=Qa(a,c),d=t3(u)?u.canDeactivate(n,e,t,r):kt(c,()=>u(n,e,t,r));return Ao(d).pipe(di())});return Q(o).pipe(qa())}function h3(n,e,t,r,i){let s=e.canLoad;if(s===void 0||s.length===0)return Q(!0);let o=s.map(a=>{let c=Qa(a,n),u=J4(c)?c.canLoad(e,t):kt(n,()=>c(e,t)),d=Ao(u);return i?d.pipe(yk(i)):d});return Q(o).pipe(qa(),vk(r))}function vk(n){return fy(Ge(e=>{if(typeof e!="boolean")throw gp(n,e)}),X(e=>e===!0))}function f3(n,e,t,r,i){let s=e.canMatch;if(!s||s.length===0)return Q(!0);let o=s.map(a=>{let c=Qa(a,n),u=n3(c)?c.canMatch(e,t):kt(n,()=>c(e,t)),d=Ao(u);return i?d.pipe(yk(i)):d});return Q(o).pipe(qa(),vk(r))}var Eo=class _k extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,_k.prototype)}},I_=class bk extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,bk.prototype)}};function p3(n){throw new K(4e3,!1)}function g3(n){throw fk(!1,dn.GuardRejected)}var m3=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[he])throw p3(`${e.redirectTo}`);i=i.children[he]}}async applyRedirectCommands(e,t,r,i,s){let o=await y3(t,i,s);if(o instanceof yr)throw new I_(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new I_(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new yr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Le(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function y3(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:u,data:d,title:p}=e;return Xf(Ao(kt(t,()=>r({params:u,data:d,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:p}))))}var E_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function v3(n,e,t,r,i,s){let o=Ck(n,e,t);return o.matched?(r=U4(e,r),f3(r,e,t,i,s).pipe(X(a=>a===!0?o:L({},E_)))):Q(o)}function Ck(n,e,t){if(e.path==="**")return _3(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},E_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||GA)(t,n,e);if(!i)return L({},E_);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?L(L({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function _3(n){return{matched:!0,parameters:n.length>0?WA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function $A(n,e,t,r){return t.length>0&&w3(n,t,r)?{segmentGroup:new Le(e,C3(r,new Le(t,n.children))),slicedSegments:[]}:t.length===0&&I3(n,t,r)?{segmentGroup:new Le(n.segments,b3(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Le(n.segments,n.children),slicedSegments:t}}function b3(n,e,t,r){let i={};for(let s of t)if(_p(n,e,s)&&!r[mr(s)]){let o=new Le([],{});i[mr(s)]=o}return L(L({},r),i)}function C3(n,e){let t={};t[he]=e;for(let r of n)if(r.path===""&&mr(r)!==he){let i=new Le([],{});t[mr(r)]=i}return t}function w3(n,e,t){return t.some(r=>_p(n,e,r)&&mr(r)!==he)}function I3(n,e,t){return t.some(r=>_p(n,e,r))}function _p(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function E3(n,e,t){return e.length===0&&!n.children[t]}var D3=class{};async function S3(n,e,t,r,i,s,o="emptyOnly",a){return new T3(n,e,t,r,i,o,s,a).recognize()}var x3=31,T3=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new m3(this.urlSerializer,this.urlTree)}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}async recognize(){let e=$A(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new Fn(r,t),s=new pu("",i),o=rk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(e){let t=new So([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),he,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,he,t),rootSnapshot:t}}catch(r){if(r instanceof I_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Eo?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,s);let o=await this.processSegment(e,t,r,r.segments,i,!0,s);return o instanceof Fn?[o]:[]}async processChildren(e,t,r,i){let s=[];for(let c of Object.keys(r.children))c==="primary"?s.unshift(c):s.push(c);let o=[];for(let c of s){let u=r.children[c],d=j4(t,c),p=await this.processSegmentGroup(e,d,u,c,i);o.push(...p)}let a=wk(o);return A3(a),a}async processSegment(e,t,r,i,s,o,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a)}catch(u){if(u instanceof Eo||gk(u))continue;throw u}if(E3(r,i,s))return new D3;throw new Eo(r)}async processSegmentAgainstRoute(e,t,r,i,s,o,a,c){if(mr(r)!==o&&(o===he||!_p(i,s,r)))throw new Eo(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,s,o,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c);throw new Eo(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:g}=Ck(t,i,s);if(!c)throw new Eo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>x3&&(this.allowRedirects=!1));let v=new So(s,u,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,HA(i),mr(i),i.component??i._loadedComponent??null,i,zA(i)),x=pp(v,a,this.paramsInheritanceStrategy);if(v.params=Object.freeze(x.params),v.data=Object.freeze(x.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let O=await this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,v,e),M=await this.applyRedirects.lineralizeSegments(i,O);return this.processSegment(e,r,t,M.concat(g),o,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Xf(v3(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new Eo(t);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),u=r._loadedInjector??e,{parameters:d,consumedSegments:p,remainingSegments:g}=a,v=new So(p,d,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,HA(r),mr(r),r.component??r._loadedComponent??null,r,zA(r)),x=pp(v,o,this.paramsInheritanceStrategy);v.params=Object.freeze(x.params),v.data=Object.freeze(x.data);let{segmentGroup:O,slicedSegments:M}=$A(t,p,g,c);if(M.length===0&&O.hasChildren()){let oe=await this.processChildren(u,c,O,v);return new Fn(v,oe)}if(c.length===0&&M.length===0)return new Fn(v,[]);let $=mr(r)===s,ee=await this.processSegment(u,c,O,M,$?he:s,!0,v);return new Fn(v,ee instanceof Fn?[ee]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Xf(h3(e,t,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=s.routes,t._loadedInjector=s.injector,s}throw g3(t)}return{routes:[],injector:e}}};function A3(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}function k3(n){let e=n.value.routeConfig;return e&&e.path===""}function wk(n){let e=[],t=new Set;for(let r of n){if(!k3(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=wk(r.children);e.push(new Fn(r.value,i))}return e.filter(r=>!t.has(r))}function HA(n){return n.data||{}}function zA(n){return n.resolve||{}}var R3=new q("",{factory:()=>S3});function M3(n,e,t,r,i,s,o){let a=n.get(R3);return Ot(c=>Q(c).pipe(zt(u=>a(n,e,t,r,u.extractedUrl,i,s,o)),X(({state:u,tree:d})=>Y(L({},c),{targetSnapshot:u,urlAfterRedirects:d}))))}function N3(n,e){return Ot(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Ik(c))o.add(u);let a=0;return ge(o).pipe(dl(c=>s.has(c)?P3(c,r,n,e):(c.data=pp(c,c.parent,n).resolve,Q(void 0))),Ge(()=>a++),mh(1),Ot(c=>a===o.size?Q(t):Zt))})}function Ik(n){let e=n.children.map(t=>Ik(t)).flat();return[n,...e]}function P3(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!uk(i)&&(s[mu]=i.title),cl(()=>(n.data=pp(n,n.parent,t).resolve,O3(s,n,e,r).pipe(X(o=>(n._resolvedData=o,n.data=L(L({},n.data),o),null)))))}function O3(n,e,t,r){let i=p_(n);if(i.length===0)return Q({});let s={};return ge(i).pipe(Ot(o=>F3(n[o],e,t,r).pipe(di(),Ge(a=>{if(a instanceof Ga)throw gp(new ds,a);s[o]=a}))),mh(1),X(()=>s),ui(o=>gk(o)?Zt:$n(o)))}function F3(n,e,t,r){let i=Wa(e)??r,s=Qa(n,i),o=s.resolve?s.resolve(e,t):kt(i,()=>s(e,t));return Ao(o)}function h_(n){return zt(e=>{let t=n(e);return t?ge(t).pipe(X(()=>e)):Q(e)})}var T_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===he);return r}getResolvedTitleForRoute(t){return t.data[mu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>E(Ek),providedIn:"root"})}return n})(),Ek=(()=>{class n extends T_{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(_e(FA))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ya=new q("",{factory:()=>({})}),bu=new q(""),Dk=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(Gv);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await KA(kt(t,()=>r.loadComponent())),o=await Tk(xk(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await Sk(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function Sk(n,e,t,r){let i=await KA(kt(t,()=>n.loadChildren())),s=await Tk(xk(i)),o;s instanceof Tf||Array.isArray(s)?o=s:o=await e.compileModuleAsync(s),r&&r(n);let a,c,u=!1;return Array.isArray(o)?(c=o,u=!0):(a=o.create(t).injector,c=a.get(bu,[],{optional:!0,self:!0}).flat()),{routes:c.map(x_),injector:a}}function L3(n){return n&&typeof n=="object"&&"default"in n}function xk(n){return L3(n)?n.default:n}async function Tk(n){return n}var bp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>E(V3),providedIn:"root"})}return n})(),V3=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ak=new q("");var U3=()=>{},kk=new q(""),Rk=(()=>{class n{currentNavigation=te(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=te(null);events=new ie;transitionAbortWithErrorSubject=new ie;configLoader=E(Dk);environmentInjector=E(at);destroyRef=E(ln);urlSerializer=E(yu);rootContexts=E(Ka);location=E(Ua);inputBindingEnabled=E(vp,{optional:!0})!==null;titleStrategy=E(T_);options=E(Ya,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(bp);createViewTransition=E(Ak,{optional:!0});navigationErrorHandler=E(kk,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new op(i)),r=i=>this.events.next(new ap(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;bt(()=>{this.transitions?.next(Y(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Pe(null),this.transitions.pipe(Sn(r=>r!==null),zt(r=>{let i=!1,s=new AbortController;return Q(r).pipe(zt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",dn.SupersededByNewNavigation),Zt;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:a?Y(L({},a),{previousNavigation:null}):null,abort:()=>s.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new Ei(o.id,this.urlSerializer.serialize(o.rawUrl),"",uu.IgnoredSameUrlNavigation)),o.resolve(!1),Zt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Q(o).pipe(zt(d=>(this.events.next(new To(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Zt:Promise.resolve(d))),M3(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),Ge(d=>{r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(g=>(g.finalUrl=d.urlAfterRedirects,g));let p=new du(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:d,extractedUrl:p,source:g,restoredState:v,extras:x}=o,O=new To(d,this.urlSerializer.serialize(p),g,v);this.events.next(O);let M=ck(this.rootComponentType).snapshot;return this.currentTransition=r=Y(L({},o),{targetSnapshot:M,urlAfterRedirects:p,extras:Y(L({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update($=>($.finalUrl=p,$)),Q(r)}else return this.events.next(new Ei(o.id,this.urlSerializer.serialize(o.extractedUrl),"",uu.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Zt}),Ge(o=>{let a=new np(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),X(o=>(this.currentTransition=r=Y(L({},o),{guards:W4(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),i3(this.environmentInjector,o=>this.events.next(o)),Ge(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw gp(this.urlSerializer,o.guardsResult);let a=new rp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Sn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",dn.GuardRejected),!1)),h_(o=>{if(o.guards.canActivateChecks.length!==0)return Q(o).pipe(Ge(a=>{let c=new ip(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),zt(a=>{let c=!1;return Q(a).pipe(N3(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",dn.NoDataFromResolver)}}))}),Ge(a=>{let c=new sp(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),h_(o=>{let a=u=>{let d=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let p=Wa(u)??this.environmentInjector;d.push(this.configLoader.loadComponent(p,u.routeConfig).then(g=>{u.component=g}))}for(let p of u.children)d.push(...a(p));return d},c=a(o.targetSnapshot.root);return c.length===0?Q(o):ge(Promise.all(c).then(()=>o))}),h_(()=>this.afterPreactivation()),zt(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?ge(c).pipe(X(()=>r)):Q(r)}),X(o=>{let a=$4(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Y(L({},o),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),Ge(()=>{this.events.next(new hu)}),q4(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Tt(1),or(mk(s.signal).pipe(Sn(()=>!i&&!r.targetRouterState),Ge(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",dn.Aborted)}))),Ge({next:o=>{i=!0,this.currentNavigation.update(a=>(a.abort=U3,a)),this.lastSuccessfulNavigation.set(bt(this.currentNavigation)),this.events.next(new vr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),or(this.transitionAbortWithErrorSubject.pipe(Ge(o=>{throw o}))),Ws(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",dn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ui(o=>{if(this.destroyed)return r.resolve(!1),Zt;if(i=!0,pk(o))this.events.next(new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),G4(o)?this.events.next(new za(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ha(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=kt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Ga){let{message:u,cancellationCode:d}=gp(this.urlSerializer,c);this.events.next(new zr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new za(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Zt}))}))}cancelNavigationTransition(t,r,i){let s=new zr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=bt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j3(n){return n!==au}var Mk=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>E(B3),providedIn:"root"})}return n})(),yp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},B3=(()=>{class n extends yp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=bi(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A_=(()=>{class n{urlSerializer=E(yu);options=E(Ya,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=E(Ua);urlHandlingStrategy=E(bp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new yr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof yr?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=ck(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>E(Nk),providedIn:"root"})}return n})(),Nk=(()=>{class n extends A_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof To?this.updateStateMemento():t instanceof Ei?this.commitTransition(r):t instanceof du?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof hu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zr&&t.code!==dn.SupersededByNewNavigation&&t.code!==dn.Redirect?this.restoreHistory(r):t instanceof Ha?this.restoreHistory(r,!0):t instanceof vr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,c=L(L({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=L(L({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bi(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function k_(n,e){n.events.pipe(Sn(t=>t instanceof vr||t instanceof zr||t instanceof Ha||t instanceof Ei),X(t=>t instanceof vr||t instanceof Ei?0:(t instanceof zr?t.code===dn.Redirect||t.code===dn.SupersededByNewNavigation:!1)?2:1),Sn(t=>t!==2),Tt(1)).subscribe(()=>{e()})}var $3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},H3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Za=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(Vv);stateManager=E(A_);options=E(Ya,{optional:!0})||{};pendingTasks=E(vi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(Rk);urlSerializer=E(yu);location=E(Ua);urlHandlingStrategy=E(bp);injector=E(at);_events=new ie;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(Mk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(bu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(vp,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ze;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=bt(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof zr&&r.code!==dn.Redirect&&r.code!==dn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof vr)this.navigated=!0;else if(r instanceof za){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||j3(i.source)},o);this.scheduleNavigation(a,au,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}V4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),au,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=L({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s).catch(c=>{this.disposed||this.injector.get(kn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return bt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(x_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=L(L({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=ik(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return sk(p,t,d,u??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=hs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,au,null,r)}navigate(t,r={skipLocationChange:!1}){return z3(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(va(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},$3):r===!1?i=L({},H3):i=r,hs(t))return LA(this.currentUrlTree,t,i);let s=this.parseUrl(t);return LA(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((p,g)=>{a=p,c=g});let d=this.pendingTasks.add();return k_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function z3(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new K(4008,!1)}var Ja=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=te(null);get href(){return bt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ie;applicationErrorHandler=E(kn);options=E(Ya,{optional:!0});constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.reactiveHref.set(E(new Of("href"),{optional:!0}));let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof vr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(hs(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:hs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(we(Za),we(Di),Ll("tabindex"),we(fr),we(mt),we(Va))};static \u0275dir=rt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&U("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&bo("href",i.reactiveHref(),Cv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",vn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",vn],replaceUrl:[2,"replaceUrl","replaceUrl",vn],routerLink:"routerLink"},features:[Kn]})}return n})(),R_=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ae;link=E(Ja,{optional:!0});constructor(t,r,i,s){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.routerEventsSubscription=t.events.subscribe(o=>{o instanceof vr&&this.update()})}ngAfterContentInit(){Q(this.links.changes,Q(null)).pipe(Yi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ge(t).pipe(Yi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=q3(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(we(Za),we(mt),we(fr),we(Xt))};static \u0275dir=rt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&Rf(s,Ja,5),r&2){let o;Mf(o=Nf())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Kn]})}return n})();function q3(n){return!!n.paths}var W3=new q("");function M_(n,...e){return xn([{provide:bu,multi:!0,useValue:n},[],{provide:Di,useFactory:K3},{provide:kf,multi:!0,useFactory:Q3},e.map(t=>t.\u0275providers)])}function K3(){return E(Za).routerState.root}function Q3(){let n=E(Qe);return e=>{let t=n.get(pr);if(e!==t.components[0])return;let r=n.get(Za),i=n.get(Y3);n.get(Z3)===1&&r.initialNavigation(),n.get(J3,null,{optional:!0})?.setUpPreloading(),n.get(W3,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Y3=new q("",{factory:()=>new ie}),Z3=new q("",{factory:()=>1});var J3=new q("");var Pk=()=>{};var Lk=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},X3=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Cp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4,g=(a&15)<<2|u>>6,v=u&63;c||(v=64,o||(g=64)),r.push(t[d],t[p],t[g],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Lk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):X3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw new P_;let g=s<<2|a>>4;if(r.push(g),u!==64){let v=a<<4&240|u>>2;if(r.push(v),p!==64){let x=u<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},P_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},eB=function(n){let e=Lk(n);return Cp.encodeByteArray(e,!0)},wu=function(n){return eB(n).replace(/\./g,"")},wp=function(n){try{return Cp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function F_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var tB=()=>F_().__FIREBASE_DEFAULTS__,nB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&wp(n[1]);return e&&JSON.parse(e)},Ip=()=>{try{return Pk()||tB()||nB()||rB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},L_=n=>{var e,t;return(t=(e=Ip())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Vk=n=>{let e=L_(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},V_=()=>{var n;return(n=Ip())===null||n===void 0?void 0:n.config},U_=n=>{var e;return(e=Ip())===null||e===void 0?void 0:e[`_${n}`]};var ko=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function fs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ep(n){return(await fetch(n,{credentials:"include"})).ok}function Uk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wu(JSON.stringify(t)),wu(JSON.stringify(o)),""].join(".")}var Cu={};function iB(){let n={prod:[],emulator:[]};for(let e of Object.keys(Cu))Cu[e]?n.emulator.push(e):n.prod.push(e);return n}function sB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var Ok=!1;function Dp(n,e){if(typeof window>"u"||typeof document>"u"||!fs(window.location.host)||Cu[n]===e||Cu[n]||Ok)return;Cu[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",s=iB().prod.length>0;function o(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Ok=!0,o()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=sB(r),v=t("text"),x=document.getElementById(v)||document.createElement("span"),O=t("learnmore"),M=document.getElementById(O)||document.createElement("a"),$=t("preprendIcon"),ee=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let oe=g.element;a(oe),d(M,O);let Ve=u();c(ee,$),oe.append(ee,x,M,Ve),document.body.appendChild(oe)}s?(x.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function oB(){var n;let e=(n=Ip())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $k(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Hk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zk(){let n=jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Gk(){return!oB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Iu(){try{return typeof indexedDB=="object"}catch{return!1}}function qk(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var aB="FirebaseError",Vn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=aB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_r.prototype.create)}},_r=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?cB(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Vn(i,a,r)}};function cB(n,e){return n.replace(lB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var lB=/\{\$([^}]+)}/g;function Wk(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(Fk(s)&&Fk(o)){if(!Gr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Fk(n){return n!==null&&typeof n=="object"}function Eu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Kk(n,e){let t=new O_(n,e);return t.subscribe.bind(t)}var O_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");uB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=N_),i.error===void 0&&(i.error=N_),i.complete===void 0&&(i.complete=N_);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function uB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function N_(){}var jce=14400*1e3;function Rt(n){return n&&n._delegate?n._delegate:n}var hn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ro="[DEFAULT]";var j_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ko;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hB(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function dB(n){return n===Ro?void 0:n}function hB(n){return n.instantiationMode==="EAGER"}var Sp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new j_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var fB=[],De=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(De||{}),pB={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},gB=De.INFO,mB={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},yB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=mB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},qr=class{constructor(e){this.name=e,this._logLevel=gB,this._logHandler=yB,this._userLogHandler=null,fB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}};var vB=(n,e)=>e.some(t=>n instanceof t),Qk,Yk;function _B(){return Qk||(Qk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bB(){return Yk||(Yk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Zk=new WeakMap,$_=new WeakMap,Jk=new WeakMap,B_=new WeakMap,z_=new WeakMap;function CB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Wr(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Zk.set(t,n)}).catch(()=>{}),z_.set(e,n),e}function wB(n){if($_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});$_.set(n,e)}var H_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Jk.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Xk(n){H_=n(H_)}function IB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(xp(this),e,...t);return Jk.set(r,e.sort?e.sort():[e]),Wr(r)}:bB().includes(n)?function(...e){return n.apply(xp(this),e),Wr(Zk.get(this))}:function(...e){return Wr(n.apply(xp(this),e))}}function EB(n){return typeof n=="function"?IB(n):(n instanceof IDBTransaction&&wB(n),vB(n,_B())?new Proxy(n,H_):n)}function Wr(n){if(n instanceof IDBRequest)return CB(n);if(B_.has(n))return B_.get(n);let e=EB(n);return e!==n&&(B_.set(n,e),z_.set(e,n)),e}var xp=n=>z_.get(n);function t1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=Wr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Wr(o.result),c.oldVersion,c.newVersion,Wr(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var DB=["get","getKey","getAll","getAllKeys","count"],SB=["put","add","delete","clear"],G_=new Map;function e1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(G_.get(e))return G_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=SB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DB.includes(t)))return;let s=async function(o,...a){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),i&&c.done]))[0]};return G_.set(e,s),s}Xk(n=>Y(L({},n),{get:(e,t,r)=>e1(e,t)||n.get(e,t,r),has:(e,t)=>!!e1(e,t)||n.has(e,t)}));var W_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function xB(n){let e=n.getComponent();return e?.type==="VERSION"}var K_="@firebase/app",n1="0.13.2";var Si=new qr("@firebase/app"),TB="@firebase/app-compat",AB="@firebase/analytics-compat",kB="@firebase/analytics",RB="@firebase/app-check-compat",MB="@firebase/app-check",NB="@firebase/auth",PB="@firebase/auth-compat",OB="@firebase/database",FB="@firebase/data-connect",LB="@firebase/database-compat",VB="@firebase/functions",UB="@firebase/functions-compat",jB="@firebase/installations",BB="@firebase/installations-compat",$B="@firebase/messaging",HB="@firebase/messaging-compat",zB="@firebase/performance",GB="@firebase/performance-compat",qB="@firebase/remote-config",WB="@firebase/remote-config-compat",KB="@firebase/storage",QB="@firebase/storage-compat",YB="@firebase/firestore",ZB="@firebase/ai",JB="@firebase/firestore-compat",XB="firebase",e5="11.10.0";var Q_="[DEFAULT]",t5={[K_]:"fire-core",[TB]:"fire-core-compat",[kB]:"fire-analytics",[AB]:"fire-analytics-compat",[MB]:"fire-app-check",[RB]:"fire-app-check-compat",[NB]:"fire-auth",[PB]:"fire-auth-compat",[OB]:"fire-rtdb",[FB]:"fire-data-connect",[LB]:"fire-rtdb-compat",[VB]:"fire-fn",[UB]:"fire-fn-compat",[jB]:"fire-iid",[BB]:"fire-iid-compat",[$B]:"fire-fcm",[HB]:"fire-fcm-compat",[zB]:"fire-perf",[GB]:"fire-perf-compat",[qB]:"fire-rc",[WB]:"fire-rc-compat",[KB]:"fire-gcs",[QB]:"fire-gcs-compat",[YB]:"fire-fst",[JB]:"fire-fst-compat",[ZB]:"fire-vertex","fire-js":"fire-js",[XB]:"fire-js-all"};var Du=new Map,n5=new Map,Y_=new Map;function r1(n,e){try{n.container.addComponent(e)}catch(t){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function br(n){let e=n.name;if(Y_.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Y_.set(e,n);for(let t of Du.values())r1(t,n);for(let t of n5.values())r1(t,n);return!0}function Xa(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jn(n){return n==null?!1:n.settings!==void 0}var r5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new _r("app","Firebase",r5);var Z_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}};var gs=e5;function eb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Q_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ps.create("bad-app-name",{appName:String(i)});if(t||(t=V_()),!t)throw ps.create("no-options");let s=Du.get(i);if(s){if(Gr(t,s.options)&&Gr(r,s.config))return s;throw ps.create("duplicate-app",{appName:i})}let o=new Sp(i);for(let c of Y_.values())o.addComponent(c);let a=new Z_(t,r,o);return Du.set(i,a),a}function Mo(n=Q_){let e=Du.get(n);if(!e&&n===Q_&&V_())return eb();if(!e)throw ps.create("no-app",{appName:n});return e}function Tp(){return Array.from(Du.values())}function dt(n,e,t){var r;let i=(r=t5[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(a.join(" "));return}br(new hn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var i5="firebase-heartbeat-database",s5=1,Su="firebase-heartbeat-store",q_=null;function a1(){return q_||(q_=t1(i5,s5,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Su)}catch(t){console.warn(t)}}}}).catch(n=>{throw ps.create("idb-open",{originalErrorMessage:n.message})})),q_}async function o5(n){try{let t=(await a1()).transaction(Su),r=await t.objectStore(Su).get(c1(n));return await t.done,r}catch(e){if(e instanceof Vn)Si.warn(e.message);else{let t=ps.create("idb-get",{originalErrorMessage:e?.message});Si.warn(t.message)}}}async function i1(n,e){try{let r=(await a1()).transaction(Su,"readwrite");await r.objectStore(Su).put(e,c1(n)),await r.done}catch(t){if(t instanceof Vn)Si.warn(t.message);else{let r=ps.create("idb-set",{originalErrorMessage:t?.message});Si.warn(r.message)}}}function c1(n){return`${n.name}!${n.options.appId}`}var a5=1024,c5=30,J_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new X_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>c5){let o=u5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=s1(),{heartbeatsToSend:r,unsentEntries:i}=l5(this._heartbeatsCache.heartbeats),s=wu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Si.warn(t),""}}};function s1(){return new Date().toISOString().substring(0,10)}function l5(n,e=a5){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),o1(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),o1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var X_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Iu()?qk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await o5(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return i1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return i1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function o1(n){return wu(JSON.stringify({version:2,heartbeats:n})).length}function u5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function d5(n){br(new hn("platform-logger",e=>new W_(e),"PRIVATE")),br(new hn("heartbeat",e=>new J_(e),"PRIVATE")),dt(K_,n1,n),dt(K_,n1,"esm2017"),dt("fire-js","")}d5("");var h5="firebase",f5="11.10.0";dt(h5,f5,"app");function l1(n,e){let r=!e?.manualCleanup?e?.injector?.get(ln)??E(ln):null,i=p5(e?.equal),s;e?.requireSync?s=te({kind:0},{equal:i}):s=te({kind:1,value:e?.initialValue},{equal:i});let o,a=n.subscribe({next:c=>s.set({kind:1,value:c}),error:c=>{s.set({kind:2,error:c}),o?.()},complete:()=>{o?.()}});if(e?.requireSync&&s().kind===0)throw new K(601,!1);return o=r?.onDestroy(a.unsubscribe.bind(a)),xe(()=>{let c=s();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new K(601,!1)}},{equal:e?.equal})}function p5(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}function u1(n){n===void 0&&(n=E(Qe));let e=n.get(Sa);return t=>new ue(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var ms=new Ys("ANGULARFIRE2_VERSION");function xu(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var tc=(n,e)=>{let t=e?[e]:Tp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ec=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ec||{}),d1=Wv()&&typeof Zone<"u"?ec.WARN:ec.SILENT;var Ap=class{zone;delegate;constructor(e,t=vy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},ys=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=E(Oe);this.outsideAngular=t.runOutsideAngular(()=>new Ap(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Ap(typeof Zone>"u"?void 0:Zone.current,Tr))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),h1=!1;function g5(n,e){!h1&&(d1>ec.SILENT||Wv())&&(h1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),d1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function m5(n){let e=E(Oe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function No(n){let e=E(Oe,{optional:!0});return e?e.run(()=>n()):n()}var y5=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),kt(t,()=>No(()=>n.apply(void 0,r)))),Mt=(n,e,t)=>(t||=e?ec.WARN:ec.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=E(ys),o=E(Sa),a=E(at)}catch{return g5(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=No(()=>o.add())),i[u]=y5(i[u],r,a));let c=m5(()=>n.apply(this,i));return e?c instanceof ue?c.pipe(Qi(s.outsideAngular),Ki(s.insideAngular),u1(a)):c instanceof Promise?No(()=>{let u=o.add();return new Promise((d,p)=>{c.then(g=>kt(a,()=>No(()=>d(g))),g=>kt(a,()=>No(()=>p(g)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:No(()=>c):c instanceof ue?c.pipe(Qi(s.outsideAngular),Ki(s.insideAngular)):No(()=>c)});var xi=class{constructor(e){return e}},Po=class{constructor(){return Tp()}};function v5(n){return n&&n.length===1?n[0]:new xi(Mo())}var tb=new q("angularfire2._apps"),_5={provide:xi,useFactory:v5,deps:[[new Nn,tb]]},b5={provide:Po,deps:[[new Nn,tb]]};function C5(n){return(e,t)=>{let r=t.get(Ci);dt("angularfire",ms.full,"core"),dt("angularfire",ms.full,"app"),dt("angular",Vy.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new xi(i)}}function f1(n,...e){return xn([_5,b5,{provide:tb,useFactory:C5(n),multi:!0,deps:[Oe,Qe,ys,...e]}])}var p1=Mt(eb,!0);var w5=new Map,I5={activated:!1,tokenObservers:[]},E5={initialized:!1,enabled:!1};function Cr(n){return w5.get(n)||Object.assign({},I5)}function v1(){return E5}var D5="https://content-firebaseappcheck.googleapis.com/v1";var S5="exchangeDebugToken",g1={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Ble=1440*60*1e3;var ib=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ko,this.pending.promise.catch(t=>{}),await x5(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ko,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function x5(n){return new Promise(e=>{setTimeout(e,n)})}var T5={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},vs=new _r("appCheck","AppCheck",T5);function _1(n){if(!Cr(n).activated)throw vs.create("use-before-activation",{appName:n.name})}async function b1({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let s={method:"POST",body:JSON.stringify(e),headers:r},o;try{o=await fetch(n,s)}catch(p){throw vs.create("fetch-network-error",{originalErrorMessage:p?.message})}if(o.status!==200)throw vs.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(p){throw vs.create("fetch-parse-error",{originalErrorMessage:p?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let u=Number(c[1])*1e3,d=Date.now();return{token:a.token,expireTimeMillis:d+u,issuedAtTimeMillis:d}}function C1(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${D5}/projects/${t}/apps/${r}:${S5}?key=${i}`,body:{debug_token:e}}}var A5="firebase-app-check-database",k5=1,sb="firebase-app-check-store";var kp=null;function R5(){return kp||(kp=new Promise((n,e)=>{try{let t=indexedDB.open(A5,k5);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(vs.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(sb,{keyPath:"compositeKey"})}}}catch(t){e(vs.create("storage-open",{originalErrorMessage:t?.message}))}}),kp)}function M5(n,e){return N5(P5(n),e)}async function N5(n,e){let r=(await R5()).transaction(sb,"readwrite"),s=r.objectStore(sb).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(vs.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})}function P5(n){return`${n.options.appId}-${n.name}`}var Tu=new qr("@firebase/app-check");function nb(n,e){return Iu()?M5(n,e).catch(t=>{Tu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function w1(){return v1().enabled}async function I1(){let n=v1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var O5={error:"UNKNOWN_ERROR"};function F5(n){return Cp.encodeString(JSON.stringify(n),!1)}async function ob(n,e=!1,t=!1){let r=n.app;_1(r);let i=Cr(r),s=i.token,o;if(s&&!Au(s)&&(i.token=void 0,s=void 0),!s){let u=await i.cachedTokenPromise;u&&(Au(u)?s=u:await nb(r,void 0))}if(!e&&s&&Au(s))return{token:s.token};let a=!1;if(w1())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=b1(C1(r,await I1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=await i.exchangeTokenPromise;return await nb(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Tu.warn(u.message):t&&Tu.error(u),rb(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await Cr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Tu.warn(u.message):t&&Tu.error(u),o=u}let c;return s?o?Au(s)?c={token:s.token,internalError:o}:c=rb(o):(c={token:s.token},i.token=s,await nb(r,s)):c=rb(o),a&&j5(r,c),c}async function L5(n){let e=n.app;_1(e);let{provider:t}=Cr(e);if(w1()){let r=await I1(),{token:i}=await b1(C1(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function V5(n,e,t,r){let{app:i}=n,s=Cr(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Au(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),m1(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>m1(n))}function E1(n,e){let t=Cr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function m1(n){let{app:e}=n,t=Cr(e),r=t.tokenRefresher;r||(r=U5(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function U5(n){let{app:e}=n;return new ib(async()=>{let t=Cr(e),r;if(t.token?r=await ob(n,!0):r=await ob(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=Cr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},g1.RETRIAL_MIN_WAIT,g1.RETRIAL_MAX_WAIT)}function j5(n,e){let t=Cr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Au(n){return n.expireTimeMillis-Date.now()>0}function rb(n){return{token:F5(O5),error:n}}var ab=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Cr(this.app);for(let t of e)E1(this.app,t.next);return Promise.resolve()}};function B5(n,e){return new ab(n,e)}function $5(n){return{getToken:e=>ob(n,e),getLimitedUseToken:()=>L5(n),addTokenListener:e=>V5(n,"INTERNAL",e),removeTokenListener:e=>E1(n.app,e)}}var H5="@firebase/app-check",z5="0.10.1";var G5="app-check",y1="app-check-internal";function q5(){br(new hn(G5,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return B5(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(y1).initialize()})),br(new hn(y1,n=>{let e=n.getProvider("app-check").getImmediate();return $5(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),dt(H5,z5)}q5();var W5="app-check";var nc=class{constructor(){return tc(W5)}};var K5=["localhost","0.0.0.0","127.0.0.1"],Xle=typeof window<"u"&&K5.includes(window.location.hostname);function U1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var j1=U1,B1=new _r("auth","Firebase",U1());var Fp=new qr("@firebase/auth");function Q5(n,...e){Fp.logLevel<=De.WARN&&Fp.warn(`Auth (${gs}): ${n}`,...e)}function Mp(n,...e){Fp.logLevel<=De.ERROR&&Fp.error(`Auth (${gs}): ${n}`,...e)}function Cs(n,...e){throw xb(n,...e)}function Fo(n,...e){return xb(n,...e)}function $1(n,e,t){let r=Object.assign(Object.assign({},j1()),{[e]:t});return new _r("auth","Firebase",r).create(e,{appName:n.name})}function Oo(n){return $1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xb(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return B1.create(n,...e)}function le(n,e,...t){if(!n)throw xb(e,...t)}function Ti(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Mp(e),new Error(e)}function ws(n,e){n||Ti(e)}function db(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Y5(){return D1()==="http:"||D1()==="https:"}function D1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Z5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y5()||$k()||"connection"in navigator)?navigator.onLine:!0}function J5(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Lo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ws(t>e,"Short delay should be less than long delay!"),this.isMobile=jk()||Hk()}get(){return Z5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Tb(n,e){ws(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Lp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var X5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var e6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t6=new Lo(3e4,6e4);function Ab(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function rc(n,e,t,r,i={}){return H1(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});let a=Eu(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let u=Object.assign({method:e,headers:c},s);return Bk()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&fs(n.emulatorConfig.host)&&(u.credentials="include"),Lp.fetch()(await z1(n,n.config.apiHost,t,a),u)})}async function H1(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},X5),e);try{let i=new hb(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw Rp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rp(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Rp(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Rp(n,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $1(n,d,u);Cs(n,d)}}catch(i){if(i instanceof Vn)throw i;Cs(n,"network-request-failed",{message:String(i)})}}async function n6(n,e,t,r,i={}){let s=await rc(n,e,t,r,i);return"mfaPendingCredential"in s&&Cs(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function z1(n,e,t,r){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?Tb(n.config,i):`${n.config.apiScheme}://${i}`;return e6.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}var hb=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fo(this.auth,"network-request-failed")),t6.get())})}};function Rp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Fo(n,e,r);return i.customData._tokenResponse=t,i}async function r6(n,e){return rc(n,"POST","/v1/accounts:delete",e)}async function Vp(n,e){return rc(n,"POST","/v1/accounts:lookup",e)}function ku(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kb(n,e=!1){let t=Rt(n),r=await t.getIdToken(e),i=Rb(r);le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ku(cb(i.auth_time)),issuedAtTime:ku(cb(i.iat)),expirationTime:ku(cb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function cb(n){return Number(n)*1e3}function Rb(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Mp("JWT malformed, contained fewer than 3 sections"),null;try{let i=wp(t);return i?JSON.parse(i):(Mp("Failed to decode base64 JWT payload"),null)}catch(i){return Mp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function S1(n){let e=Rb(n);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Mu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Vn&&i6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function i6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var fb=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Nu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Up(n){var e;let t=n.auth,r=await n.getIdToken(),i=await Mu(n,Vp(t,{idToken:r}));le(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?G1(s.providerUserInfo):[],a=s6(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,d=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Nu(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function Mb(n){let e=Rt(n);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s6(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function G1(n){return n.map(e=>{var{providerId:t}=e,r=by(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function o6(n,e){let t=await H1(n,{},async()=>{let r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await z1(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&fs(n.emulatorConfig.host)&&(c.credentials="include"),Lp.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function a6(n,e){return rc(n,"POST","/v2/accounts:revokeToken",Ab(n,e))}var Ru=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){le(e.length!==0,"internal-error");let t=S1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:s}=await o6(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ti("not implemented")}};function _s(n,e){le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var bs=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=by(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nu(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let t=await Mu(this,this.stsTokenManager.getToken(this.auth,e));return le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kb(this,e)}reload(){return Mb(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Up(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Oo(this.auth));let e=await this.getIdToken();return await Mu(this,r6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,d;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,v=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,x=(o=t.photoURL)!==null&&o!==void 0?o:void 0,O=(a=t.tenantId)!==null&&a!==void 0?a:void 0,M=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,$=(u=t.createdAt)!==null&&u!==void 0?u:void 0,ee=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:oe,emailVerified:Ve,isAnonymous:Pt,providerData:He,stsTokenManager:T}=t;le(oe&&T,e,"internal-error");let b=Ru.fromJSON(this.name,T);le(typeof oe=="string",e,"internal-error"),_s(p,e.name),_s(g,e.name),le(typeof Ve=="boolean",e,"internal-error"),le(typeof Pt=="boolean",e,"internal-error"),_s(v,e.name),_s(x,e.name),_s(O,e.name),_s(M,e.name),_s($,e.name),_s(ee,e.name);let I=new n({uid:oe,auth:e,email:g,emailVerified:Ve,displayName:p,isAnonymous:Pt,photoURL:x,phoneNumber:v,tenantId:O,stsTokenManager:b,createdAt:$,lastLoginAt:ee});return He&&Array.isArray(He)&&(I.providerData=He.map(S=>Object.assign({},S))),M&&(I._redirectEventId=M),I}static async _fromIdTokenResponse(e,t,r=!1){let i=new Ru;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Up(s),s}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];le(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?G1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ru;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Nu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c}};var x1=new Map;function Ai(n){ws(n instanceof Function,"Expected a class definition");let e=x1.get(n);return e?(ws(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,x1.set(n,e),e)}var c6=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),pb=c6;function Np(n,e,t){return`firebase:${n}:${e}:${t}`}var jp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Np(this.userKey,i.apiKey,s),this.fullPersistenceKey=Np("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Vp(this.auth,{idToken:e}).catch(()=>{});return t?bs._fromGetAccountInfoResponse(this.auth,t,e):null}return bs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Ai(pb),e,r);let i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u),s=i[0]||Ai(pb),o=Np(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=await u._get(o);if(d){let p;if(typeof d=="string"){let g=await Vp(e,{idToken:d}).catch(()=>{});if(!g)break;p=await bs._fromGetAccountInfoResponse(e,g,d)}else p=bs._fromJSON(e,d);u!==s&&(a=p),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new n(s,e,r))}};function T1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(q1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Z1(e))return"Blackberry";if(J1(e))return"Webos";if(W1(e))return"Safari";if((e.includes("chrome/")||K1(e))&&!e.includes("edge/"))return"Chrome";if(Y1(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function q1(n=jt()){return/firefox\//i.test(n)}function W1(n=jt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function K1(n=jt()){return/crios\//i.test(n)}function Q1(n=jt()){return/iemobile/i.test(n)}function Y1(n=jt()){return/android/i.test(n)}function Z1(n=jt()){return/blackberry/i.test(n)}function J1(n=jt()){return/webos/i.test(n)}function Nb(n=jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function l6(n=jt()){var e;return Nb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u6(){return zk()&&document.documentMode===10}function X1(n=jt()){return Nb(n)||Y1(n)||J1(n)||Z1(n)||/windows phone/i.test(n)||Q1(n)}function eR(n,e=[]){let t;switch(n){case"Browser":t=T1(jt());break;case"Worker":t=`${T1(jt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${gs}/${r}`}var gb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function d6(n,e={}){return rc(n,"GET","/v2/passwordPolicy",Ab(n,e))}var h6=6,mb=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:h6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var yb=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bp(this),this.idTokenSubscription=new Bp(this),this.beforeStateQueue=new gb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await jp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Vp(this,{idToken:e}),r=await bs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Jn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Oo(this));let t=e?Rt(e):null;return t&&le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await d6(this),t=new mb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _r("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await a6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Ai(e)||this._popupRedirectResolver;le(t,this,"argument-error"),this.redirectPersistenceManager=await jp.create(this,[Ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Q5(`Error while retrieving App Check token: ${t.error}`),t?.token}};function Pb(n){return Rt(n)}var Bp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kk(t=>this.observer=t)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ob={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f6(n){Ob=n}function p6(n){return Ob.loadJS(n)}function g6(){return Ob.gapiScript}function tR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Fb(n,e){let t=Xa(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Gr(s,e??{}))return i;Cs(i,"already-initialized")}return t.initialize({options:e})}function m6(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Lb(n,e,t){let r=Pb(n);le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=nR(e),{host:o,port:a}=y6(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),le(Gr(u,r.config.emulator)&&Gr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,fs(o)?(Ep(`${s}//${o}${c}`),Dp("Auth",!0)):i||v6()}function nR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function y6(n){let e=nR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:A1(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:A1(o)}}}function A1(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function v6(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var $p=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,t){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}};async function lb(n,e){return n6(n,"POST","/v1/accounts:signInWithIdp",Ab(n,e))}var Hp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var vb=class extends Hp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Pu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let s=await bs._fromIdTokenResponse(e,r,i),o=k1(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=k1(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function k1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var _b=class n extends Vn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function rR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_b._fromErrorAndOperation(n,s,e,r):s})}async function _6(n,e,t=!1){let r=await Mu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pu._forOperation(n,"link",r)}async function b6(n,e,t=!1){let{auth:r}=n;if(Jn(r.app))return Promise.reject(Oo(r));let i="reauthenticate";try{let s=await Mu(n,rR(r,i,e,n),t);le(s.idToken,r,"internal-error");let o=Rb(s.idToken);le(o,r,"internal-error");let{sub:a}=o;return le(n.uid===a,r,"user-mismatch"),Pu._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Cs(r,"user-mismatch"),s}}async function C6(n,e,t=!1){if(Jn(n.app))return Promise.reject(Oo(n));let r="signIn",i=await rR(n,r,e),s=await Pu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}function Vb(n,e,t,r){return Rt(n).onIdTokenChanged(e,t,r)}function Ub(n,e,t){return Rt(n).beforeAuthStateChanged(e,t)}var zp="__sak";var Gp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var w6=1e3,I6=10,E6=(()=>{class n extends Gp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);u6()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,I6):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},w6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),iR=E6;var D6=(()=>{class n extends Gp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),jb=D6;function S6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var x6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(async d=>d(r.origin,o)),u=await S6(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function sR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var bb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=sR("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function Kr(){return window}function T6(n){Kr().location.href=n}function oR(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function A6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function R6(){return oR()?self:null}var aR="firebaseLocalStorageDb",M6=1,qp="firebaseLocalStorage",cR="fbase_key",Vo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Kp(n,e){return n.transaction([qp],e?"readwrite":"readonly").objectStore(qp)}function N6(){let n=indexedDB.deleteDatabase(aR);return new Vo(n).toPromise()}function Cb(){let n=indexedDB.open(aR,M6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(qp,{keyPath:cR})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(qp)?e(r):(r.close(),await N6(),e(await Cb()))})})}async function R1(n,e,t){let r=Kp(n,!0).put({[cR]:e,value:t});return new Vo(r).toPromise()}async function P6(n,e){let t=Kp(n,!1).get(e),r=await new Vo(t).toPromise();return r===void 0?null:r.value}function M1(n,e){let t=Kp(n,!0).delete(e);return new Vo(t).toPromise()}var O6=800,F6=3,L6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cb(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>F6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=x6._getInstance(R6()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await A6(),!this.activeServiceWorker)return;this.sender=new bb(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||k6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await Cb();return await R1(t,zp,"1"),await M1(t,zp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>R1(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>P6(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>M1(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(s=>{let o=Kp(s,!1).getAll();return new Vo(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),lR=L6;var lue=tR("rcb"),uue=new Lo(3e4,6e4);function V6(n,e){return e?Ai(e):(le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Ou=class extends $p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lb(e,this._buildIdpRequest())}_linkToIdToken(e,t){return lb(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return lb(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function U6(n){return C6(n.auth,new Ou(n),n.bypassAuthState)}function j6(n){let{auth:e,user:t}=n;return le(t,e,"internal-error"),b6(t,new Ou(n),n.bypassAuthState)}async function B6(n){let{auth:e,user:t}=n;return le(t,e,"internal-error"),_6(t,new Ou(n),n.bypassAuthState)}var wb=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U6;case"linkViaPopup":case"linkViaRedirect":return B6;case"reauthViaPopup":case"reauthViaRedirect":return j6;default:Cs(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var due=new Lo(2e3,1e4);var $6="pendingRedirect",Pp=new Map,Ib=class extends wb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Pp.get(this.auth._key());if(!e){try{let r=await H6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Pp.set(this.auth._key(),e)}return this.bypassAuthState||Pp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function H6(n,e){let t=q6(e),r=G6(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function z6(n,e){Pp.set(n._key(),e)}function G6(n){return Ai(n._redirectPersistence)}function q6(n){return Np($6,n.config.apiKey,n.name)}async function W6(n,e,t=!1){if(Jn(n.app))return Promise.reject(Oo(n));let r=Pb(n),i=V6(r,e),o=await new Ib(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}var K6=600*1e3,Eb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!uR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K6&&this.cachedEventUids.clear(),this.cachedEventUids.has(N1(e))}saveEventToCache(e){this.cachedEventUids.add(N1(e)),this.lastProcessedEventTime=Date.now()}};function N1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Q6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uR(n);default:return!1}}async function Y6(n,e={}){return rc(n,"GET","/v1/projects",e)}var Z6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J6=/^https?/;async function X6(n){if(n.config.emulator)return;let{authorizedDomains:e}=await Y6(n);for(let t of e)try{if(e9(t))return}catch{}Cs(n,"unauthorized-domain")}function e9(n){let e=db(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!J6.test(t))return!1;if(Z6.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var t9=new Lo(3e4,6e4);function P1(){let n=Kr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function n9(n){return new Promise((e,t)=>{var r,i,s;function o(){P1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P1(),t(Fo(n,"network-request-failed"))},timeout:t9.get()})}if(!((i=(r=Kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kr().gapi)===null||s===void 0)&&s.load)o();else{let a=tR("iframefcb");return Kr()[a]=()=>{gapi.load?o():t(Fo(n,"network-request-failed"))},p6(`${g6()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Op=null,e})}var Op=null;function r9(n){return Op=Op||n9(n),Op}var i9=new Lo(5e3,15e3),s9="__/auth/iframe",o9="emulator/auth/iframe",a9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l9(n){let e=n.config;le(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Tb(e,o9):`https://${n.config.authDomain}/${s9}`,r={apiKey:e.apiKey,appName:n.name,v:gs},i=c9.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Eu(r).slice(1)}`}async function u9(n){let e=await r9(n),t=Kr().gapi;return le(t,n,"internal-error"),e.open({where:document.body,url:l9(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=Fo(n,"network-request-failed"),a=Kr().setTimeout(()=>{s(o)},i9.get());function c(){Kr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}var d9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h9=500,f9=600,p9="_blank",g9="http://localhost",Wp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function m9(n,e,t,r=h9,i=f9){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},d9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=jt().toLowerCase();t&&(a=K1(u)?p9:t),q1(u)&&(e=e||g9,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[v,x])=>`${g}${v}=${x},`,"");if(l6(u)&&a!=="_self")return y9(e||"",a),new Wp(null);let p=window.open(e||"",a,d);le(p,n,"popup-blocked");try{p.focus()}catch{}return new Wp(p)}function y9(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var v9="__/auth/handler",_9="emulator/auth/handler",b9=encodeURIComponent("fac");async function O1(n,e,t,r,i,s){le(n.config.authDomain,n,"auth-domain-config-required"),le(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:gs,eventId:i};if(e instanceof Hp){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Wk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(s||{}))o[d]=p}if(e instanceof vb){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=await n._getAppCheckToken(),u=c?`#${b9}=${encodeURIComponent(c)}`:"";return`${C9(n)}?${Eu(a).slice(1)}${u}`}function C9({config:n}){return n.emulator?Tb(n,_9):`https://${n.authDomain}/${v9}`}var ub="webStorageSupport",Db=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=W6,this._overrideRedirectResult=z6}async _openPopup(e,t,r,i){var s;ws((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=await O1(e,t,r,db(),i);return m9(e,o,sR())}async _openRedirect(e,t,r,i){await this._originValidation(e);let s=await O1(e,t,r,db(),i);return T6(s),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ws(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await u9(e),r=new Eb(e);return t.register("authEvent",i=>(le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ub,{type:ub},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ub];o!==void 0&&t(!!o),Cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=X6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return X1()||W1()||Nb()}},dR=Db;var F1="@firebase/auth",L1="1.10.8";var Sb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function w9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I9(n){br(new hn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eR(n)},u=new yb(r,i,s,c);return m6(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),br(new hn("auth-internal",e=>{let t=Pb(e.getProvider("auth").getImmediate());return(r=>new Sb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(F1,L1,w9(n)),dt(F1,L1,"esm2017")}var E9=300,D9=U_("authIdTokenMaxAge")||E9,V1=null,S9=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>D9)return;let i=t?.token;V1!==i&&(V1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Bb(n=Mo()){let e=Xa(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Fb(n,{popupRedirectResolver:dR,persistence:[lR,iR,jb]}),r=U_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=S9(s.toString());Ub(t,o,()=>o(t.currentUser)),Vb(t,a=>o(a))}}let i=L_("auth");return i&&Lb(t,`http://${i}`),t}function x9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}f6({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Fo("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",x9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I9("Browser");var hR="auth",Fu=class{constructor(e){return e}},Lu=class{constructor(){return tc(hR)}};var $b=new q("angularfire2.auth-instances");function b$(n,e){let t=xu(hR,n,e);return t&&new Fu(t)}function C$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Fu(r)}}var w$={provide:Lu,deps:[[new Nn,$b]]},I$={provide:Fu,useFactory:b$,deps:[[new Nn,$b],xi]};function fR(n,...e){return dt("angularfire",ms.full,"auth"),xn([I$,w$,{provide:$b,useFactory:C$(n),multi:!0,deps:[Oe,Qe,ys,Po,[new Nn,nc],...e]}])}var pR=Mt(Bb,!0);var gR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mR={};var ki,Hb;(function(){var n;function e(T,b){function I(){}I.prototype=b.prototype,T.D=b.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(S,A,R){for(var w=Array(arguments.length-2),oi=2;oi<arguments.length;oi++)w[oi-2]=arguments[oi];return b.prototype[A].apply(S,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,b,I){I||(I=0);var S=Array(16);if(typeof b=="string")for(var A=0;16>A;++A)S[A]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(A=0;16>A;++A)S[A]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=T.g[0],I=T.g[1],A=T.g[2];var R=T.g[3],w=b+(R^I&(A^R))+S[0]+3614090360&4294967295;b=I+(w<<7&4294967295|w>>>25),w=R+(A^b&(I^A))+S[1]+3905402710&4294967295,R=b+(w<<12&4294967295|w>>>20),w=A+(I^R&(b^I))+S[2]+606105819&4294967295,A=R+(w<<17&4294967295|w>>>15),w=I+(b^A&(R^b))+S[3]+3250441966&4294967295,I=A+(w<<22&4294967295|w>>>10),w=b+(R^I&(A^R))+S[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=R+(A^b&(I^A))+S[5]+1200080426&4294967295,R=b+(w<<12&4294967295|w>>>20),w=A+(I^R&(b^I))+S[6]+2821735955&4294967295,A=R+(w<<17&4294967295|w>>>15),w=I+(b^A&(R^b))+S[7]+4249261313&4294967295,I=A+(w<<22&4294967295|w>>>10),w=b+(R^I&(A^R))+S[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=R+(A^b&(I^A))+S[9]+2336552879&4294967295,R=b+(w<<12&4294967295|w>>>20),w=A+(I^R&(b^I))+S[10]+4294925233&4294967295,A=R+(w<<17&4294967295|w>>>15),w=I+(b^A&(R^b))+S[11]+2304563134&4294967295,I=A+(w<<22&4294967295|w>>>10),w=b+(R^I&(A^R))+S[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=R+(A^b&(I^A))+S[13]+4254626195&4294967295,R=b+(w<<12&4294967295|w>>>20),w=A+(I^R&(b^I))+S[14]+2792965006&4294967295,A=R+(w<<17&4294967295|w>>>15),w=I+(b^A&(R^b))+S[15]+1236535329&4294967295,I=A+(w<<22&4294967295|w>>>10),w=b+(A^R&(I^A))+S[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=R+(I^A&(b^I))+S[6]+3225465664&4294967295,R=b+(w<<9&4294967295|w>>>23),w=A+(b^I&(R^b))+S[11]+643717713&4294967295,A=R+(w<<14&4294967295|w>>>18),w=I+(R^b&(A^R))+S[0]+3921069994&4294967295,I=A+(w<<20&4294967295|w>>>12),w=b+(A^R&(I^A))+S[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=R+(I^A&(b^I))+S[10]+38016083&4294967295,R=b+(w<<9&4294967295|w>>>23),w=A+(b^I&(R^b))+S[15]+3634488961&4294967295,A=R+(w<<14&4294967295|w>>>18),w=I+(R^b&(A^R))+S[4]+3889429448&4294967295,I=A+(w<<20&4294967295|w>>>12),w=b+(A^R&(I^A))+S[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=R+(I^A&(b^I))+S[14]+3275163606&4294967295,R=b+(w<<9&4294967295|w>>>23),w=A+(b^I&(R^b))+S[3]+4107603335&4294967295,A=R+(w<<14&4294967295|w>>>18),w=I+(R^b&(A^R))+S[8]+1163531501&4294967295,I=A+(w<<20&4294967295|w>>>12),w=b+(A^R&(I^A))+S[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=R+(I^A&(b^I))+S[2]+4243563512&4294967295,R=b+(w<<9&4294967295|w>>>23),w=A+(b^I&(R^b))+S[7]+1735328473&4294967295,A=R+(w<<14&4294967295|w>>>18),w=I+(R^b&(A^R))+S[12]+2368359562&4294967295,I=A+(w<<20&4294967295|w>>>12),w=b+(I^A^R)+S[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=R+(b^I^A)+S[8]+2272392833&4294967295,R=b+(w<<11&4294967295|w>>>21),w=A+(R^b^I)+S[11]+1839030562&4294967295,A=R+(w<<16&4294967295|w>>>16),w=I+(A^R^b)+S[14]+4259657740&4294967295,I=A+(w<<23&4294967295|w>>>9),w=b+(I^A^R)+S[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=R+(b^I^A)+S[4]+1272893353&4294967295,R=b+(w<<11&4294967295|w>>>21),w=A+(R^b^I)+S[7]+4139469664&4294967295,A=R+(w<<16&4294967295|w>>>16),w=I+(A^R^b)+S[10]+3200236656&4294967295,I=A+(w<<23&4294967295|w>>>9),w=b+(I^A^R)+S[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=R+(b^I^A)+S[0]+3936430074&4294967295,R=b+(w<<11&4294967295|w>>>21),w=A+(R^b^I)+S[3]+3572445317&4294967295,A=R+(w<<16&4294967295|w>>>16),w=I+(A^R^b)+S[6]+76029189&4294967295,I=A+(w<<23&4294967295|w>>>9),w=b+(I^A^R)+S[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=R+(b^I^A)+S[12]+3873151461&4294967295,R=b+(w<<11&4294967295|w>>>21),w=A+(R^b^I)+S[15]+530742520&4294967295,A=R+(w<<16&4294967295|w>>>16),w=I+(A^R^b)+S[2]+3299628645&4294967295,I=A+(w<<23&4294967295|w>>>9),w=b+(A^(I|~R))+S[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=R+(I^(b|~A))+S[7]+1126891415&4294967295,R=b+(w<<10&4294967295|w>>>22),w=A+(b^(R|~I))+S[14]+2878612391&4294967295,A=R+(w<<15&4294967295|w>>>17),w=I+(R^(A|~b))+S[5]+4237533241&4294967295,I=A+(w<<21&4294967295|w>>>11),w=b+(A^(I|~R))+S[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=R+(I^(b|~A))+S[3]+2399980690&4294967295,R=b+(w<<10&4294967295|w>>>22),w=A+(b^(R|~I))+S[10]+4293915773&4294967295,A=R+(w<<15&4294967295|w>>>17),w=I+(R^(A|~b))+S[1]+2240044497&4294967295,I=A+(w<<21&4294967295|w>>>11),w=b+(A^(I|~R))+S[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=R+(I^(b|~A))+S[15]+4264355552&4294967295,R=b+(w<<10&4294967295|w>>>22),w=A+(b^(R|~I))+S[6]+2734768916&4294967295,A=R+(w<<15&4294967295|w>>>17),w=I+(R^(A|~b))+S[13]+1309151649&4294967295,I=A+(w<<21&4294967295|w>>>11),w=b+(A^(I|~R))+S[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=R+(I^(b|~A))+S[11]+3174756917&4294967295,R=b+(w<<10&4294967295|w>>>22),w=A+(b^(R|~I))+S[2]+718787259&4294967295,A=R+(w<<15&4294967295|w>>>17),w=I+(R^(A|~b))+S[9]+3951481745&4294967295,T.g[0]=T.g[0]+b&4294967295,T.g[1]=T.g[1]+(A+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,b){b===void 0&&(b=T.length);for(var I=b-this.blockSize,S=this.B,A=this.h,R=0;R<b;){if(A==0)for(;R<=I;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<b;)if(S[A++]=T.charCodeAt(R++),A==this.blockSize){i(this,S),A=0;break}}else for(;R<b;)if(S[A++]=T[R++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=b},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var b=1;b<T.length-8;++b)T[b]=0;var I=8*this.o;for(b=T.length-8;b<T.length;++b)T[b]=I&255,I/=256;for(this.u(T),T=Array(16),b=I=0;4>b;++b)for(var S=0;32>S;S+=8)T[I++]=this.g[b]>>>S&255;return T};function s(T,b){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=b(T)}function o(T,b){this.h=b;for(var I=[],S=!0,A=T.length-1;0<=A;A--){var R=T[A]|0;S&&R==b||(I[A]=R,S=!1)}this.g=I}var a={};function c(T){return-128<=T&&128>T?s(T,function(b){return new o([b|0],0>b?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return M(u(-T));for(var b=[],I=1,S=0;T>=I;S++)b[S]=T/I|0,I*=4294967296;return new o(b,0)}function d(T,b){if(T.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T.charAt(0)=="-")return M(d(T.substring(1),b));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(b,8)),S=p,A=0;A<T.length;A+=8){var R=Math.min(8,T.length-A),w=parseInt(T.substring(A,A+R),b);8>R?(R=u(Math.pow(b,R)),S=S.j(R).add(u(w))):(S=S.j(I),S=S.add(u(w)))}return S}var p=c(0),g=c(1),v=c(16777216);n=o.prototype,n.m=function(){if(O(this))return-M(this).m();for(var T=0,b=1,I=0;I<this.g.length;I++){var S=this.i(I);T+=(0<=S?S:4294967296+S)*b,b*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(O(this))return"-"+M(this).toString(T);for(var b=u(Math.pow(T,6)),I=this,S="";;){var A=Ve(I,b).g;I=$(I,A.j(b));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=A,x(I))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(var b=0;b<T.g.length;b++)if(T.g[b]!=0)return!1;return!0}function O(T){return T.h==-1}n.l=function(T){return T=$(this,T),O(T)?-1:x(T)?0:1};function M(T){for(var b=T.g.length,I=[],S=0;S<b;S++)I[S]=~T.g[S];return new o(I,~T.h).add(g)}n.abs=function(){return O(this)?M(this):this},n.add=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],S=0,A=0;A<=b;A++){var R=S+(this.i(A)&65535)+(T.i(A)&65535),w=(R>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);S=w>>>16,R&=65535,w&=65535,I[A]=w<<16|R}return new o(I,I[I.length-1]&-2147483648?-1:0)};function $(T,b){return T.add(M(b))}n.j=function(T){if(x(this)||x(T))return p;if(O(this))return O(T)?M(this).j(M(T)):M(M(this).j(T));if(O(T))return M(this.j(M(T)));if(0>this.l(v)&&0>T.l(v))return u(this.m()*T.m());for(var b=this.g.length+T.g.length,I=[],S=0;S<2*b;S++)I[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<T.g.length;A++){var R=this.i(S)>>>16,w=this.i(S)&65535,oi=T.i(A)>>>16,Fc=T.i(A)&65535;I[2*S+2*A]+=w*Fc,ee(I,2*S+2*A),I[2*S+2*A+1]+=R*Fc,ee(I,2*S+2*A+1),I[2*S+2*A+1]+=w*oi,ee(I,2*S+2*A+1),I[2*S+2*A+2]+=R*oi,ee(I,2*S+2*A+2)}for(S=0;S<b;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=b;S<2*b;S++)I[S]=0;return new o(I,0)};function ee(T,b){for(;(T[b]&65535)!=T[b];)T[b+1]+=T[b]>>>16,T[b]&=65535,b++}function oe(T,b){this.g=T,this.h=b}function Ve(T,b){if(x(b))throw Error("division by zero");if(x(T))return new oe(p,p);if(O(T))return b=Ve(M(T),b),new oe(M(b.g),M(b.h));if(O(b))return b=Ve(T,M(b)),new oe(M(b.g),b.h);if(30<T.g.length){if(O(T)||O(b))throw Error("slowDivide_ only works with positive integers.");for(var I=g,S=b;0>=S.l(T);)I=Pt(I),S=Pt(S);var A=He(I,1),R=He(S,1);for(S=He(S,2),I=He(I,2);!x(S);){var w=R.add(S);0>=w.l(T)&&(A=A.add(I),R=w),S=He(S,1),I=He(I,1)}return b=$(T,A.j(b)),new oe(A,b)}for(A=p;0<=T.l(b);){for(I=Math.max(1,Math.floor(T.m()/b.m())),S=Math.ceil(Math.log(I)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=u(I),w=R.j(b);O(w)||0<w.l(T);)I-=S,R=u(I),w=R.j(b);x(R)&&(R=g),A=A.add(R),T=$(T,w)}return new oe(A,T)}n.A=function(T){return Ve(this,T).h},n.and=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],S=0;S<b;S++)I[S]=this.i(S)&T.i(S);return new o(I,this.h&T.h)},n.or=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],S=0;S<b;S++)I[S]=this.i(S)|T.i(S);return new o(I,this.h|T.h)},n.xor=function(T){for(var b=Math.max(this.g.length,T.g.length),I=[],S=0;S<b;S++)I[S]=this.i(S)^T.i(S);return new o(I,this.h^T.h)};function Pt(T){for(var b=T.g.length+1,I=[],S=0;S<b;S++)I[S]=T.i(S)<<1|T.i(S-1)>>>31;return new o(I,T.h)}function He(T,b){var I=b>>5;b%=32;for(var S=T.g.length-I,A=[],R=0;R<S;R++)A[R]=0<b?T.i(R+I)>>>b|T.i(R+I+1)<<32-b:T.i(R+I);return new o(A,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Hb=mR.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ki=mR.Integer=o}).apply(typeof gR<"u"?gR:typeof self<"u"?self:typeof window<"u"?window:{});var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ri={};var zb,E$,ic,Gb,Vu,Yp,qb,Wb,Kb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qp=="object"&&Qp];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var f=r;l=l.split(".");for(var m=0;m<l.length-1;m++){var k=l[m];if(!(k in f))break e;f=f[k]}l=l[l.length-1],m=f[l],h=h(m),h!=m&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var f=0,m=!1,k={next:function(){if(!m&&f<l.length){var N=f++;return{value:h(N,l[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,f){return f})}});var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,f){return l.call.apply(l.bind,arguments)}function p(l,h,f){if(!l)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,m),l.apply(h,k)}}return function(){return l.apply(h,arguments)}}function g(l,h,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function v(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),l.apply(this,m)}}function x(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(m,k,N){for(var z=Array(arguments.length-2),We=2;We<arguments.length;We++)z[We-2]=arguments[We];return h.prototype[k].apply(m,z)}}function O(l){let h=l.length;if(0<h){let f=Array(h);for(let m=0;m<h;m++)f[m]=l[m];return f}return[]}function M(l,h){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(c(m)){let k=l.length||0,N=m.length||0;l.length=k+N;for(let z=0;z<N;z++)l[k+z]=m[z]}else l.push(m)}}class ${constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function ee(l){return/^[\s\xa0]*$/.test(l)}function oe(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Ve(l){return Ve[" "](l),l}Ve[" "]=function(){};var Pt=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function He(l,h,f){for(let m in l)h.call(f,l[m],m,l)}function T(l,h){for(let f in l)h.call(void 0,l[f],f,l)}function b(l){let h={};for(let f in l)h[f]=l[f];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,h){let f,m;for(let k=1;k<arguments.length;k++){m=arguments[k];for(f in m)l[f]=m[f];for(let N=0;N<I.length;N++)f=I[N],Object.prototype.hasOwnProperty.call(m,f)&&(l[f]=m[f])}}function A(l){var h=1;l=l.split(":");let f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function R(l){a.setTimeout(()=>{throw l},0)}function w(){var l=wm;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class oi{constructor(){this.h=this.g=null}add(h,f){let m=Fc.get();m.set(h,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Fc=new $(()=>new l2,l=>l.reset());class l2{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Lc,Vc=!1,wm=new oi,ZI=()=>{let l=a.Promise.resolve(void 0);Lc=()=>{l.then(u2)}};var u2=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(f){R(f)}var h=Fc;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}Vc=!1};function Bi(){this.s=this.s,this.C=this.C}Bi.prototype.s=!1,Bi.prototype.ma=function(){this.s||(this.s=!0,this.N())},Bi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qt(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}qt.prototype.h=function(){this.defaultPrevented=!0};var d2=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return l})();function Uc(l,h){if(qt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,m=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Pt){e:{try{Ve(h.nodeName);var k=!0;break e}catch{}k=!1}k||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:h2[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Uc.aa.h.call(this)}}x(Uc,qt);var h2={2:"touch",3:"pen",4:"mouse"};Uc.prototype.h=function(){Uc.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var jc="closure_listenable_"+(1e6*Math.random()|0),f2=0;function p2(l,h,f,m,k){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!m,this.ha=k,this.key=++f2,this.da=this.fa=!1}function bd(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Cd(l){this.src=l,this.g={},this.h=0}Cd.prototype.add=function(l,h,f,m,k){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var z=Em(l,h,m,k);return-1<z?(h=l[z],f||(h.fa=!1)):(h=new p2(h,this.src,N,!!m,k),h.fa=f,l.push(h)),h};function Im(l,h){var f=h.type;if(f in l.g){var m=l.g[f],k=Array.prototype.indexOf.call(m,h,void 0),N;(N=0<=k)&&Array.prototype.splice.call(m,k,1),N&&(bd(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Em(l,h,f,m){for(var k=0;k<l.length;++k){var N=l[k];if(!N.da&&N.listener==h&&N.capture==!!f&&N.ha==m)return k}return-1}var Dm="closure_lm_"+(1e6*Math.random()|0),Sm={};function JI(l,h,f,m,k){if(m&&m.once)return eE(l,h,f,m,k);if(Array.isArray(h)){for(var N=0;N<h.length;N++)JI(l,h[N],f,m,k);return null}return f=km(f),l&&l[jc]?l.K(h,f,u(m)?!!m.capture:!!m,k):XI(l,h,f,!1,m,k)}function XI(l,h,f,m,k,N){if(!h)throw Error("Invalid event type");var z=u(k)?!!k.capture:!!k,We=Tm(l);if(We||(l[Dm]=We=new Cd(l)),f=We.add(h,f,m,z,N),f.proxy)return f;if(m=g2(),f.proxy=m,m.src=l,m.listener=f,l.addEventListener)d2||(k=z),k===void 0&&(k=!1),l.addEventListener(h.toString(),m,k);else if(l.attachEvent)l.attachEvent(nE(h.toString()),m);else if(l.addListener&&l.removeListener)l.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function g2(){function l(f){return h.call(l.src,l.listener,f)}let h=m2;return l}function eE(l,h,f,m,k){if(Array.isArray(h)){for(var N=0;N<h.length;N++)eE(l,h[N],f,m,k);return null}return f=km(f),l&&l[jc]?l.L(h,f,u(m)?!!m.capture:!!m,k):XI(l,h,f,!0,m,k)}function tE(l,h,f,m,k){if(Array.isArray(h))for(var N=0;N<h.length;N++)tE(l,h[N],f,m,k);else m=u(m)?!!m.capture:!!m,f=km(f),l&&l[jc]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],f=Em(N,f,m,k),-1<f&&(bd(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=Tm(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Em(h,f,m,k)),(f=-1<l?h[l]:null)&&xm(f))}function xm(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[jc])Im(h.i,l);else{var f=l.type,m=l.proxy;h.removeEventListener?h.removeEventListener(f,m,l.capture):h.detachEvent?h.detachEvent(nE(f),m):h.addListener&&h.removeListener&&h.removeListener(m),(f=Tm(h))?(Im(f,l),f.h==0&&(f.src=null,h[Dm]=null)):bd(l)}}}function nE(l){return l in Sm?Sm[l]:Sm[l]="on"+l}function m2(l,h){if(l.da)l=!0;else{h=new Uc(h,this);var f=l.listener,m=l.ha||l.src;l.fa&&xm(l),l=f.call(m,h)}return l}function Tm(l){return l=l[Dm],l instanceof Cd?l:null}var Am="__closure_events_fn_"+(1e9*Math.random()>>>0);function km(l){return typeof l=="function"?l:(l[Am]||(l[Am]=function(h){return l.handleEvent(h)}),l[Am])}function Wt(){Bi.call(this),this.i=new Cd(this),this.M=this,this.F=null}x(Wt,Bi),Wt.prototype[jc]=!0,Wt.prototype.removeEventListener=function(l,h,f,m){tE(this,l,h,f,m)};function rn(l,h){var f,m=l.F;if(m)for(f=[];m;m=m.F)f.push(m);if(l=l.M,m=h.type||h,typeof h=="string")h=new qt(h,l);else if(h instanceof qt)h.target=h.target||l;else{var k=h;h=new qt(m,l),S(h,k)}if(k=!0,f)for(var N=f.length-1;0<=N;N--){var z=h.g=f[N];k=wd(z,m,!0,h)&&k}if(z=h.g=l,k=wd(z,m,!0,h)&&k,k=wd(z,m,!1,h)&&k,f)for(N=0;N<f.length;N++)z=h.g=f[N],k=wd(z,m,!1,h)&&k}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],m=0;m<f.length;m++)bd(f[m]);delete l.g[h],l.h--}}this.F=null},Wt.prototype.K=function(l,h,f,m){return this.i.add(String(l),h,!1,f,m)},Wt.prototype.L=function(l,h,f,m){return this.i.add(String(l),h,!0,f,m)};function wd(l,h,f,m){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var k=!0,N=0;N<h.length;++N){var z=h[N];if(z&&!z.da&&z.capture==f){var We=z.listener,Ht=z.ha||z.src;z.fa&&Im(l.i,z),k=We.call(Ht,m)!==!1&&k}}return k&&!m.defaultPrevented}function rE(l,h,f){if(typeof l=="function")f&&(l=g(l,f));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function iE(l){l.g=rE(()=>{l.g=null,l.i&&(l.i=!1,iE(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class y2 extends Bi{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:iE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bc(l){Bi.call(this),this.h=l,this.g={}}x(Bc,Bi);var sE=[];function oE(l){He(l.g,function(h,f){this.g.hasOwnProperty(f)&&xm(h)},l),l.g={}}Bc.prototype.N=function(){Bc.aa.N.call(this),oE(this)},Bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rm=a.JSON.stringify,v2=a.JSON.parse,_2=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Mm(){}Mm.prototype.h=null;function aE(l){return l.h||(l.h=l.i())}function cE(){}var $c={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nm(){qt.call(this,"d")}x(Nm,qt);function Pm(){qt.call(this,"c")}x(Pm,qt);var Ls={},lE=null;function Id(){return lE=lE||new Wt}Ls.La="serverreachability";function uE(l){qt.call(this,Ls.La,l)}x(uE,qt);function Hc(l){let h=Id();rn(h,new uE(h))}Ls.STAT_EVENT="statevent";function dE(l,h){qt.call(this,Ls.STAT_EVENT,l),this.stat=h}x(dE,qt);function sn(l){let h=Id();rn(h,new dE(h,l))}Ls.Ma="timingevent";function hE(l,h){qt.call(this,Ls.Ma,l),this.size=h}x(hE,qt);function zc(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Gc(){this.g=!0}Gc.prototype.xa=function(){this.g=!1};function b2(l,h,f,m,k,N){l.info(function(){if(l.g)if(N)for(var z="",We=N.split("&"),Ht=0;Ht<We.length;Ht++){var Me=We[Ht].split("=");if(1<Me.length){var Kt=Me[0];Me=Me[1];var Qt=Kt.split("_");z=2<=Qt.length&&Qt[1]=="type"?z+(Kt+"="+Me+"&"):z+(Kt+"=redacted&")}}else z=null;else z=N;return"XMLHTTP REQ ("+m+") [attempt "+k+"]: "+h+`
`+f+`
`+z})}function C2(l,h,f,m,k,N,z){l.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+k+"]: "+h+`
`+f+`
`+N+" "+z})}function ta(l,h,f,m){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+I2(l,f)+(m?" "+m:"")})}function w2(l,h){l.info(function(){return"TIMEOUT: "+h})}Gc.prototype.info=function(){};function I2(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var m=f[l];if(!(2>m.length)){var k=m[1];if(Array.isArray(k)&&!(1>k.length)){var N=k[0];if(N!="noop"&&N!="stop"&&N!="close")for(var z=1;z<k.length;z++)k[z]=""}}}}return Rm(f)}catch{return h}}var Ed={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Om;function Dd(){}x(Dd,Mm),Dd.prototype.g=function(){return new XMLHttpRequest},Dd.prototype.i=function(){return{}},Om=new Dd;function $i(l,h,f,m){this.j=l,this.i=h,this.l=f,this.R=m||1,this.U=new Bc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pE}function pE(){this.i=null,this.g="",this.h=!1}var gE={},Fm={};function Lm(l,h,f){l.L=1,l.v=Ad(ai(h)),l.m=f,l.P=!0,mE(l,null)}function mE(l,h){l.F=Date.now(),Sd(l),l.A=ai(l.v);var f=l.A,m=l.R;Array.isArray(m)||(m=[String(m)]),kE(f.i,"t",m),l.C=0,f=l.j.J,l.h=new pE,l.g=KE(l.j,f?h:null,!l.m),0<l.O&&(l.M=new y2(g(l.Y,l,l.g),l.O)),h=l.U,f=l.g,m=l.ca;var k="readystatechange";Array.isArray(k)||(k&&(sE[0]=k.toString()),k=sE);for(var N=0;N<k.length;N++){var z=JI(f,k[N],m||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Hc(),b2(l.i,l.u,l.A,l.l,l.R,l.m)}$i.prototype.ca=function(l){l=l.target;let h=this.M;h&&ci(l)==3?h.j():this.Y(l)},$i.prototype.Y=function(l){try{if(l==this.g)e:{let Qt=ci(this.g);var h=this.g.Ba();let ia=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||LE(this.g)))){this.J||Qt!=4||h==7||(h==8||0>=ia?Hc(3):Hc(2)),Vm(this);var f=this.g.Z();this.X=f;t:if(yE(this)){var m=LE(this.g);l="";var k=m.length,N=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),qc(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<k;h++)this.h.h=!0,l+=this.h.i.decode(m[h],{stream:!(N&&h==k-1)});m.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=f==200,C2(this.i,this.u,this.A,this.l,this.R,Qt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Ht=this.g;if((We=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(We)){var Me=We;break t}}Me=null}if(f=Me)ta(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Um(this,f);else{this.o=!1,this.s=3,sn(12),Vs(this),qc(this);break e}}if(this.P){f=!0;let ir;for(;!this.J&&this.C<z.length;)if(ir=E2(this,z),ir==Fm){Qt==4&&(this.s=4,sn(14),f=!1),ta(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==gE){this.s=4,sn(15),ta(this.i,this.l,z,"[Invalid Chunk]"),f=!1;break}else ta(this.i,this.l,ir,null),Um(this,ir);if(yE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||z.length!=0||this.h.h||(this.s=1,sn(16),f=!1),this.o=this.o&&f,!f)ta(this.i,this.l,z,"[Invalid Chunked Response]"),Vs(this),qc(this);else if(0<z.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Gm(Kt),Kt.M=!0,sn(11))}}else ta(this.i,this.l,z,null),Um(this,z);Qt==4&&Vs(this),this.o&&!this.J&&(Qt==4?zE(this.j,this):(this.o=!1,Sd(this)))}else B2(this.g),f==400&&0<z.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),Vs(this),qc(this)}}}catch{}finally{}};function yE(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function E2(l,h){var f=l.C,m=h.indexOf(`
`,f);return m==-1?Fm:(f=Number(h.substring(f,m)),isNaN(f)?gE:(m+=1,m+f>h.length?Fm:(h=h.slice(m,m+f),l.C=m+f,h)))}$i.prototype.cancel=function(){this.J=!0,Vs(this)};function Sd(l){l.S=Date.now()+l.I,vE(l,l.I)}function vE(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=zc(g(l.ba,l),h)}function Vm(l){l.B&&(a.clearTimeout(l.B),l.B=null)}$i.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(w2(this.i,this.A),this.L!=2&&(Hc(),sn(17)),Vs(this),this.s=2,qc(this)):vE(this,this.S-l)};function qc(l){l.j.G==0||l.J||zE(l.j,l)}function Vs(l){Vm(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,oE(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Um(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||jm(f.h,l))){if(!l.K&&jm(f.h,l)&&f.G==3){try{var m=f.Da.g.parse(h)}catch{m=null}if(Array.isArray(m)&&m.length==3){var k=m;if(k[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Pd(f),Md(f);else break e;zm(f),sn(18)}}else f.za=k[1],0<f.za-f.T&&37500>k[2]&&f.F&&f.v==0&&!f.C&&(f.C=zc(g(f.Za,f),6e3));if(1>=CE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else js(f,11)}else if((l.K||f.g==l)&&Pd(f),!ee(h))for(k=f.Da.g.parse(h),h=0;h<k.length;h++){let Me=k[h];if(f.T=Me[0],Me=Me[1],f.G==2)if(Me[0]=="c"){f.K=Me[1],f.ia=Me[2];let Kt=Me[3];Kt!=null&&(f.la=Kt,f.j.info("VER="+f.la));let Qt=Me[4];Qt!=null&&(f.Aa=Qt,f.j.info("SVER="+f.Aa));let ia=Me[5];ia!=null&&typeof ia=="number"&&0<ia&&(m=1.5*ia,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let ir=l.g;if(ir){let Fd=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fd){var N=m.h;N.g||Fd.indexOf("spdy")==-1&&Fd.indexOf("quic")==-1&&Fd.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Bm(N,N.h),N.h=null))}if(m.D){let qm=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;qm&&(m.ya=qm,Je(m.I,m.D,qm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var z=l;if(m.qa=WE(m,m.J?m.ia:null,m.W),z.K){wE(m.h,z);var We=z,Ht=m.L;Ht&&(We.I=Ht),We.B&&(Vm(We),Sd(We)),m.g=z}else $E(m);0<f.i.length&&Nd(f)}else Me[0]!="stop"&&Me[0]!="close"||js(f,7);else f.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?js(f,7):Hm(f):Me[0]!="noop"&&f.l&&f.l.ta(Me),f.v=0)}}Hc(4)}catch{}}var D2=class{constructor(l,h){this.g=l,this.map=h}};function _E(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bE(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function CE(l){return l.h?1:l.g?l.g.size:0}function jm(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Bm(l,h){l.g?l.g.add(h):l.h=h}function wE(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}_E.prototype.cancel=function(){if(this.i=IE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function IE(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let f of l.g.values())h=h.concat(f.D);return h}return O(l.i)}function S2(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],f=l.length,m=0;m<f;m++)h.push(l[m]);return h}h=[],f=0;for(m in l)h[f++]=l[m];return h}function x2(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(let m in l)h[f++]=m;return h}}}function EE(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=x2(l),m=S2(l),k=m.length,N=0;N<k;N++)h.call(void 0,m[N],f&&f[N],l)}var DE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function T2(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var m=l[f].indexOf("="),k=null;if(0<=m){var N=l[f].substring(0,m);k=l[f].substring(m+1)}else N=l[f];h(N,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Us(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Us){this.h=l.h,xd(this,l.j),this.o=l.o,this.g=l.g,Td(this,l.s),this.l=l.l;var h=l.i,f=new Qc;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),SE(this,f),this.m=l.m}else l&&(h=String(l).match(DE))?(this.h=!1,xd(this,h[1]||"",!0),this.o=Wc(h[2]||""),this.g=Wc(h[3]||"",!0),Td(this,h[4]),this.l=Wc(h[5]||"",!0),SE(this,h[6]||"",!0),this.m=Wc(h[7]||"")):(this.h=!1,this.i=new Qc(null,this.h))}Us.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Kc(h,xE,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Kc(h,xE,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(Kc(f,f.charAt(0)=="/"?R2:k2,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",Kc(f,N2)),l.join("")};function ai(l){return new Us(l)}function xd(l,h,f){l.j=f?Wc(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Td(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function SE(l,h,f){h instanceof Qc?(l.i=h,P2(l.i,l.h)):(f||(h=Kc(h,M2)),l.i=new Qc(h,l.h))}function Je(l,h,f){l.i.set(h,f)}function Ad(l){return Je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Wc(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Kc(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,A2),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function A2(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var xE=/[#\/\?@]/g,k2=/[#\?:]/g,R2=/[#\?]/g,M2=/[#\?@]/g,N2=/#/g;function Qc(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Hi(l){l.g||(l.g=new Map,l.h=0,l.i&&T2(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}n=Qc.prototype,n.add=function(l,h){Hi(this),this.i=null,l=na(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function TE(l,h){Hi(l),h=na(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function AE(l,h){return Hi(l),h=na(l,h),l.g.has(h)}n.forEach=function(l,h){Hi(this),this.g.forEach(function(f,m){f.forEach(function(k){l.call(h,k,m,this)},this)},this)},n.na=function(){Hi(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let m=0;m<h.length;m++){let k=l[m];for(let N=0;N<k.length;N++)f.push(h[m])}return f},n.V=function(l){Hi(this);let h=[];if(typeof l=="string")AE(this,l)&&(h=h.concat(this.g.get(na(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},n.set=function(l,h){return Hi(this),this.i=null,l=na(this,l),AE(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function kE(l,h,f){TE(l,h),0<f.length&&(l.i=null,l.g.set(na(l,h),O(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var m=h[f];let N=encodeURIComponent(String(m)),z=this.V(m);for(m=0;m<z.length;m++){var k=N;z[m]!==""&&(k+="="+encodeURIComponent(String(z[m]))),l.push(k)}}return this.i=l.join("&")};function na(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function P2(l,h){h&&!l.j&&(Hi(l),l.i=null,l.g.forEach(function(f,m){var k=m.toLowerCase();m!=k&&(TE(this,m),kE(this,k,f))},l)),l.j=h}function O2(l,h){let f=new Gc;if(a.Image){let m=new Image;m.onload=v(zi,f,"TestLoadImage: loaded",!0,h,m),m.onerror=v(zi,f,"TestLoadImage: error",!1,h,m),m.onabort=v(zi,f,"TestLoadImage: abort",!1,h,m),m.ontimeout=v(zi,f,"TestLoadImage: timeout",!1,h,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=l}else h(!1)}function F2(l,h){let f=new Gc,m=new AbortController,k=setTimeout(()=>{m.abort(),zi(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:m.signal}).then(N=>{clearTimeout(k),N.ok?zi(f,"TestPingServer: ok",!0,h):zi(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(k),zi(f,"TestPingServer: error",!1,h)})}function zi(l,h,f,m,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),m(f)}catch{}}function L2(){this.g=new _2}function V2(l,h,f){let m=f||"";try{EE(l,function(k,N){let z=k;u(k)&&(z=Rm(k)),h.push(m+N+"="+encodeURIComponent(z))})}catch(k){throw h.push(m+"type="+encodeURIComponent("_badmap")),k}}function Yc(l){this.l=l.Ub||null,this.j=l.eb||!1}x(Yc,Mm),Yc.prototype.g=function(){return new kd(this.l,this.j)},Yc.prototype.i=(function(l){return function(){return l}})({});function kd(l,h){Wt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(kd,Wt),n=kd.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Jc(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zc(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Jc(this)),this.g&&(this.readyState=3,Jc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;RE(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function RE(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Zc(this):Jc(this),this.readyState==3&&RE(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Zc(this))},n.Qa=function(l){this.g&&(this.response=l,Zc(this))},n.ga=function(){this.g&&Zc(this)};function Zc(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Jc(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function Jc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(kd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ME(l){let h="";return He(l,function(f,m){h+=m,h+=":",h+=f,h+=`\r
`}),h}function $m(l,h,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=ME(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):Je(l,h,f))}function ot(l){Wt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ot,Wt);var U2=/^https?$/i,j2=["POST","PUT"];n=ot.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Om.g(),this.v=this.o?aE(this.o):aE(Om),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){NE(this,N);return}if(l=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var k in m)f.set(k,m[k]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())f.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),k=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(j2,h,void 0))||m||k||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,z]of f)this.g.setRequestHeader(N,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FE(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){NE(this,N)}};function NE(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,PE(l),Rd(l)}function PE(l){l.A||(l.A=!0,rn(l,"complete"),rn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,rn(this,"complete"),rn(this,"abort"),Rd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rd(this,!0)),ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?OE(this):this.bb())},n.bb=function(){OE(this)};function OE(l){if(l.h&&typeof o<"u"&&(!l.v[1]||ci(l)!=4||l.Z()!=2)){if(l.u&&ci(l)==4)rE(l.Ea,0,l);else if(rn(l,"readystatechange"),ci(l)==4){l.h=!1;try{let z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var m;if(m=z===0){var k=String(l.D).match(DE)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),m=!U2.test(k?k.toLowerCase():"")}f=m}if(f)rn(l,"complete"),rn(l,"success");else{l.m=6;try{var N=2<ci(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",PE(l)}}finally{Rd(l)}}}}function Rd(l,h){if(l.g){FE(l);let f=l.g,m=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||rn(l,"ready");try{f.onreadystatechange=m}catch{}}}function FE(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function ci(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),v2(h)}};function LE(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function B2(l){let h={};l=(l.g&&2<=ci(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<l.length;m++){if(ee(l[m]))continue;var f=A(l[m]);let k=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=h[k]||[];h[k]=N,N.push(f)}T(h,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xc(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function VE(l){this.Aa=0,this.i=[],this.j=new Gc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xc("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xc("baseRetryDelayMs",5e3,l),this.cb=Xc("retryDelaySeedMs",1e4,l),this.Wa=Xc("forwardChannelMaxRetries",2,l),this.wa=Xc("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new _E(l&&l.concurrentRequestLimit),this.Da=new L2,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=VE.prototype,n.la=8,n.G=1,n.connect=function(l,h,f,m){sn(0),this.W=l,this.H=h||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=WE(this,null,this.W),Nd(this)};function Hm(l){if(UE(l),l.G==3){var h=l.U++,f=ai(l.I);if(Je(f,"SID",l.K),Je(f,"RID",h),Je(f,"TYPE","terminate"),el(l,f),h=new $i(l,l.j,h),h.L=2,h.v=Ad(ai(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=KE(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Sd(h)}qE(l)}function Md(l){l.g&&(Gm(l),l.g.cancel(),l.g=null)}function UE(l){Md(l),l.u&&(a.clearTimeout(l.u),l.u=null),Pd(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Nd(l){if(!bE(l.h)&&!l.s){l.s=!0;var h=l.Ga;Lc||ZI(),Vc||(Lc(),Vc=!0),wm.add(h,l),l.B=0}}function $2(l,h){return CE(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=zc(g(l.Ga,l,h),GE(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let k=new $i(this,this.j,l),N=this.o;if(this.S&&(N?(N=b(N),S(N,this.S)):N=this.S),this.m!==null||this.O||(k.H=N,N=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(h+=m,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=BE(this,k,h),f=ai(this.I),Je(f,"RID",l),Je(f,"CVER",22),this.D&&Je(f,"X-HTTP-Session-Id",this.D),el(this,f),N&&(this.O?h="headers="+encodeURIComponent(String(ME(N)))+"&"+h:this.m&&$m(f,this.m,N)),Bm(this.h,k),this.Ua&&Je(f,"TYPE","init"),this.P?(Je(f,"$req",h),Je(f,"SID","null"),k.T=!0,Lm(k,f,null)):Lm(k,f,h),this.G=2}}else this.G==3&&(l?jE(this,l):this.i.length==0||bE(this.h)||jE(this))};function jE(l,h){var f;h?f=h.l:f=l.U++;let m=ai(l.I);Je(m,"SID",l.K),Je(m,"RID",f),Je(m,"AID",l.T),el(l,m),l.m&&l.o&&$m(m,l.m,l.o),f=new $i(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=BE(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Bm(l.h,f),Lm(f,m,h)}function el(l,h){l.H&&He(l.H,function(f,m){Je(h,m,f)}),l.l&&EE({},function(f,m){Je(h,m,f)})}function BE(l,h,f){f=Math.min(l.i.length,f);var m=l.l?g(l.l.Na,l.l,l):null;e:{var k=l.i;let N=-1;for(;;){let z=["count="+f];N==-1?0<f?(N=k[0].g,z.push("ofs="+N)):N=0:z.push("ofs="+N);let We=!0;for(let Ht=0;Ht<f;Ht++){let Me=k[Ht].g,Kt=k[Ht].map;if(Me-=N,0>Me)N=Math.max(0,k[Ht].g-100),We=!1;else try{V2(Kt,z,"req"+Me+"_")}catch{m&&m(Kt)}}if(We){m=z.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,m}function $E(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Lc||ZI(),Vc||(Lc(),Vc=!0),wm.add(h,l),l.v=0}}function zm(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=zc(g(l.Fa,l),GE(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,HE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=zc(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),Md(this),HE(this))};function Gm(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function HE(l){l.g=new $i(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=ai(l.qa);Je(h,"RID","rpc"),Je(h,"SID",l.K),Je(h,"AID",l.T),Je(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Je(h,"TO",l.ja),Je(h,"TYPE","xmlhttp"),el(l,h),l.m&&l.o&&$m(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=Ad(ai(h)),f.m=null,f.P=!0,mE(f,l)}n.Za=function(){this.C!=null&&(this.C=null,Md(this),zm(this),sn(19))};function Pd(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function zE(l,h){var f=null;if(l.g==h){Pd(l),Gm(l),l.g=null;var m=2}else if(jm(l.h,h))f=h.D,wE(l.h,h),m=1;else return;if(l.G!=0){if(h.o)if(m==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var k=l.B;m=Id(),rn(m,new hE(m,f)),Nd(l)}else $E(l);else if(k=h.s,k==3||k==0&&0<h.X||!(m==1&&$2(l,h)||m==2&&zm(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),k){case 1:js(l,5);break;case 4:js(l,10);break;case 3:js(l,6);break;default:js(l,2)}}}function GE(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function js(l,h){if(l.j.info("Error code "+h),h==2){var f=g(l.fb,l),m=l.Xa;let k=!m;m=new Us(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xd(m,"https"),Ad(m),k?O2(m.toString(),f):F2(m.toString(),f)}else sn(2);l.G=0,l.l&&l.l.sa(h),qE(l),UE(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function qE(l){if(l.G=0,l.ka=[],l.l){let h=IE(l.h);(h.length!=0||l.i.length!=0)&&(M(l.ka,h),M(l.ka,l.i),l.h.i.length=0,O(l.i),l.i.length=0),l.l.ra()}}function WE(l,h,f){var m=f instanceof Us?ai(f):new Us(f);if(m.g!="")h&&(m.g=h+"."+m.g),Td(m,m.s);else{var k=a.location;m=k.protocol,h=h?h+"."+k.hostname:k.hostname,k=+k.port;var N=new Us(null);m&&xd(N,m),h&&(N.g=h),k&&Td(N,k),f&&(N.l=f),m=N}return f=l.D,h=l.ya,f&&h&&Je(m,f,h),Je(m,"VER",l.la),el(l,m),m}function KE(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new ot(new Yc({eb:f})):new ot(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function QE(){}n=QE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Od(){}Od.prototype.g=function(l,h){return new In(l,h)};function In(l,h){Wt.call(this),this.g=new VE(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!ee(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!ee(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ra(this)}x(In,Wt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Hm(this.g)},In.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Rm(l),l=f);h.i.push(new D2(h.Ya++,l)),h.G==3&&Nd(h)},In.prototype.N=function(){this.g.l=null,delete this.j,Hm(this.g),delete this.g,In.aa.N.call(this)};function YE(l){Nm.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}x(YE,Nm);function ZE(){Pm.call(this),this.status=1}x(ZE,Pm);function ra(l){this.g=l}x(ra,QE),ra.prototype.ua=function(){rn(this.g,"a")},ra.prototype.ta=function(l){rn(this.g,new YE(l))},ra.prototype.sa=function(l){rn(this.g,new ZE)},ra.prototype.ra=function(){rn(this.g,"b")},Od.prototype.createWebChannel=Od.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,Kb=Ri.createWebChannelTransport=function(){return new Od},Wb=Ri.getStatEventTarget=function(){return Id()},qb=Ri.Event=Ls,Yp=Ri.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ed.NO_ERROR=0,Ed.TIMEOUT=8,Ed.HTTP_ERROR=6,Vu=Ri.ErrorCode=Ed,fE.COMPLETE="complete",Gb=Ri.EventType=fE,cE.EventType=$c,$c.OPEN="a",$c.CLOSE="b",$c.ERROR="c",$c.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,ic=Ri.WebChannel=cE,E$=Ri.FetchXmlHttpFactory=Yc,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,zb=Ri.XhrIo=ot}).apply(typeof Qp<"u"?Qp:typeof self<"u"?self:typeof window<"u"?window:{});var yR="@firebase/firestore",vR="4.8.0";var Bt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");var Ec="11.10.0";var zo=new qr("@firebase/firestore");function sc(){return zo.logLevel}function W(n,...e){if(zo.logLevel<=De.DEBUG){let t=e.map(Vw);zo.debug(`Firestore (${Ec}): ${n}`,...t)}}function Mi(n,...e){if(zo.logLevel<=De.ERROR){let t=e.map(Vw);zo.error(`Firestore (${Ec}): ${n}`,...t)}}function xs(n,...e){if(zo.logLevel<=De.WARN){let t=e.map(Vw);zo.warn(`Firestore (${Ec}): ${n}`,...t)}}function Vw(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ae(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,uM(n,r,t)}function uM(n,e,t){let r=`FIRESTORE (${Ec}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Mi(r),new Error(r)}function $e(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||uM(e,i,r)}function fe(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends Vn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var wr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var rg=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Xb=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}},eC=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},tC=class{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wr)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new rg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Bt(e)}},nC=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},rC=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new nC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ig=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},iC=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);let r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ig(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ig(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function D$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function dM(){return new TextEncoder}var zu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=D$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}};function Ce(n,e){return n<e?-1:n>e?1:0}function sC(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ce(r,i);{let s=dM(),o=S$(s.encode(_R(n,t)),s.encode(_R(e,t)));return o!==0?o:Ce(r,i)}}t+=r>65535?2:1}return Ce(n.length,e.length)}function _R(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function S$(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ce(n[t],e[t]);return Ce(n.length,e.length)}function hc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var bR="__name__",sg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ae(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ae(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=n.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Ce(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):sC(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ki.fromString(e.substring(4,e.length-2))}},nt=class n extends sg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},x$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jn=class n extends sg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return x$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bR}static keyField(){return new n([bR])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ne=class n{constructor(e){this.path=e}static fromPath(e){return new n(nt.fromString(e))}static fromName(e){return new n(nt.fromString(e).popFirst(5))}static empty(){return new n(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new nt(e.slice()))}};function hM(n,e,t){if(!t)throw new G(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function T$(n,e,t,r){if(e===!0&&r===!0)throw new G(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function CR(n){if(!ne.isDocumentKey(n))throw new G(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wR(n){if(ne.isDocumentKey(n))throw new G(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fM(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Lg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ae(12329,{type:typeof n})}function Cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new G(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Lg(n);throw new G(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function St(n,e){let t={typeString:n};return e&&(t.value=e),t}function id(n,e){if(!fM(n))throw new G(F.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new G(F.INVALID_ARGUMENT,t);return!0}var IR=-62135596800,ER=1e6,xt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ER);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<IR)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ER}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(id(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-IR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:St("string",xt._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};var ye=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new xt(0,0))}static max(){return new n(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Gu=-1,oC=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};oC.UNKNOWN_ID=-1;function A$(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new xt(t+1,0):new xt(t,r));return new Go(i,ne.empty(),e)}function k$(n){return new Go(n.readTime,n.key,Gu)}var Go=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ye.min(),ne.empty(),Gu)}static max(){return new n(ye.max(),ne.empty(),Gu)}};function R$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ne.comparator(n.documentKey,e.documentKey),t!==0?t:Ce(n.largestBatchId,e.largestBatchId))}var M$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",aC=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Dc(n){if(n.code!==F.FAILED_PRECONDITION||n.message!==M$)throw n;W("LocalStore","Unexpectedly lost primary lease")}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;t(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function N$(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sc(n){return n.name==="IndexedDbTransactionError"}var Uw=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),jw=-1;function Vg(n){return n==null}function qu(n){return n===0&&1/n==-1/0}function P$(n){return typeof n=="number"&&Number.isInteger(n)&&!qu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var pM="";function O$(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DR(e)),e=F$(n.get(t),e);return DR(e)}function F$(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case pM:t+="";break;default:t+=s}}return t}function DR(n){return n+pM+""}var L$="remoteDocuments",gM="owner";var mM="mutationQueues";var yM="mutations";var vM="documentMutations",V$="remoteDocumentsV14";var _M="remoteDocumentGlobal";var bM="targets";var CM="targetDocuments";var wM="targetGlobal",IM="collectionParents";var EM="clientMetadata";var DM="bundles";var SM="namedQueries";var U$="indexConfiguration";var j$="indexState";var B$="indexEntries";var xM="documentOverlays";var $$="globals";var H$=[mM,yM,vM,L$,bM,gM,wM,CM,EM,_M,IM,DM,SM],fde=[...H$,xM],z$=[mM,yM,vM,V$,bM,gM,wM,CM,EM,_M,IM,DM,SM,xM],G$=z$,q$=[...G$,U$,j$,B$];var pde=[...q$,$$];function SR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ns(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function TM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ht=class n{constructor(e,t){this.comparator=e,this.root=t||Qr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}},lc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Qr=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}};Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1;Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Qr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var $t=class n{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new og(this.data.getIterator())}getIteratorFrom(e){return new og(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},og=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var er=class n{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new n([])}unionWith(e){let t=new $t(jn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var ag=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var nn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ag("Invalid base64 string: "+s):s}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nn.EMPTY_BYTE_STRING=new nn("");var W$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(n){if($e(!!n,39018),typeof n=="string"){let e=0,t=W$.exec(n);if($e(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(n.seconds),nanos:tt(n.nanos)}}function tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pi(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}var AM="server_timestamp",kM="__type__",RM="__previous_value__",MM="__local_write_time__";function Bw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kM])===null||t===void 0?void 0:t.stringValue)===AM}function Ug(n){let e=n.mapValue.fields[RM];return Bw(e)?Ug(e):e}function Wu(n){let e=Ni(n.mapValue.fields[MM].timestampValue);return new xt(e.seconds,e.nanos)}var cC=class{constructor(e,t,r,i,s,o,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},cg="(default)",lg=class n{constructor(e,t){this.projectId=e,this.database=t||cg}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===cg}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var $w="__type__",NM="__max__",Zp={mapValue:{fields:{__type__:{stringValue:NM}}}},Hw="__vector__",fc="value";function Ts(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bw(n)?4:OM(n)?9007199254740991:PM(n)?10:11:ae(28295,{value:n})}function Xr(n,e){if(n===e)return!0;let t=Ts(n);if(t!==Ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wu(n).isEqual(Wu(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Ni(i.timestampValue),a=Ni(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return Pi(i.bytesValue).isEqual(Pi(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return tt(i.geoPointValue.latitude)===tt(s.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return tt(i.integerValue)===tt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=tt(i.doubleValue),a=tt(s.doubleValue);return o===a?qu(o)===qu(a):isNaN(o)&&isNaN(a)}return!1})(n,e);case 9:return hc(n.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return(function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(SR(o)!==SR(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Xr(o[c],a[c])))return!1;return!0})(n,e);default:return ae(52216,{left:n})}}function Ku(n,e){return(n.values||[]).find(t=>Xr(t,e))!==void 0}function pc(n,e){if(n===e)return 0;let t=Ts(n),r=Ts(e);if(t!==r)return Ce(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(n.booleanValue,e.booleanValue);case 2:return(function(s,o){let a=tt(s.integerValue||s.doubleValue),c=tt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return xR(n.timestampValue,e.timestampValue);case 4:return xR(Wu(n),Wu(e));case 5:return sC(n.stringValue,e.stringValue);case 6:return(function(s,o){let a=Pi(s),c=Pi(o);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=Ce(a[u],c[u]);if(d!==0)return d}return Ce(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){let a=Ce(tt(s.latitude),tt(o.latitude));return a!==0?a:Ce(tt(s.longitude),tt(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return TR(n.arrayValue,e.arrayValue);case 10:return(function(s,o){var a,c,u,d;let p=s.fields||{},g=o.fields||{},v=(a=p[fc])===null||a===void 0?void 0:a.arrayValue,x=(c=g[fc])===null||c===void 0?void 0:c.arrayValue,O=Ce(((u=v?.values)===null||u===void 0?void 0:u.length)||0,((d=x?.values)===null||d===void 0?void 0:d.length)||0);return O!==0?O:TR(v,x)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===Zp.mapValue&&o===Zp.mapValue)return 0;if(s===Zp.mapValue)return 1;if(o===Zp.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){let g=sC(c[p],d[p]);if(g!==0)return g;let v=pc(a[c[p]],u[d[p]]);if(v!==0)return v}return Ce(c.length,d.length)})(n.mapValue,e.mapValue);default:throw ae(23264,{le:t})}}function xR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ce(n,e);let t=Ni(n),r=Ni(e),i=Ce(t.seconds,r.seconds);return i!==0?i:Ce(t.nanos,r.nanos)}function TR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=pc(t[i],r[i]);if(s)return s}return Ce(t.length,r.length)}function gc(n){return lC(n)}function lC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Ni(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Pi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ne.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=lC(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${lC(t.fields[o])}`;return i+"}"})(n.mapValue):ae(61005,{value:n})}function eg(n){switch(Ts(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Ug(n);return e?16+eg(e):16;case 5:return 2*n.stringValue.length;case 6:return Pi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,s)=>i+eg(s),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ns(r.fields,(s,o)=>{i+=s.length+eg(o)}),i})(n.mapValue);default:throw ae(13486,{value:n})}}function AR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uC(n){return!!n&&"integerValue"in n}function zw(n){return!!n&&"arrayValue"in n}function kR(n){return!!n&&"nullValue"in n}function RR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tg(n){return!!n&&"mapValue"in n}function PM(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[$w])===null||t===void 0?void 0:t.stringValue)===Hw}function ju(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ns(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ju(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ju(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NM}var mde={mapValue:{fields:{[$w]:{stringValue:Hw},[fc]:{arrayValue:{}}}}};var Un=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ju(t)}setAll(e){let t=jn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=ju(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());tg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ns(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(ju(this.value))}};function FM(n){let e=[];return Ns(n.fields,(t,r)=>{let i=new jn([t]);if(tg(r)){let s=FM(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new er(e)}var Ir=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ye.min(),ye.min(),ye.min(),Un.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ye.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ye.min(),ye.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ye.min(),ye.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var mc=class{constructor(e,t){this.position=e,this.inclusive=t}};function MR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),t.key):r=pc(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function NR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xr(n.position[t],e.position[t]))return!1;return!0}var qo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function K$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ug=class{},Dt=class n extends ug{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new hC(e,t,r):t==="array-contains"?new gC(e,r):t==="in"?new mC(e,r):t==="not-in"?new yC(e,r):t==="array-contains-any"?new vC(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new fC(e,r):new pC(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(pc(t,this.value)):t!==null&&Ts(this.value)===Ts(t)&&this.matchesComparison(pc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Er=class n extends ug{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return LM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function LM(n){return n.op==="and"}function VM(n){return Q$(n)&&LM(n)}function Q$(n){for(let e of n.filters)if(e instanceof Er)return!1;return!0}function dC(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+gc(n.value);if(VM(n))return n.filters.map(e=>dC(e)).join(",");{let e=n.filters.map(t=>dC(t)).join(",");return`${n.op}(${e})`}}function UM(n,e){return n instanceof Dt?(function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&Xr(r.value,i.value)})(n,e):n instanceof Er?(function(r,i){return i instanceof Er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&UM(o,i.filters[a]),!0):!1})(n,e):void ae(19439)}function jM(n){return n instanceof Dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${gc(t.value)}`})(n):n instanceof Er?(function(t){return t.op.toString()+" {"+t.getFilters().map(jM).join(" ,")+"}"})(n):"Filter"}var hC=class extends Dt{constructor(e,t,r){super(e,t,r),this.key=ne.fromName(r.referenceValue)}matches(e){let t=ne.comparator(e.key,this.key);return this.matchesComparison(t)}},fC=class extends Dt{constructor(e,t){super(e,"in",t),this.keys=BM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},pC=class extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=BM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function BM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ne.fromName(r.referenceValue))}var gC=class extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return zw(t)&&Ku(t.arrayValue,this.value)}},mC=class extends Dt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ku(this.value.arrayValue,t)}},yC=class extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ku(this.value.arrayValue,t)}},vC=class extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!zw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ku(this.value.arrayValue,r))}};var _C=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}};function PR(n,e=null,t=[],r=[],i=null,s=null,o=null){return new _C(n,e,t,r,i,s,o)}function Gw(n){let e=fe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>dC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(s){return s.field.canonicalString()+s.dir})(r)).join(","),Vg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gc(r)).join(",")),e.Pe=t}return e.Pe}function qw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!K$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!UM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!NR(n.startAt,e.startAt)&&NR(n.endAt,e.endAt)}function bC(n){return ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var As=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Y$(n,e,t,r,i,s,o,a){return new As(n,e,t,r,i,s,o,a)}function jg(n){return new As(n)}function OR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $M(n){return n.collectionGroup!==null}function Bu(n){let e=fe(n);if(e.Te===null){e.Te=[];let t=new Set;for(let s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $t(jn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new qo(s,r))}),t.has(jn.keyField().canonicalString())||e.Te.push(new qo(jn.keyField(),r))}return e.Te}function Yr(n){let e=fe(n);return e.Ie||(e.Ie=Z$(e,Bu(n))),e.Ie}function Z$(n,e){if(n.limitType==="F")return PR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new qo(i.field,s)});let t=n.endAt?new mc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new mc(n.startAt.position,n.startAt.inclusive):null;return PR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function CC(n,e){let t=n.filters.concat([e]);return new As(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wC(n,e,t){return new As(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bg(n,e){return qw(Yr(n),Yr(e))&&n.limitType===e.limitType}function HM(n){return`${Gw(Yr(n))}|lt:${n.limitType}`}function oc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>jM(i)).join(", ")}]`),Vg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>gc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>gc(i)).join(",")),`Target(${r})`})(Yr(n))}; limitType=${n.limitType})`}function $g(n,e){return e.isFoundDocument()&&(function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(let s of Bu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,c){let u=MR(o,a,c);return o.inclusive?u<=0:u<0})(r.startAt,Bu(r),i)||r.endAt&&!(function(o,a,c){let u=MR(o,a,c);return o.inclusive?u>=0:u>0})(r.endAt,Bu(r),i))})(n,e)}function J$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zM(n){return(e,t)=>{let r=!1;for(let i of Bu(n)){let s=X$(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function X$(n,e,t){let r=n.field.isKeyField()?ne.comparator(e.key,t.key):(function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?pc(c,u):ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:n.dir})}}var Oi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return TM(this.inner)}size(){return this.innerSize}};var e8=new ht(ne.comparator);function Fi(){return e8}var GM=new ht(ne.comparator);function Uu(...n){let e=GM;for(let t of n)e=e.insert(t.key,t);return e}function qM(n){let e=GM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Uo(){return $u()}function WM(){return $u()}function $u(){return new Oi(n=>n.toString(),(n,e)=>n.isEqual(e))}var t8=new ht(ne.comparator),n8=new $t(ne.comparator);function Te(...n){let e=n8;for(let t of n)e=e.add(t);return e}var r8=new $t(Ce);function i8(){return r8}function Ww(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function KM(n){return{integerValue:""+n}}function s8(n,e){return P$(e)?KM(e):Ww(n,e)}var yc=class{constructor(){this._=void 0}};function o8(n,e,t){return n instanceof Wo?(function(i,s){let o={fields:{[kM]:{stringValue:AM},[MM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Bw(s)&&(s=Ug(s)),s&&(o.fields[RM]=s),{mapValue:o}})(t,e):n instanceof Ko?YM(n,e):n instanceof Qo?ZM(n,e):(function(i,s){let o=QM(i,s),a=FR(o)+FR(i.Ee);return uC(o)&&uC(i.Ee)?KM(a):Ww(i.serializer,a)})(n,e)}function a8(n,e,t){return n instanceof Ko?YM(n,e):n instanceof Qo?ZM(n,e):t}function QM(n,e){return n instanceof vc?(function(r){return uC(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}var Wo=class extends yc{},Ko=class extends yc{constructor(e){super(),this.elements=e}};function YM(n,e){let t=JM(e);for(let r of n.elements)t.some(i=>Xr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Qo=class extends yc{constructor(e){super(),this.elements=e}};function ZM(n,e){let t=JM(e);for(let r of n.elements)t=t.filter(i=>!Xr(i,r));return{arrayValue:{values:t}}}var vc=class extends yc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function FR(n){return tt(n.integerValue||n.doubleValue)}function JM(n){return zw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var IC=class{constructor(e,t){this.field=e,this.transform=t}};function c8(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Ko&&i instanceof Ko||r instanceof Qo&&i instanceof Qo?hc(r.elements,i.elements,Xr):r instanceof vc&&i instanceof vc?Xr(r.Ee,i.Ee):r instanceof Wo&&i instanceof Wo})(n.transform,e.transform)}var EC=class{constructor(e,t){this.version=e,this.transformResults=t}},Zr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ng(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var _c=class{};function XM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qu(n.key,Zr.none()):new Yo(n.key,n.data,Zr.none());{let t=n.data,r=Un.empty(),i=new $t(jn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ei(n.key,r,new er(i.toArray()),Zr.none())}}function l8(n,e,t){n instanceof Yo?(function(i,s,o){let a=i.value.clone(),c=VR(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(n,e,t):n instanceof ei?(function(i,s,o){if(!ng(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=VR(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(eN(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Hu(n,e,t,r){return n instanceof Yo?(function(s,o,a,c){if(!ng(s.precondition,o))return a;let u=s.value.clone(),d=UR(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof ei?(function(s,o,a,c){if(!ng(s.precondition,o))return a;let u=UR(s.fieldTransforms,c,o),d=o.data;return d.setAll(eN(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(s,o,a){return ng(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(n,e,t)}function u8(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=QM(r.transform,i||null);s!=null&&(t===null&&(t=Un.empty()),t.set(r.field,s))}return t||null}function LR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hc(r,i,(s,o)=>c8(s,o))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Yo=class extends _c{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ei=class extends _c{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function eN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function VR(n,e,t){let r=new Map;$e(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,a8(o,a,t[i]))}return r}function UR(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,o8(s,o,e))}return r}var Qu=class extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},DC=class extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var SC=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&l8(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Hu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=WM();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=XM(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Te())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,(t,r)=>LR(t,r))&&hc(this.baseMutations,e.baseMutations,(t,r)=>LR(t,r))}},xC=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){$e(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return t8})(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var TC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var AC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var It,ke;function d8(n){switch(n){case F.OK:return ae(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ae(15467,{code:n})}}function tN(n){if(n===void 0)return Mi("GRPC error has no .code"),F.UNKNOWN;switch(n){case It.OK:return F.OK;case It.CANCELLED:return F.CANCELLED;case It.UNKNOWN:return F.UNKNOWN;case It.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case It.INTERNAL:return F.INTERNAL;case It.UNAVAILABLE:return F.UNAVAILABLE;case It.UNAUTHENTICATED:return F.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case It.NOT_FOUND:return F.NOT_FOUND;case It.ALREADY_EXISTS:return F.ALREADY_EXISTS;case It.PERMISSION_DENIED:return F.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case It.ABORTED:return F.ABORTED;case It.OUT_OF_RANGE:return F.OUT_OF_RANGE;case It.UNIMPLEMENTED:return F.UNIMPLEMENTED;case It.DATA_LOSS:return F.DATA_LOSS;default:return ae(39323,{code:n})}}(ke=It||(It={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";var jR=null;var h8=new ki([4294967295,4294967295],0);function BR(n){let e=dM().encode(n),t=new Hb;return t.update(e),new Uint8Array(t.digest())}function $R(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ki([t,r],0),new ki([i,s],0)]}var kC=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jo(`Invalid padding: ${t}`);if(r<0)throw new jo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new jo(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ki.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(ki.fromNumber(r)));return i.compare(h8)===1&&(i=new ki([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=BR(e),[r,i]=$R(t);for(let s=0;s<this.hashCount;s++){let o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;let t=BR(e),[r,i]=$R(t);for(let s=0;s<this.hashCount;s++){let o=this.pe(r,i,s);this.we(o)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},jo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var dg=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ye.min(),i,new ht(Ce),Fi(),Te())}},Yu=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Te(),Te(),Te())}};var uc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},hg=class{constructor(e,t){this.targetId=e,this.De=t}},fg=class{constructor(e,t,r=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},pg=class{constructor(){this.ve=0,this.Ce=HR(),this.Fe=nn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Te(),t=Te(),r=Te();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ae(38017,{changeType:s})}}),new Yu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=HR()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},RC=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Fi(),this.je=Jp(),this.Je=Jp(),this.He=new ht(Ce)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let s=i.target;if(bC(s))if(r===0){let o=new ne(s.path);this.Xe(t,o,Ir.newNoDocument(o,ye.min()))}else $e(r===1,20013,{expectedCount:r});else{let o=this.ot(t);if(o!==r){let a=this._t(e),c=a?this.ut(a,e,o):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}jR?.ct((function(d,p,g,v,x){var O,M,$,ee,oe,Ve;let Pt={localCacheCount:d,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},He=p.unchangedNames;return He&&(Pt.bloomFilter={applied:x===0,hashCount:(O=He?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(ee=($=(M=He?.bits)===null||M===void 0?void 0:M.bitmap)===null||$===void 0?void 0:$.length)!==null&&ee!==void 0?ee:0,padding:(Ve=(oe=He?.bits)===null||oe===void 0?void 0:oe.padding)!==null&&Ve!==void 0?Ve:0,mightContain:T=>{var b;return(b=v?.mightContain(T))!==null&&b!==void 0&&b}}),Pt})(o,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=Pi(r).toUint8Array()}catch(c){if(c instanceof ag)return xs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new kC(o,i,s)}catch(c){return xs(c instanceof jo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,s,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((s,o)=>{let a=this.st(o);if(a){if(s.current&&bC(a.target)){let c=new ne(a.target.path);this.Tt(c).has(o)||this.It(o,c)||this.Xe(o,c,Ir.newNoDocument(c,e))}s.Ne&&(t.set(o,s.Le()),s.ke())}});let r=Te();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));let i=new dg(e,t,this.He,this.ze,r);return this.ze=Fi(),this.je=Jp(),this.Je=Jp(),this.He=new ht(Ce),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new pg,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new $t(Ce),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new $t(Ce),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new pg),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Jp(){return new ht(ne.comparator)}function HR(){return new ht(ne.comparator)}var f8={asc:"ASCENDING",desc:"DESCENDING"},p8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g8={and:"AND",or:"OR"},MC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function NC(n,e){return n.useProto3Json||Vg(e)?e:{value:e}}function gg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function m8(n,e){return gg(n,e.toTimestamp())}function Jr(n){return $e(!!n,49232),ye.fromTimestamp((function(t){let r=Ni(t);return new xt(r.seconds,r.nanos)})(n))}function Kw(n,e){return PC(n,e).canonicalString()}function PC(n,e){let t=(function(i){return new nt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function rN(n){let e=nt.fromString(n);return $e(cN(e),10190,{key:e.toString()}),e}function OC(n,e){return Kw(n.databaseId,e.path)}function Qb(n,e){let t=rN(e);if(t.get(1)!==n.databaseId.projectId)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ne(sN(t))}function iN(n,e){return Kw(n.databaseId,e)}function y8(n){let e=rN(n);return e.length===4?nt.emptyPath():sN(e)}function FC(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sN(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function zR(n,e,t){return{name:OC(n,e),fields:t.value.mapValue.fields}}function v8(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(u,d){return u.useProto3Json?($e(d===void 0||typeof d=="string",58123),nn.fromBase64String(d||"")):($e(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),nn.fromUint8Array(d||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(u){let d=u.code===void 0?F.UNKNOWN:tN(u.code);return new G(d,u.message||"")})(o);t=new fg(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Qb(n,r.document.name),s=Jr(r.document.updateTime),o=r.document.createTime?Jr(r.document.createTime):ye.min(),a=new Un({mapValue:{fields:r.document.fields}}),c=Ir.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new uc(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Qb(n,r.document),s=r.readTime?Jr(r.readTime):ye.min(),o=Ir.newNoDocument(i,s),a=r.removedTargetIds||[];t=new uc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Qb(n,r.document),s=r.removedTargetIds||[];t=new uc([],s,i,null)}else{if(!("filter"in e))return ae(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new AC(i,s),a=r.targetId;t=new hg(a,o)}}return t}function _8(n,e){let t;if(e instanceof Yo)t={update:zR(n,e.key,e.value)};else if(e instanceof Qu)t={delete:OC(n,e.key)};else if(e instanceof ei)t={update:zR(n,e.key,e.data),updateMask:T8(e.fieldMask)};else{if(!(e instanceof DC))return ae(16599,{Rt:e.type});t={verify:OC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(s,o){let a=o.transform;if(a instanceof Wo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ko)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vc)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ae(20930,{transform:o.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:m8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae(27497)})(n,e.precondition)),t}function b8(n,e){return n&&n.length>0?($e(e!==void 0,14353),n.map(t=>(function(i,s){let o=i.updateTime?Jr(i.updateTime):Jr(s);return o.isEqual(ye.min())&&(o=Jr(s)),new EC(o,i.transformResults||[])})(t,e))):[]}function C8(n,e){return{documents:[iN(n,e.path)]}}function w8(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=iN(n,i);let s=(function(u){if(u.length!==0)return aN(Er.create(u,"and"))})(e.filters);s&&(t.structuredQuery.where=s);let o=(function(u){if(u.length!==0)return u.map(d=>(function(g){return{field:ac(g.field),direction:D8(g.dir)}})(d))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=NC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{Vt:t,parent:i}}function I8(n){let e=y8(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){$e(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=(function(p){let g=oN(p);return g instanceof Er&&VM(g)?g.getFilters():[g]})(t.where));let o=[];t.orderBy&&(o=(function(p){return p.map(g=>(function(x){return new qo(cc(x.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,Vg(g)?null:g})(t.limit));let c=null;t.startAt&&(c=(function(p){let g=!!p.before,v=p.values||[];return new mc(v,g)})(t.startAt));let u=null;return t.endAt&&(u=(function(p){let g=!p.before,v=p.values||[];return new mc(v,g)})(t.endAt)),Y$(e,i,o,s,a,"F",c,u)}function E8(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oN(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=cc(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=cc(t.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=cc(t.unaryFilter.field);return Dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=cc(t.unaryFilter.field);return Dt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Dt.create(cc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Er.create(t.compositeFilter.filters.map(r=>oN(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae(1026)}})(t.compositeFilter.op))})(n):ae(30097,{filter:n})}function D8(n){return f8[n]}function S8(n){return p8[n]}function x8(n){return g8[n]}function ac(n){return{fieldPath:n.canonicalString()}}function cc(n){return jn.fromServerFormat(n.fieldPath)}function aN(n){return n instanceof Dt?(function(t){if(t.op==="=="){if(RR(t.value))return{unaryFilter:{field:ac(t.field),op:"IS_NAN"}};if(kR(t.value))return{unaryFilter:{field:ac(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(RR(t.value))return{unaryFilter:{field:ac(t.field),op:"IS_NOT_NAN"}};if(kR(t.value))return{unaryFilter:{field:ac(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ac(t.field),op:S8(t.op),value:t.value}}})(n):n instanceof Er?(function(t){let r=t.getFilters().map(i=>aN(i));return r.length===1?r[0]:{compositeFilter:{op:x8(t.op),filters:r}}})(n):ae(54877,{filter:n})}function T8(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Zu=class n{constructor(e,t,r,i,s=ye.min(),o=ye.min(),a=nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var LC=class{constructor(e){this.gt=e}};function A8(n){let e=I8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wC(e,e.limit,"L"):e}var mg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(tt(e.integerValue));else if("doubleValue"in e){let r=tt(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),qu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Ni(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Pi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?OM(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):PM(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ae(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let s=e.fields||{};this.Ct(t,53);let o=fc,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(tt(a)),this.xt(o,t),this.Dt(s[o],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),ne.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};mg.Ut=new mg;var VC=class{constructor(){this.Dn=new UC}addToCollectionParentIndex(e,t){return this.Dn.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(Go.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},UC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new $t(nt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $t(nt.comparator)).toArray()}};var yde=new Uint8Array(0);var GR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lN=41943040,Xn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(lN,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);var Ju=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var qR="LruGarbageCollector",k8=1048576;function WR([n,e],[t,r]){let i=Ce(n,t);return i===0?Ce(e,r):i}var jC=class{constructor(e){this.Tr=e,this.buffer=new $t(WR),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();WR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},BC=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){W(qR,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sc(t)?W(qR,"Ignoring IndexedDB error during garbage collection: ",t):await Dc(t)}await this.Rr(3e5)})}},$C=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return V.resolve(Uw.ue);let r=new jC(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(GR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GR):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,s,o,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),sc()<=De.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}};function R8(n,e){return new $C(n,e)}var HC=class{constructor(){this.changes=new Oi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ir.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var zC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var GC=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Hu(r.mutation,i,er.empty(),xt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Te()){let i=Uo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Uu();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Uo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Te()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Fi(),o=$u(),a=(function(){return $u()})();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ei)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Hu(d.mutation,u,d.mutation.getFieldMask(),xt.now())):o.set(u.key,er.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),t.forEach((u,d)=>{var p;return a.set(u,new zC(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=$u(),i=new ht((o,a)=>o-a),s=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||er.empty();d=a.applyToLocalView(u,d),r.set(c,d);let p=(i.get(a.batchId)||Te()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,p=WM();d.forEach(g=>{if(!s.has(g)){let v=XM(t.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$M(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):V.resolve(Uo()),a=Gu,c=s;return o.next(u=>V.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Te())).next(d=>({batchId:a,changes:qM(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ne(t)).next(r=>{let i=Uu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Uu();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,c=>{let u=(function(p,g){return new As(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ir.newInvalidDocument(d)))});let a=Uu();return o.forEach((c,u)=>{let d=s.get(c);d!==void 0&&Hu(d.mutation,u,er.empty(),xt.now()),$g(t,u)&&(a=a.insert(c,u))}),a})}};var qC=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return V.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Jr(i.createTime)}})(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:A8(i.bundledQuery),readTime:Jr(i.readTime)}})(t)),V.resolve()}};var WC=class{constructor(){this.overlays=new ht(ne.comparator),this.kr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Uo();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.wt(e,t,s)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=Uo(),s=t.length+1,o=new ne(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ht((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Uo(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Uo(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return V.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new TC(t,r));let s=this.kr.get(t);s===void 0&&(s=Te(),this.kr.set(t,s)),this.kr.set(t,s.add(r.key))}};var KC=class{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var Xu=class{constructor(){this.qr=new $t(Et.Qr),this.$r=new $t(Et.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Et(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Et(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new ne(new nt([])),r=new Et(t,e),i=new Et(t,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new ne(new nt([])),r=new Et(t,e),i=new Et(t,e+1),s=Te();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Et(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Et=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ne.comparator(e.key,t.key)||Ce(e.Hr,t.Hr)}static Ur(e,t){return Ce(e.Hr,t.Hr)||ne.comparator(e.key,t.key)}};var QC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new $t(Et.Qr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new SC(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.Yr=this.Yr.add(new Et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,t){return V.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?jw:this.er-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Et(t,0),i=new Et(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{let a=this.Zr(o.Hr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $t(Ce);return t.forEach(i=>{let s=new Et(i,0),o=new Et(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),V.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;ne.isDocumentKey(s)||(s=s.child(""));let o=new Et(new ne(s),0),a=new $t(Ce);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},o),V.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){$e(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return V.forEach(t.mutations,i=>{let s=new Et(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Et(t,0),i=this.Yr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var YC=class{constructor(e){this.ni=e,this.docs=(function(){return new ht(ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():Ir.newInvalidDocument(t))}getEntries(e,t){let r=Fi();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ir.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Fi(),o=t.path,a=new ne(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||R$(k$(d),r)<=0||(i.has(d.key)||$g(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ae(9500)}ri(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ZC(this)}getSize(e){return V.resolve(this.size)}},ZC=class extends HC{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var JC=class{constructor(e){this.persistence=e,this.ii=new Oi(t=>Gw(t),qw),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.si=0,this.oi=new Xu,this.targetCount=0,this._i=Ju.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),V.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Ju(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.hr(t),V.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.oi.containsKey(t))}};var yg=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new Uw(0),this.ci=!1,this.ci=!0,this.li=new KC,this.referenceDelegate=e(this),this.hi=new JC(this),this.indexManager=new VC,this.remoteDocumentCache=(function(i){return new YC(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new LC(t),this.Ti=new qC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new QC(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);let i=new XC(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,t){return V.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},XC=class extends aC{constructor(e){super(),this.currentSequenceNumber=e}},ew=class n{constructor(e){this.persistence=e,this.Ai=new Xu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ae(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),V.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.mi,r=>{let i=ne.fromPath(r);return this.fi(e,i).next(s=>{s||t.removeEntry(i,ye.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return V.or([()=>V.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},vg=class n{constructor(e,t){this.persistence=e,this.gi=new Oi(r=>O$(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=R8(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return V.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return V.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?V.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,t).next(a=>{a||(r++,s.removeEntry(o,ye.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=eg(e.data.value)),t}Sr(e,t,r){return V.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var tw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Te(),i=Te();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var nw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var rw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Gk()?8:N$(jt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.ps(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new nw;return this.ws(e,t,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,t,o,a.size)})}).next(()=>s.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(sc()<=De.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",oc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),V.resolve()):(sc()<=De.DEBUG&&W("QueryEngine","Query:",oc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(sc()<=De.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",oc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(t))):V.resolve())}ps(e,t){if(OR(t))return V.resolve(null);let r=Yr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=wC(t,null,"F"),r=Yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Te(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,o,c.readTime)?this.ps(e,wC(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return OR(t)||i.isEqual(ye.min())?V.resolve(null):this.gs.getDocuments(e,r).next(s=>{let o=this.bs(t,s);return this.Ds(t,o,r,i)?V.resolve(null):(sc()<=De.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oc(t)),this.vs(e,o,t,A$(i,Gu)).next(a=>a))})}bs(e,t){let r=new $t(zM(e));return t.forEach((i,s)=>{$g(e,s)&&(r=r.add(s))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,t,r){return sc()<=De.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",oc(t)),this.gs.getDocumentsMatchingQuery(e,t,Go.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Qw="LocalStore",M8=3e8,iw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ht(Ce),this.Ms=new Oi(s=>Gw(s),qw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GC(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function N8(n,e,t,r){return new iw(n,e,t,r)}async function uN(n,e){let t=fe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Te();for(let u of i){o.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:o,addedBatchIds:a}))})})}function P8(n,e){let t=fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,d){let p=u.batch,g=p.keys(),v=V.resolve();return g.forEach(x=>{v=v.next(()=>d.getEntry(c,x)).next(O=>{let M=u.docVersions.get(x);$e(M!==null,48541),O.version.compareTo(M)<0&&(p.applyToRemoteDocument(O,u),O.isValidDocument()&&(O.setReadTime(u.commitVersion),d.addEntry(O)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))})(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function dN(n){let e=fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function O8(n,e){let t=fe(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,p)=>{let g=i.get(p);if(!g)return;a.push(t.hi.removeMatchingKeys(s,d.removedDocuments,p).next(()=>t.hi.addMatchingKeys(s,d.addedDocuments,p)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(nn.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(p,v),(function(O,M,$){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=M8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(g,v,d)&&a.push(t.hi.updateTargetData(s,v))});let c=Fi(),u=Te();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(F8(s,o,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(ye.min())){let d=t.hi.getLastRemoteSnapshotVersion(s).next(p=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.Fs=i,s))}function F8(n,e,t){let r=Te(),i=Te();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Fi();return t.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):W(Qw,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:o,ks:i}})}function L8(n,e){let t=fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jw),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function V8(n,e){let t=fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):t.hi.allocateTargetId(r).next(o=>(i=new Zu(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function sw(n,e,t){let r=fe(n),i=r.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Sc(o))throw o;W(Qw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function KR(n,e,t){let r=fe(n),i=ye.min(),s=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>(function(c,u,d){let p=fe(c),g=p.Ms.get(d);return g!==void 0?V.resolve(p.Fs.get(g)):p.hi.getTargetData(u,d)})(r,o,Yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,t?i:ye.min(),t?s:Te())).next(a=>(U8(r,J$(e),a),{documents:a,qs:s})))}function U8(n,e,t){let r=n.xs.get(e)||ye.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.xs.set(e,r)}var _g=class{constructor(){this.activeTargetIds=i8()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ow=class{constructor(){this.Fo=new _g,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new _g,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var aw=class{xo(e){}shutdown(){}};var QR="ConnectivityMonitor",bg=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){W(QR,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){W(QR,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Xp=null;function cw(){return Xp===null?Xp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xp++,"0x"+Xp.toString(16)}var Yb="RestConnection",j8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},lw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===cg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,s){let o=cw(),a=this.Go(e,t.toUriEncodedString());W(Yb,`Sending RPC '${e}' ${o}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,s);let{host:u}=new URL(a),d=fs(u);return this.jo(e,a,c,r,d).then(p=>(W(Yb,`Received RPC '${e}' ${o}: `,p),p),p=>{throw xs(Yb,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,s,o){return this.Wo(e,t,r,i,s)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ec})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,t){let r=j8[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var uw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var tn="WebChannelConnection",dw=class extends lw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,s){let o=cw();return new Promise((a,c)=>{let u=new zb;u.setWithCredentials(!0),u.listenOnce(Gb.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vu.NO_ERROR:let p=u.getResponseJson();W(tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case Vu.TIMEOUT:W(tn,`RPC '${e}' ${o} timed out`),c(new G(F.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:let g=u.getStatus();if(W(tn,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);let x=v?.error;if(x&&x.status&&x.message){let O=(function($){let ee=$.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(ee)>=0?ee:F.UNKNOWN})(x.status);c(new G(O,x.message))}else c(new G(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new G(F.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{c_:e,streamId:o,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{W(tn,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);W(tn,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",d,r,15)})}P_(e,t,r){let i=cw(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kb(),a=Wb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=s.join("");W(tn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let p=o.createWebChannel(d,c);this.T_(p);let g=!1,v=!1,x=new uw({Ho:M=>{v?W(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(g||(W(tn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),W(tn,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},Yo:()=>p.close()}),O=(M,$,ee)=>{M.listen($,oe=>{try{ee(oe)}catch(Ve){setTimeout(()=>{throw Ve},0)}})};return O(p,ic.EventType.OPEN,()=>{v||(W(tn,`RPC '${e}' stream ${i} transport opened.`),x.s_())}),O(p,ic.EventType.CLOSE,()=>{v||(v=!0,W(tn,`RPC '${e}' stream ${i} transport closed`),x.__(),this.I_(p))}),O(p,ic.EventType.ERROR,M=>{v||(v=!0,xs(tn,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),x.__(new G(F.UNAVAILABLE,"The operation could not be completed")))}),O(p,ic.EventType.MESSAGE,M=>{var $;if(!v){let ee=M.data[0];$e(!!ee,16349);let oe=ee,Ve=oe?.error||(($=oe[0])===null||$===void 0?void 0:$.error);if(Ve){W(tn,`RPC '${e}' stream ${i} received error:`,Ve);let Pt=Ve.status,He=(function(I){let S=It[I];if(S!==void 0)return tN(S)})(Pt),T=Ve.message;He===void 0&&(He=F.INTERNAL,T="Unknown error status: "+Pt+" with message "+Ve.message),v=!0,x.__(new G(He,T)),p.close()}else W(tn,`RPC '${e}' stream ${i} received:`,ee),x.a_(ee)}}),O(a,qb.STAT_EVENT,M=>{M.stat===Yp.PROXY?W(tn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Yp.NOPROXY&&W(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Zb(){return typeof document<"u"?document:null}function Hg(n){return new MC(n,!0)}var Cg=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var YR="PersistentStream",wg=class{constructor(e,t,r,i,s,o,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Cg(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new G(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return W(YR,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(W(YR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},hw=class extends wg{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=v8(this.serializer,e),r=(function(s){if(!("targetChange"in s))return ye.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?Jr(o.readTime):ye.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=FC(this.serializer),t.addTarget=(function(s,o){let a,c=o.target;if(a=bC(c)?{documents:C8(s,c)}:{query:w8(s,c).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nN(s,o.resumeToken);let u=NC(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ye.min())>0){a.readTime=gg(s,o.snapshotVersion.toTimestamp());let u=NC(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=E8(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=FC(this.serializer),t.removeTarget=e,this.k_(t)}},fw=class extends wg{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=b8(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=FC(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>_8(this.serializer,r))};this.k_(t)}};var pw=class{},gw=class extends pw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,PC(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(F.UNKNOWN,s.toString())})}Jo(e,t,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,PC(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(F.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},mw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Mi(t),this._a=!1):W("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Zo="RemoteStore",yw=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Jo(this)&&(W(Zo,"Restarting streams for network reachability change."),await(async function(c){let u=fe(c);u.Ia.add(4),await sd(u),u.Aa.set("Unknown"),u.Ia.delete(4),await zg(u)})(this))})}),this.Aa=new mw(r,i)}};async function zg(n){if(Jo(n))for(let e of n.da)await e(!0)}async function sd(n){for(let e of n.da)await e(!1)}function hN(n,e){let t=fe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Xw(t)?Jw(t):xc(t).x_()&&Zw(t,e))}function Yw(n,e){let t=fe(n),r=xc(t);t.Ta.delete(e),r.x_()&&fN(t,e),t.Ta.size===0&&(r.x_()?r.B_():Jo(t)&&t.Aa.set("Unknown"))}function Zw(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xc(n).H_(e)}function fN(n,e){n.Ra.$e(e),xc(n).Y_(e)}function Jw(n){n.Ra=new RC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),xc(n).start(),n.Aa.aa()}function Xw(n){return Jo(n)&&!xc(n).M_()&&n.Ta.size>0}function Jo(n){return fe(n).Ia.size===0}function pN(n){n.Ra=void 0}async function B8(n){n.Aa.set("Online")}async function $8(n){n.Ta.forEach((e,t)=>{Zw(n,e)})}async function H8(n,e){pN(n),Xw(n)?(n.Aa.la(e),Jw(n)):n.Aa.set("Unknown")}async function z8(n,e,t){if(n.Aa.set("Online"),e instanceof fg&&e.state===2&&e.cause)try{await(async function(i,s){let o=s.cause;for(let a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))})(n,e)}catch(r){W(Zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ig(n,r)}else if(e instanceof uc?n.Ra.Ye(e):e instanceof hg?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ye.min()))try{let r=await dN(n.localStore);t.compareTo(r)>=0&&await(function(s,o){let a=s.Ra.Pt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.Ta.get(u);d&&s.Ta.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let d=s.Ta.get(c);if(!d)return;s.Ta.set(c,d.withResumeToken(nn.EMPTY_BYTE_STRING,d.snapshotVersion)),fN(s,c);let p=new Zu(d.target,c,u,d.sequenceNumber);Zw(s,p)}),s.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){W(Zo,"Failed to raise snapshot:",r),await Ig(n,r)}}async function Ig(n,e,t){if(!Sc(e))throw e;n.Ia.add(1),await sd(n),n.Aa.set("Offline"),t||(t=()=>dN(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{W(Zo,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await zg(n)})}function gN(n,e){return e().catch(t=>Ig(n,t,e))}async function Gg(n){let e=fe(n),t=ks(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:jw;for(;G8(e);)try{let i=await L8(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,q8(e,i)}catch(i){await Ig(e,i)}mN(e)&&yN(e)}function G8(n){return Jo(n)&&n.Pa.length<10}function q8(n,e){n.Pa.push(e);let t=ks(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function mN(n){return Jo(n)&&!ks(n).M_()&&n.Pa.length>0}function yN(n){ks(n).start()}async function W8(n){ks(n).na()}async function K8(n){let e=ks(n);for(let t of n.Pa)e.X_(t.mutations)}async function Q8(n,e,t){let r=n.Pa.shift(),i=xC.from(r,e,t);await gN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Gg(n)}async function Y8(n,e){e&&ks(n).Z_&&await(async function(r,i){if((function(o){return d8(o)&&o!==F.ABORTED})(i.code)){let s=r.Pa.shift();ks(r).N_(),await gN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Gg(r)}})(n,e),mN(n)&&yN(n)}async function ZR(n,e){let t=fe(n);t.asyncQueue.verifyOperationInProgress(),W(Zo,"RemoteStore received new credentials");let r=Jo(t);t.Ia.add(3),await sd(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await zg(t)}async function Z8(n,e){let t=fe(n);e?(t.Ia.delete(2),await zg(t)):e||(t.Ia.add(2),await sd(t),t.Aa.set("Unknown"))}function xc(n){return n.Va||(n.Va=(function(t,r,i){let s=fe(t);return s.ia(),new hw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Zo:B8.bind(null,n),e_:$8.bind(null,n),n_:H8.bind(null,n),J_:z8.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Xw(n)?Jw(n):n.Aa.set("Unknown")):(await n.Va.stop(),pN(n))})),n.Va}function ks(n){return n.ma||(n.ma=(function(t,r,i){let s=fe(t);return s.ia(),new fw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:W8.bind(null,n),n_:Y8.bind(null,n),ea:K8.bind(null,n),ta:Q8.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Gg(n)):(await n.ma.stop(),n.Pa.length>0&&(W(Zo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var vw=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function eI(n,e){if(Mi("AsyncQueue",`${e}: ${n}`),Sc(n))return new G(F.UNAVAILABLE,`${e}: ${n}`);throw n}var Eg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ne.comparator(t.key,r.key):(t,r)=>ne.comparator(t.key,r.key),this.keyedMap=Uu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Dg=class{constructor(){this.fa=new ht(ne.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ae(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},bc=class n{constructor(e,t,r,i,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Eg.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var _w=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},bw=class{constructor(){this.queries=JR(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=fe(t),s=i.queries;i.queries=JR(),s.forEach((o,a)=>{for(let c of a.wa)c.onError(r)})})(this,new G(F.ABORTED,"Firestore shutting down"))}};function JR(){return new Oi(n=>HM(n),Bg)}async function tI(n,e){let t=fe(n),r=3,i=e.query,s=t.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new _w,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await t.onListen(i,!0);break;case 1:s.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){let a=eI(o,`Initialization of query '${oc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&rI(t)}async function nI(n,e){let t=fe(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function J8(n,e){let t=fe(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&rI(t)}function X8(n,e,t){let r=fe(n),i=r.queries.get(e);if(i)for(let s of i.wa)s.onError(t);r.queries.delete(e)}function rI(n){n.Da.forEach(e=>{e.next()})}var Cw,XR;(XR=Cw||(Cw={})).Fa="default",XR.Cache="cache";var ed=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Cw.Cache}};var Sg=class{constructor(e){this.key=e}},xg=class{constructor(e){this.key=e}},ww=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Te(),this.mutatedKeys=Te(),this.Xa=zM(e),this.eu=new Eg(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Dg,i=t?t.eu:this.eu,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let g=i.get(d),v=$g(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),O=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),M=!1;g&&v?g.data.isEqual(v.data)?x!==O&&(r.track({type:3,doc:v}),M=!0):this.iu(g,v)||(r.track({type:2,doc:v}),M=!0,(c&&this.Xa(v,c)>0||u&&this.Xa(v,u)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),M=!0):g&&!v&&(r.track({type:1,doc:g}),M=!0,(c||u)&&(a=!0)),M&&(v?(o=o.add(v),s=O?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let o=e.ru.pa();o.sort((d,p)=>(function(v,x){let O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{At:M})}};return O(v)-O(x)})(d.type,p.type)||this.Xa(d.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,o.length!==0||u?{snapshot:new bc(this.query,e.eu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Dg,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Te(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new xg(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Sg(r))}),t}uu(e){this.Ha=e.qs,this.Za=Te();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return bc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},iI="SyncEngine",Iw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Ew=class{constructor(e){this.key=e,this.lu=!1}},Dw=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Oi(a=>HM(a),Bg),this.Tu=new Map,this.Iu=new Set,this.du=new ht(ne.comparator),this.Eu=new Map,this.Au=new Xu,this.Ru={},this.Vu=new Map,this.mu=Ju.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function eH(n,e,t=!0){let r=IN(n),i,s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await vN(r,e,t,!0),i}async function tH(n,e){let t=IN(n);await vN(t,e,!0,!1)}async function vN(n,e,t,r){let i=await V8(n.localStore,Yr(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=await nH(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&hN(n.remoteStore,i),a}async function nH(n,e,t,r,i){n.gu=(p,g,v)=>(async function(O,M,$,ee){let oe=M.view.nu($);oe.Ds&&(oe=await KR(O.localStore,M.query,!1).then(({documents:T})=>M.view.nu(T,oe)));let Ve=ee&&ee.targetChanges.get(M.targetId),Pt=ee&&ee.targetMismatches.get(M.targetId)!=null,He=M.view.applyChanges(oe,O.isPrimaryClient,Ve,Pt);return tM(O,M.targetId,He._u),He.snapshot})(n,p,g,v);let s=await KR(n.localStore,e,!0),o=new ww(e,s.qs),a=o.nu(s.documents),c=Yu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=o.applyChanges(a,n.isPrimaryClient,c);tM(n,t,u._u);let d=new Iw(e,t,o);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot}async function rH(n,e,t){let r=fe(n),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!Bg(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Yw(r.remoteStore,i.targetId),Sw(r,i.targetId)}).catch(Dc)):(Sw(r,i.targetId),await sw(r.localStore,i.targetId,!0))}async function iH(n,e){let t=fe(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Yw(t.remoteStore,r.targetId))}async function sH(n,e,t){let r=hH(n);try{let i=await(function(o,a){let c=fe(o),u=xt.now(),d=a.reduce((v,x)=>v.add(x.key),Te()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=Fi(),O=Te();return c.Os.getEntries(v,d).next(M=>{x=M,x.forEach(($,ee)=>{ee.isValidDocument()||(O=O.add($))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,x)).next(M=>{p=M;let $=[];for(let ee of a){let oe=u8(ee,p.get(ee.key).overlayedDocument);oe!=null&&$.push(new ei(ee.key,oe,FM(oe.value.mapValue),Zr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,$,a)}).next(M=>{g=M;let $=M.applyToLocalDocumentSet(p,O);return c.documentOverlayCache.saveOverlays(v,M.batchId,$)})}).then(()=>({batchId:g.batchId,changes:qM(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,c){let u=o.Ru[o.currentUser.toKey()];u||(u=new ht(Ce)),u=u.insert(a,c),o.Ru[o.currentUser.toKey()]=u})(r,i.batchId,t),await od(r,i.changes),await Gg(r.remoteStore)}catch(i){let s=eI(i,"Failed to persist write");t.reject(s)}}async function _N(n,e){let t=fe(n);try{let r=await O8(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Eu.get(s);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?$e(o.lu,14607):i.removedDocuments.size>0&&($e(o.lu,42227),o.lu=!1))}),await od(t,r,e)}catch(r){await Dc(r)}}function eM(n,e,t){let r=fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((s,o)=>{let a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(o,a){let c=fe(o);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(let g of p.wa)g.va(a)&&(u=!0)}),u&&rI(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oH(n,e,t){let r=fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),s=i&&i.key;if(s){let o=new ht(ne.comparator);o=o.insert(s,Ir.newNoDocument(s,ye.min()));let a=Te().add(s),c=new dg(ye.min(),new Map,new ht(Ce),o,a);await _N(r,c),r.du=r.du.remove(s),r.Eu.delete(e),sI(r)}else await sw(r.localStore,e,!1).then(()=>Sw(r,e,t)).catch(Dc)}async function aH(n,e){let t=fe(n),r=e.batch.batchId;try{let i=await P8(t.localStore,e);CN(t,r,null),bN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await od(t,i)}catch(i){await Dc(i)}}async function cH(n,e,t){let r=fe(n);try{let i=await(function(o,a){let c=fe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>($e(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})})(r.localStore,e);CN(r,e,t),bN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await od(r,i)}catch(i){await Dc(i)}}function bN(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function CN(n,e,t){let r=fe(n),i=r.Ru[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Sw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||wN(n,r)})}function wN(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(Yw(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),sI(n))}function tM(n,e,t){for(let r of t)r instanceof Sg?(n.Au.addReference(r.key,e),lH(n,r)):r instanceof xg?(W(iI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||wN(n,r.key)):ae(19791,{yu:r})}function lH(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(W(iI,"New document in limbo: "+t),n.Iu.add(r),sI(n))}function sI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new ne(nt.fromString(e)),r=n.mu.next();n.Eu.set(r,new Ew(t)),n.du=n.du.insert(t,r),hN(n.remoteStore,new Zu(Yr(jg(t.path)),r,"TargetPurposeLimboResolution",Uw.ue))}}async function od(n,e,t){let r=fe(n),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{o.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);let p=tw.Es(c.targetId,u);s.push(p)}}))}),await Promise.all(o),r.hu.J_(i),await(async function(c,u){let d=fe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(u,g=>V.forEach(g.Is,v=>d.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>V.forEach(g.ds,v=>d.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!Sc(p))throw p;W(Qw,"Failed to update sequence numbers: "+p)}for(let p of u){let g=p.targetId;if(!p.fromCache){let v=d.Fs.get(g),x=v.snapshotVersion,O=v.withLastLimboFreeSnapshotVersion(x);d.Fs=d.Fs.insert(g,O)}}})(r.localStore,s))}async function uH(n,e){let t=fe(n);if(!t.currentUser.isEqual(e)){W(iI,"User change. New user:",e.toKey());let r=await uN(t.localStore,e);t.currentUser=e,(function(s,o){s.Vu.forEach(a=>{a.forEach(c=>{c.reject(new G(F.CANCELLED,o))})}),s.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await od(t,r.Bs)}}function dH(n,e){let t=fe(n),r=t.Eu.get(e);if(r&&r.lu)return Te().add(r.key);{let i=Te(),s=t.Tu.get(e);if(!s)return i;for(let o of s){let a=t.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function IN(n){let e=fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_N.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oH.bind(null,e),e.hu.J_=J8.bind(null,e.eventManager),e.hu.pu=X8.bind(null,e.eventManager),e}function hH(n){let e=fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cH.bind(null,e),e}var EN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return N8(this.persistence,new rw,t.initialUser,this.serializer)}Du(t){return new yg(ew.Vi,this.serializer)}bu(t){return new ow}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),xw=class extends EN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){$e(this.persistence.referenceDelegate instanceof vg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new BC(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new yg(r=>vg.Vi(r,t),this.serializer)}};var fH=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>eM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uH.bind(null,this.syncEngine),await Z8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new bw})()}createDatastore(t){let r=Hg(t.databaseInfo.databaseId),i=(function(o){return new dw(o)})(t.databaseInfo);return(function(o,a,c,u){return new gw(o,a,c,u)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,s,o,a,c){return new yw(i,s,o,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>eM(this.syncEngine,r,0),(function(){return bg.C()?new bg:new aw})())}createSyncEngine(t,r){return(function(s,o,a,c,u,d,p){let g=new Dw(s,o,a,c,u,d);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(s){let o=fe(s);W(Zo,"RemoteStore shutting down."),o.Ia.add(5),await sd(o),o.Ea.shutdown(),o.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var td=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Rs="FirestoreClient",Tw=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=zu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{W(Rs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W(Rs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=eI(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Jb(n,e){n.asyncQueue.verifyOperationInProgress(),W(Rs,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{xs("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{W("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{xs("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function nM(n,e){n.asyncQueue.verifyOperationInProgress();let t=await pH(n);W(Rs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>ZR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>ZR(e.remoteStore,i)),n._onlineComponents=e}async function pH(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W(Rs,"Using user provided OfflineComponentProvider");try{await Jb(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;xs("Error using user provided cache. Falling back to memory cache: "+t),await Jb(n,new EN)}}else W(Rs,"Using default OfflineComponentProvider"),await Jb(n,new xw(void 0));return n._offlineComponents}async function DN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(W(Rs,"Using user provided OnlineComponentProvider"),await nM(n,n._uninitializedComponentsProvider._online)):(W(Rs,"Using default OnlineComponentProvider"),await nM(n,new fH))),n._onlineComponents}function gH(n){return DN(n).then(e=>e.syncEngine)}async function Tg(n){let e=await DN(n),t=e.eventManager;return t.onListen=eH.bind(null,e.syncEngine),t.onUnlisten=rH.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iH.bind(null,e.syncEngine),t}function mH(n,e,t={}){let r=new wr;return n.asyncQueue.enqueueAndForget(async()=>(function(s,o,a,c,u){let d=new td({next:g=>{d.Ou(),o.enqueueAndForget(()=>nI(s,p));let v=g.docs.has(a);!v&&g.fromCache?u.reject(new G(F.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&c.source==="server"?u.reject(new G(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new ed(jg(a.path),d,{includeMetadataChanges:!0,ka:!0});return tI(s,p)})(await Tg(n),n.asyncQueue,e,t,r)),r.promise}function yH(n,e,t={}){let r=new wr;return n.asyncQueue.enqueueAndForget(async()=>(function(s,o,a,c,u){let d=new td({next:g=>{d.Ou(),o.enqueueAndForget(()=>nI(s,p)),g.fromCache&&c.source==="server"?u.reject(new G(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new ed(a,d,{includeMetadataChanges:!0,ka:!0});return tI(s,p)})(await Tg(n),n.asyncQueue,e,t,r)),r.promise}function SN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var rM=new Map;var xN="firestore.googleapis.com",iM=!0,Ag=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xN,this.ssl=iM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:iM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k8)throw new G(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Cc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ag({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ag(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Xb;switch(r.type){case"firstParty":return new rC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=rM.get(t);r&&(W("ComponentProvider","Removing Datastore"),rM.delete(t),r.terminate())})(this),Promise.resolve()}};function TN(n,e,t,r={}){var i;n=Cn(n,Cc);let s=fs(e),o=n._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;s&&(Ep(`https://${c}`),Dp("Firestore",!0)),o.host!==xN&&o.host!==c&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:c,ssl:s,emulatorOptions:r});if(!Gr(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=Bt.MOCK_USER;else{d=Uk(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new G(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Bt(g)}n._authCredentials=new eC(new rg(d,p))}}var Ms=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Nt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(id(t,n._jsonSchema))return new n(e,r||null,new ne(nt.fromString(t.referencePath)))}};Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:St("string",Nt._jsonSchemaVersion),referencePath:St("string")};var Is=class n extends Ms{constructor(e,t,r){super(e,t,jg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ne(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function AN(n,e,...t){if(n=Rt(n),hM("collection","path",e),n instanceof Cc){let r=nt.fromString(e,...t);return wR(r),new Is(n,null,r)}{if(!(n instanceof Nt||n instanceof Is))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(nt.fromString(e,...t));return wR(r),new Is(n.firestore,null,r)}}function oI(n,e,...t){if(n=Rt(n),arguments.length===1&&(e=zu.newId()),hM("doc","path",e),n instanceof Cc){let r=nt.fromString(e,...t);return CR(r),new Nt(n,null,new ne(r))}{if(!(n instanceof Nt||n instanceof Is))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(nt.fromString(e,...t));return CR(r),new Nt(n.firestore,n instanceof Is?n.converter:null,new ne(r))}}var sM="AsyncQueue",kg=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Cg(this,"async_queue_retry"),this.oc=()=>{let r=Zb();r&&W(sM,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Zb();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Zb();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new wr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Sc(e))throw e;W(sM,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Mi("INTERNAL UNHANDLED ERROR: ",oM(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=vw.createAndSchedule(this,e,t,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&ae(47125,{hc:oM(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function oM(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function aM(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}var Dr=class extends Cc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new kg,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new kg(e),this._firestoreClient=void 0,await e}}};function kN(n,e){let t=typeof n=="object"?n:Mo(),r=typeof n=="string"?n:e||cg,i=Xa(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Vk("firestore");s&&TN(i,...s)}return i}function qg(n){if(n._terminated)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vH(n),n._firestoreClient}function vH(n){var e,t,r;let i=n._freezeSettings(),s=(function(a,c,u,d){return new cC(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,SN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Tw(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var Es=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(nn.fromBase64String(e))}catch(t){throw new G(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(id(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Es._jsonSchemaVersion="firestore/bytes/1.0",Es._jsonSchema={type:St("string",Es._jsonSchemaVersion),bytes:St("string")};var wc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new G(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ic=class{constructor(e){this._methodName=e}};var Ds=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(id(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Ds._jsonSchemaVersion="firestore/geoPoint/1.0",Ds._jsonSchema={type:St("string",Ds._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};var Ss=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(id(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new G(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:St("string",Ss._jsonSchemaVersion),vectorValues:St("object")};var _H=/^__.*__$/,Aw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ei(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yo(e,this.data,t,this.fieldTransforms)}},Rg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ei(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function RN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ec:n})}}var kw=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ng(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(RN(this.Ec)&&_H.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Rw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Hg(e)}Dc(e,t,r,i=!1){return new kw({Ec:e,methodName:t,bc:r,path:jn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Wg(n){let e=n._freezeSettings(),t=Hg(n._databaseId);return new Rw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MN(n,e,t,r,i,s={}){let o=n.Dc(s.merge||s.mergeFields?2:0,e,t,i);aI("Data must be an object, but it was:",o,r);let a=NN(r,o),c,u;if(s.merge)c=new er(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let p of s.mergeFields){let g=Nw(e,p,t);if(!o.contains(g))throw new G(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);ON(d,g)||d.push(g)}c=new er(d),u=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=o.fieldTransforms;return new Aw(new Un(a),c,u)}var Mg=class n extends Ic{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};var Mw=class n extends Ic{_toFieldTransform(e){return new IC(e.path,new Wo)}isEqual(e){return e instanceof n}};function bH(n,e,t,r){let i=n.Dc(1,e,t);aI("Data must be an object, but it was:",i,r);let s=[],o=Un.empty();Ns(r,(c,u)=>{let d=cI(e,c,t);u=Rt(u);let p=i.gc(d);if(u instanceof Mg)s.push(d);else{let g=ad(u,p);g!=null&&(s.push(d),o.set(d,g))}});let a=new er(s);return new Rg(o,a,i.fieldTransforms)}function CH(n,e,t,r,i,s){let o=n.Dc(1,e,t),a=[Nw(e,r,t)],c=[i];if(s.length%2!=0)throw new G(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(Nw(e,s[g])),c.push(s[g+1]);let u=[],d=Un.empty();for(let g=a.length-1;g>=0;--g)if(!ON(u,a[g])){let v=a[g],x=c[g];x=Rt(x);let O=o.gc(v);if(x instanceof Mg)u.push(v);else{let M=ad(x,O);M!=null&&(u.push(v),d.set(v,M))}}let p=new er(u);return new Rg(d,p,o.fieldTransforms)}function wH(n,e,t,r=!1){return ad(t,n.Dc(r?4:3,e))}function ad(n,e){if(PN(n=Rt(n)))return aI("Unsupported field value:",e,n),NN(n,e);if(n instanceof Ic)return(function(r,i){if(!RN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let s=[],o=0;for(let a of r){let c=ad(a,i.yc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=xt.fromDate(r);return{timestampValue:gg(i.serializer,s)}}if(r instanceof xt){let s=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gg(i.serializer,s)}}if(r instanceof Ds)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Es)return{bytesValue:nN(i.serializer,r._byteString)};if(r instanceof Nt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Kw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ss)return(function(o,a){return{mapValue:{fields:{[$w]:{stringValue:Hw},[fc]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return Ww(a.serializer,u)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Lg(r)}`)})(n,e)}function NN(n,e){let t={};return TM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(n,(r,i)=>{let s=ad(i,e.Vc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function PN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof Ds||n instanceof Es||n instanceof Nt||n instanceof Ic||n instanceof Ss)}function aI(n,e,t){if(!PN(t)||!fM(t)){let r=Lg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Nw(n,e,t){if((e=Rt(e))instanceof wc)return e._internalPath;if(typeof e=="string")return cI(n,e);throw Ng("Field path arguments must be of type string or ",n,!1,void 0,t)}var IH=new RegExp("[~\\*/\\[\\]]");function cI(n,e,t){if(e.search(IH)>=0)throw Ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wc(...e.split("."))._internalPath}catch{throw Ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ng(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new G(F.INVALID_ARGUMENT,a+n+c)}function ON(n,e){return n.some(t=>t.isEqual(e))}var Pg=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Pw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Kg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Pw=class extends Pg{data(){return super.data()}};function Kg(n,e){return typeof e=="string"?cI(n,e):e instanceof wc?e._internalPath:e._delegate._internalPath}function FN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new G(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nd=class{},Og=class extends nd{};function LN(n,e,...t){let r=[];e instanceof nd&&r.push(e),r=r.concat(t),(function(s){let o=s.filter(c=>c instanceof Ow).length,a=s.filter(c=>c instanceof Fg).length;if(o>1||o>0&&a>0)throw new G(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Fg=class n extends Og{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return jN(e._query,t),new Ms(e.firestore,e.converter,CC(e._query,t))}_parse(e){let t=Wg(e.firestore);return(function(s,o,a,c,u,d,p){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){lM(p,d);let x=[];for(let O of p)x.push(cM(c,s,O));g={arrayValue:{values:x}}}else g=cM(c,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||lM(p,d),g=wH(a,o,p,d==="in"||d==="not-in");return Dt.create(u,d,g)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function VN(n,e,t){let r=e,i=Kg("where",n);return Fg._create(i,r,t)}var Ow=class n extends nd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Er.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)jN(o,c),o=CC(o,c)})(e._query,t),new Ms(e.firestore,e.converter,CC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Fw=class n extends Og{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,s,o){if(i.startAt!==null)throw new G(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qo(s,o)})(e._query,this._field,this._direction);return new Ms(e.firestore,e.converter,(function(i,s){let o=i.explicitOrderBy.concat([s]);return new As(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function UN(n,e="asc"){let t=e,r=Kg("orderBy",n);return Fw._create(r,t)}function cM(n,e,t){if(typeof(t=Rt(t))=="string"){if(t==="")throw new G(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$M(e)&&t.indexOf("/")!==-1)throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(nt.fromString(t));if(!ne.isDocumentKey(r))throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AR(n,new ne(r))}if(t instanceof Nt)return AR(n,t._key);throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lg(t)}.`)}function lM(n,e){if(!Array.isArray(n)||n.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jN(n,e){let t=(function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new G(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Lw=class{convertValue(e,t="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ns(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[fc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>tt(o.doubleValue));return new Ss(s)}convertGeoPoint(e){return new Ds(tt(e.latitude),tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Ug(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){let t=Ni(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=nt.fromString(e);$e(cN(r),9688,{name:e});let i=new lg(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(t)||Mi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function BN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Bo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},$o=class n extends Pg{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Kg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};$o._jsonSchemaVersion="firestore/documentSnapshot/1.0",$o._jsonSchema={type:St("string",$o._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};var dc=class extends $o{data(e={}){return super.data(e)}},Ho=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new dc(this._firestore,this._userDataWriter,r.key,r,new Bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new G(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new dc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new dc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:EH(a.type),doc:c,oldIndex:u,newIndex:d}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function EH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:n})}}function $N(n){n=Cn(n,Nt);let e=Cn(n.firestore,Dr);return mH(qg(e),n._key).then(t=>QN(e,n,t))}Ho._jsonSchemaVersion="firestore/querySnapshot/1.0",Ho._jsonSchema={type:St("string",Ho._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};var rd=class extends Lw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}};function HN(n){n=Cn(n,Ms);let e=Cn(n.firestore,Dr),t=qg(e),r=new rd(e);return FN(n._query),yH(t,n._query).then(i=>new Ho(e,r,n,i))}function zN(n,e,t){n=Cn(n,Nt);let r=Cn(n.firestore,Dr),i=BN(n.converter,e,t);return Qg(r,[MN(Wg(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Zr.none())])}function GN(n,e,t,...r){n=Cn(n,Nt);let i=Cn(n.firestore,Dr),s=Wg(i),o;return o=typeof(e=Rt(e))=="string"||e instanceof wc?CH(s,"updateDoc",n._key,e,t,r):bH(s,"updateDoc",n._key,e),Qg(i,[o.toMutation(n._key,Zr.exists(!0))])}function qN(n){return Qg(Cn(n.firestore,Dr),[new Qu(n._key,Zr.none())])}function WN(n,e){let t=Cn(n.firestore,Dr),r=oI(n),i=BN(n.converter,e);return Qg(t,[MN(Wg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Zr.exists(!1))]).then(()=>r)}function KN(n,...e){var t,r,i;n=Rt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||aM(e[o])||(s=e[o++]);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(aM(e[o])){let p=e[o];e[o]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,u,d;if(n instanceof Nt)u=Cn(n.firestore,Dr),d=jg(n._key.path),c={next:p=>{e[o]&&e[o](QN(u,n,p))},error:e[o+1],complete:e[o+2]};else{let p=Cn(n,Ms);u=Cn(p.firestore,Dr),d=p._query;let g=new rd(u);c={next:v=>{e[o]&&e[o](new Ho(u,g,p,v))},error:e[o+1],complete:e[o+2]},FN(n._query)}return(function(g,v,x,O){let M=new td(O),$=new ed(v,M,x);return g.asyncQueue.enqueueAndForget(async()=>tI(await Tg(g),$)),()=>{M.Ou(),g.asyncQueue.enqueueAndForget(async()=>nI(await Tg(g),$))}})(qg(u),d,a,c)}function Qg(n,e){return(function(r,i){let s=new wr;return r.asyncQueue.enqueueAndForget(async()=>sH(await gH(r),i,s)),s.promise})(qg(n),e)}function QN(n,e,t){let r=t.docs.get(e._key),i=new rd(n);return new $o(n,i,e._key,r,new Bo(t.hasPendingWrites,t.fromCache),e.converter)}function Xo(){return new Mw("serverTimestamp")}(function(e,t=!0){(function(i){Ec=i})(gs),br(new hn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Dr(new tC(r.getProvider("auth-internal")),new iC(o,r.getProvider("app-check-internal")),(function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lg(u.options.projectId,d)})(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),dt(yR,vR,e),dt(yR,vR,"esm2017")})();var fn=class{constructor(e){return e}},YN="firestore",lI=class{constructor(){return tc(YN)}};var uI=new q("angularfire2.firestore-instances");function DH(n,e){let t=xu(YN,n,e);return t&&new fn(t)}function SH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new fn(r)}}var xH={provide:lI,deps:[[new Nn,uI]]},TH={provide:fn,useFactory:DH,deps:[[new Nn,uI],xi]};function ZN(n,...e){return dt("angularfire",ms.full,"fst"),xn([TH,xH,{provide:uI,useFactory:SH(n),multi:!0,deps:[Oe,Qe,ys,Po,[new Nn,Lu],[new Nn,nc],...e]}])}var Yg=Mt(WN,!0,2);var Bn=Mt(AN,!0,2);var Li=Mt(qN,!0,2);var _t=Mt(oI,!0,2);var JN=Mt($N,!0);var dI=Mt(HN,!0);var XN=Mt(kN,!0);var ti=Mt(KN,!0);var eP=Mt(UN,!0,2),ni=Mt(LN,!0,2);var Tc=Mt(zN,!0,2);var Sr=Mt(GN,!0,2);var Vi=Mt(VN,!0,2);var tP={production:!0,firebase:{apiKey:"AIzaSyA3FfYeMQ9WiWHlNKU1wsaMt8v3TOuNn_I",authDomain:"homeneeds-21223.firebaseapp.com",projectId:"homeneeds-21223",storageBucket:"homeneeds-21223.firebasestorage.app",messagingSenderId:"278167644572",appId:"1:278167644572:web:c5ca2a5c3e4da71fda4059",measurementId:"G-HXX054VJJ6"},apiUrl:"https://home-needs-psi.vercel.app"};var uP=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(we(fr),we(mt))};static \u0275dir=rt({type:n})}return n})(),yI=(()=>{class n extends uP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=bi(n)))(i||n)}})();static \u0275dir=rt({type:n,features:[$r]})}return n})(),tm=new q("");var AH={provide:tm,useExisting:Mr(()=>ri),multi:!0};function kH(){let n=Yn()?Yn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var RH=new q(""),ri=(()=>{class n extends uP{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!kH())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(we(fr),we(mt),we(RH,8))};static \u0275dir=rt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&U("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[Qn([AH]),$r]})}return n})();var MH=new q(""),NH=new q("");function dP(n){return n!=null}function hP(n){return cs(n)?ge(n):n}function fP(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function pP(n,e){return e.map(t=>t(n))}function PH(n){return!n.validate}function gP(n){return n.map(e=>PH(e)?e:t=>e.validate(t))}function OH(n){if(!n)return null;let e=n.filter(dP);return e.length==0?null:function(t){return fP(pP(t,e))}}function mP(n){return n!=null?OH(gP(n)):null}function FH(n){if(!n)return null;let e=n.filter(dP);return e.length==0?null:function(t){let r=pP(t,e).map(hP);return Dn(r).pipe(X(fP))}}function yP(n){return n!=null?FH(gP(n)):null}function nP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function LH(n){return n._rawValidators}function VH(n){return n._rawAsyncValidators}function hI(n){return n?Array.isArray(n)?n:[n]:[]}function Jg(n,e){return Array.isArray(n)?n.includes(e):n===e}function rP(n,e){let t=hI(e);return hI(n).forEach(i=>{Jg(t,i)||t.push(i)}),t}function iP(n,e){return hI(e).filter(t=>!Jg(n,t))}var Xg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},fI=class extends Xg{name;get formDirective(){return null}get path(){return null}},hd=class extends Xg{_parent=null;name=null;valueAccessor=null},pI=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Ps=(()=>{class n extends pI{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(we(hd,2))};static \u0275dir=rt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Vt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[$r]})}return n})();var cd="VALID",Zg="INVALID",Ac="PENDING",ld="DISABLED",ea=class{},em=class extends ea{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ud=class extends ea{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},dd=class extends ea{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},kc=class extends ea{status;source;constructor(e,t){super(),this.status=e,this.source=t}};var gI=class extends ea{source;constructor(e){super(),this.source=e}};function UH(n){return(nm(n)?n.validators:n)||null}function jH(n){return Array.isArray(n)?mP(n):n||null}function BH(n,e){return(nm(e)?e.asyncValidators:n)||null}function $H(n){return Array.isArray(n)?yP(n):n||null}function nm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var mI=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bt(this.statusReactive)}set status(e){bt(()=>this.statusReactive.set(e))}_status=xe(()=>this.statusReactive());statusReactive=te(void 0);get valid(){return this.status===cd}get invalid(){return this.status===Zg}get pending(){return this.status==Ac}get disabled(){return this.status===ld}get enabled(){return this.status!==ld}errors;get pristine(){return bt(this.pristineReactive)}set pristine(e){bt(()=>this.pristineReactive.set(e))}_pristine=xe(()=>this.pristineReactive());pristineReactive=te(!0);get dirty(){return!this.pristine}get touched(){return bt(this.touchedReactive)}set touched(e){bt(()=>this.touchedReactive.set(e))}_touched=xe(()=>this.touchedReactive());touchedReactive=te(!1);get untouched(){return!this.touched}_events=new ie;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iP(e,this._rawAsyncValidators))}hasValidator(e){return Jg(this._rawValidators,e)}hasAsyncValidator(e){return Jg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Y(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new dd(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new dd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Y(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ud(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ud(!0,r))}markAsPending(e={}){this.status=Ac;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Y(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ld,this.errors=null,this._forEachChild(i=>{i.disable(Y(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new em(this.value,r)),this._events.next(new kc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=cd,this._forEachChild(r=>{r.enable(Y(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Y(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cd||this.status===Ac)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new em(this.value,t)),this._events.next(new kc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Y(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ld:cd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ac,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=hP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new kc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?ld:this.errors?Zg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ac)?Ac:this._anyControlsHaveStatus(Zg)?Zg:cd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ud(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new dd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=$H(this._rawAsyncValidators)}};var vP=new q("",{factory:()=>vI}),vI="always";function HH(n,e){return[...e.path,n]}function zH(n,e,t=vI){qH(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),WH(n,e),QH(n,e),KH(n,e),GH(n,e)}function sP(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function GH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function qH(n,e){let t=LH(n);e.validator!==null?n.setValidators(nP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=VH(n);e.asyncValidator!==null?n.setAsyncValidators(nP(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();sP(e._rawValidators,i),sP(e._rawAsyncValidators,i)}function WH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&_P(n,e)})}function KH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&_P(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function _P(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function QH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function YH(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function ZH(n){return Object.getPrototypeOf(n.constructor)===yI}function JH(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===ri?t=s:ZH(s)?r=s:i=s}),i||r||t||null}function oP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function aP(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var XH=class extends mI{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(UH(t),BH(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(aP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new gI(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){aP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var e7={provide:hd,useExisting:Mr(()=>Ui)},cP=Promise.resolve(),Ui=(()=>{class n extends hd{_changeDetectorRef;callSetDisabledState;control=new XH;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ae;constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=JH(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),YH(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zH(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){cP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&vn(r);cP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?HH(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(we(fI,9),we(MH,10),we(NH,10),we(tm,10),we(Xt,8),we(vP,8))};static \u0275dir=rt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Qn([e7]),$r,Kn]})}return n})();var t7={provide:tm,useExisting:Mr(()=>Os),multi:!0};function bP(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function n7(n){return n.split(":")[0]}var Os=(()=>{class n extends yI{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=E(pr).injector;destroyRef=E(ln);cdr=E(Xt);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,_o({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=bP(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=n7(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bi(n)))(i||n)}})();static \u0275dir=rt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&U("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Qn([t7]),$r]})}return n})(),Rc=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(bP(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(we(mt),we(fr),we(Os,9))};static \u0275dir=rt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),r7={provide:tm,useExisting:Mr(()=>CP),multi:!0};function lP(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function i7(n){return n.split(":")[0]}var CP=(()=>{class n extends yI{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let c=o[a],u=this._getOptionValue(c.value);i.push(u)}}else{let o=r.options;for(let a=0;a<o.length;a++){let c=o[a];if(c.selected){let u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=i7(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bi(n)))(i||n)}})();static \u0275dir=rt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Qn([r7]),$r]})}return n})(),Mc=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(lP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(lP(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(we(mt),we(fr),we(CP,9))};static \u0275dir=rt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var s7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=mn({})}return n})();var Fs=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vP,useValue:t.callSetDisabledState??vI}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=mn({imports:[s7]})}return n})();var _I;function o7(){if(_I==null){let n=typeof document<"u"?document.head:null;_I=!!(n&&(n.createShadowRoot||n.attachShadow))}return _I}function im(n){if(o7()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function fd(n){return n.composedPath?n.composedPath()[0]:n.target}function wP(n){return n.buttons===0||n.detail===0}function IP(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function sm(n,e=0){return a7(n)?Number(n):arguments.length===2?e:0}function a7(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function xr(n){return n instanceof mt?n.nativeElement:n}var om=new WeakMap,EP=(()=>{class n{_appRef;_injector=E(Qe);_environmentInjector=E(at);load(t){let r=this._appRef=this._appRef||this._injector.get(pr),i=om.get(r);i||(i={loaders:new Set,refs:[]},om.set(r,i),r.onDestroy(()=>{om.get(r)?.refs.forEach(s=>s.destroy()),om.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(cA(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bI;try{bI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{bI=!1}var CI=(()=>{class n{_platformId=E(Ci);isBrowser=this._platformId?TA(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||bI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var c7=new q("cdk-dir-doc",{providedIn:"root",factory:()=>E(Ye)}),l7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function u7(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?l7.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var wI=(()=>{class n{get value(){return this.valueSignal()}valueSignal=te("ltr");change=new Ae;constructor(){let t=E(c7,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(u7(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var d7=20,DP=(()=>{class n{_ngZone=E(Oe);_platform=E(CI);_renderer=E(Mn).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ie;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=d7){return this._platform.isBrowser?new ue(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(gh(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Q()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Sn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_scrollableContainsElement(t,r){let i=xr(r),s=t.getElementRef().nativeElement;do if(i==s)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var h7=20,SP=(()=>{class n{_platform=E(CI);_listeners;_viewportSize;_change=new ie;_document=E(Ye);constructor(){let t=E(Oe),r=E(Mn).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=s=>this._change.next(s);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect(),o=-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:o,left:a}}change(t=h7){return t>0?this._change.pipe(gh(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=mn({})}return n})();var II={},am=class n{_appId=E(Pa);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(e,t=!1){return this._appId!=="ng"&&(e+=this._appId),II.hasOwnProperty(e)||(II[e]=0),`${e}${t?n._infix+"-":""}${II[e]++}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function TP(n){return Array.isArray(n)?n:[n]}function SI(n){let e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return r==="canvas"?RP(n,e):(r==="input"||r==="select"||r==="textarea")&&kP(n,e),AP("canvas",n,e,RP),AP("input, textarea, select",n,e,kP),e}function AP(n,e,t,r){let i=e.querySelectorAll(n);if(i.length){let s=t.querySelectorAll(n);for(let o=0;o<i.length;o++)r(i[o],s[o])}}var f7=0;function kP(n,e){e.type!=="file"&&(e.value=n.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${f7++}`)}function RP(n,e){let t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function MI(n){let e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function xI(n,e,t){let{top:r,bottom:i,left:s,right:o}=n;return t>=r&&t<=i&&e>=s&&e<=o}function p7(n,e){let t=e.left<n.left,r=e.left+e.width>n.right,i=e.top<n.top,s=e.top+e.height>n.bottom;return t||r||i||s}function md(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function MP(n,e,t,r){let{top:i,right:s,bottom:o,left:a,width:c,height:u}=n,d=c*e,p=u*e;return r>i-p&&r<o+p&&t>a-d&&t<s+d}var cm=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:MI(t)})})}handleScroll(e){let t=fd(e),r=this.positions.get(t);if(!r)return null;let i=r.scrollPosition,s,o;if(t===this._document){let u=this.getViewportScrollPosition();s=u.top,o=u.left}else s=t.scrollTop,o=t.scrollLeft;let a=i.top-s,c=i.left-o;return this.positions.forEach((u,d)=>{u.clientRect&&t!==d&&t.contains(d)&&md(u.clientRect,a,c)}),i.top=s,i.left=o,{top:a,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function zP(n,e){let t=n.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function NI(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];i?n.setProperty(r,i,t?.has(r)?"important":""):n.removeProperty(r)}return n}function Nc(n,e){let t=e?"":"none";NI(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function NP(n,e,t){NI(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function lm(n,e){return e&&e!="none"?n+" "+e:n}function PP(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=yd(e.left,e.top)}function yd(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function OP(n){let e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function g7(n){let e=getComputedStyle(n),t=EI(e,"transition-property"),r=t.find(a=>a==="transform"||a==="all");if(!r)return 0;let i=t.indexOf(r),s=EI(e,"transition-duration"),o=EI(e,"transition-delay");return OP(s[i])+OP(o[i])}function EI(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}var m7=new Set(["position"]),TI=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,t,r,i,s,o,a,c,u,d){this._document=e,this._rootElement=t,this._direction=r,this._initialDomRect=i,this._previewTemplate=s,this._previewClass=o,this._pickupPositionOnPage=a,this._initialTransform=c,this._zIndex=u,this._renderer=d}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),FP(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return g7(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,r=e?e.template:null,i;if(r&&e){let s=e.matchSize?this._initialDomRect:null,o=e.viewContainer.createEmbeddedView(r,e.context);o.detectChanges(),i=zP(o,this._document),this._previewEmbeddedView=o,e.matchSize?PP(i,s):i.style.transform=yd(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=SI(this._rootElement),PP(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return NI(i.style,{"pointer-events":"none",margin:FP(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},m7),Nc(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>i.classList.add(s)):i.classList.add(t)),i}};function FP(n){return"showPopover"in n}var y7={passive:!0},LP={passive:!1},v7={passive:!1,capture:!0},_7=800,VP="cdk-drag-placeholder",UP=new Set(["position"]),AI=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=te(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new ie;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=ze.EMPTY;_pointerUpSubscription=ze.EMPTY;_scrollSubscription=ze.EMPTY;_resizeSubscription=ze.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Nc(t,e)))}_disabled=!1;beforeStarted=new ie;started=new ie;released=new ie;ended=new ie;entered=new ie;exited=new ie;dropped=new ie;moved=this._moveEvents;data;constrainPosition;constructor(e,t,r,i,s,o,a){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=o,this._renderer=a,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new cm(r),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>xr(r)),this._handles.forEach(r=>Nc(r,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=xr(e);if(t!==this._rootElement){this._removeRootElementListeners();let r=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[r.listen(t,"mousedown",this._pointerDown,LP),r.listen(t,"touchstart",this._pointerDown,y7),r.listen(t,"dragstart",this._nativeDragStart,LP)]),this._initialTransform=void 0,this._rootElement=t}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?xr(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&p7(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let e=this._boundaryElement.getBoundingClientRect(),t=this._rootElement.getBoundingClientRect(),r=0,i=0;t.left<e.left?r=e.left-t.left:t.right>e.right&&(r=e.right-t.right),t.top<e.top?i=e.top-t.top:t.bottom>e.bottom&&(i=e.bottom-t.bottom);let s=this._activeTransform.x,o=this._activeTransform.y,a=s+r,c=o+i;this._rootElement.style.transform=yd(a,c),this._activeTransform={x:a,y:c},this._passiveTransform={x:a,y:c}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Nc(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Nc(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let i=Math.abs(t.x-this._pickupPositionOnPage.x),s=Math.abs(t.y-this._pickupPositionOnPage.y);if(i+s>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),c=this._dropContainer;if(!a){this._endDragSequence(e);return}(!c||!c.isDragging()&&!c.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let r=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,t);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,s=this._activeTransform;s.x=r.x-i.x+this._passiveTransform.x,s.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(s.x,s.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:e,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){pd(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),r=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(t,"selectstart",b7,v7)}),r){let i=this._rootElement,s=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),a=this._marker=this._marker||this._document.createComment("");s.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=new TI(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(s,t)),NP(i,!1,UP),this._document.body.appendChild(s.replaceChild(o,i)),this.started.next({source:this,event:e}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let r=this.isDragging(),i=pd(t),s=!i&&t.button!==0,o=this._rootElement,a=fd(t),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+_7>Date.now(),u=i?IP(t):wP(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),r||s||c||u)return;if(this._handles.length){let g=o.style;this._rootElementTapHighlight=g.webkitTapHighlightColor||"",g.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(g=>this._updateOnScroll(g)),this._boundaryElement&&(this._boundaryRect=MI(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){NP(this._rootElement,!0,UP),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),s=this._getDragDistance(i),o=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s,dropPoint:i,event:e}),t.drop(this,r,this._initialIndex,this._initialContainer,o,s,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{let o=this._dropContainer.getItemIndex(this),a=this._dropContainer.getItemAtIndex(o+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(s,this._dropContainer,a),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=a=>{(!a||this._preview&&fd(a)===this._preview.element&&a.propertyName==="transform")&&(o(),r(),clearTimeout(s))},s=setTimeout(i,t*1.5),o=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=zP(this._placeholderRef,this._document)):r=SI(this._rootElement),r.style.pointerEvents="none",r.classList.add(VP),r}_getPointerPositionInElement(e,t,r){let i=t===this._rootElement?null:t,s=i?i.getBoundingClientRect():e,o=pd(r)?r.targetTouches[0]:r,a=this._getViewportScrollPosition(),c=o.pageX-s.left-a.left,u=o.pageY-s.top-a.top;return{x:s.left-e.left+c,y:s.top-e.top+u}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),r=pd(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,s=r.pageY-t.top;if(this._ownerSVGElement){let o=this._ownerSVGElement.getScreenCTM();if(o){let a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=s,a.matrixTransform(o.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:s,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:c,height:u}=this._getPreviewRect(),d=a.top+o,p=a.bottom-(u-o),g=a.left+s,v=a.right-(c-s);r=jP(r,g,v),i=jP(i,d,p)}return{x:r,y:i}}_updatePointerDirectionDelta(e){let{x:t,y:r}=e,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-s.x),a=Math.abs(r-s.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=t>s.x?1:-1,s.x=t),a>this._config.pointerDirectionChangeThreshold&&(i.y=r>s.y?1:-1,s.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Nc(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){let r=1/this.scale,i=yd(e*r,t*r),s=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=s.transform&&s.transform!="none"?s.transform:""),s.transform=lm(i,this._initialTransform)}_applyPreviewTransform(e,t){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=yd(e,t);this._preview.setTransform(lm(i,r))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||r.width===0&&r.height===0)return;let s=i.left-r.left,o=r.right-i.right,a=i.top-r.top,c=r.bottom-i.bottom;i.width>r.width?(s>0&&(e+=s),o>0&&(e-=o)):e=0,i.height>r.height?(a>0&&(t+=a),c>0&&(t-=c)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:pd(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let r=fd(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&md(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=im(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let r=this._previewContainer||"global";if(r==="parent")return e;if(r==="global"){let i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return xr(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}_conditionallyInsertAnchor(e,t,r){if(e===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(t===this._initialContainer&&t.hasAnchor){let i=this._anchor??=SI(this._placeholder);i.classList.remove(VP),i.classList.add("cdk-drag-anchor"),i.style.transform="",r?r.before(i):xr(t.element).appendChild(i)}}};function jP(n,e,t){return Math.max(e,Math.min(t,n))}function pd(n){return n.type[0]==="t"}function b7(n){n.preventDefault()}function hm(n,e,t){let r=BP(e,n.length-1),i=BP(t,n.length-1);if(r===i)return;let s=n[r],o=i<r?-1:1;for(let a=r;a!==i;a+=o)n[a]=n[a+o];n[i]=s}function BP(n,e){return Math.max(0,Math.min(e,n))}var um=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,r,i){let s=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,r,i);if(o===-1&&s.length>0)return null;let a=this.orientation==="horizontal",c=s.findIndex(M=>M.drag===e),u=s[o],d=s[c].clientRect,p=u.clientRect,g=c>o?1:-1,v=this._getItemOffsetPx(d,p,g),x=this._getSiblingOffsetPx(c,s,g),O=s.slice();return hm(s,c,o),s.forEach((M,$)=>{if(O[$]===M)return;let ee=M.drag===e,oe=ee?v:x,Ve=ee?e.getPlaceholderElement():M.drag.getRootElement();M.offset+=oe;let Pt=Math.round(M.offset*(1/M.drag.scale));a?(Ve.style.transform=lm(`translate3d(${Pt}px, 0, 0)`,M.initialTransform),md(M.clientRect,0,oe)):(Ve.style.transform=lm(`translate3d(0, ${Pt}px, 0)`,M.initialTransform),md(M.clientRect,oe,0))}),this._previousSwap.overlaps=xI(p,t,r),this._previousSwap.drag=u.drag,this._previousSwap.delta=a?i.x:i.y,{previousIndex:c,currentIndex:o}}enter(e,t,r,i){let s=i==null||i<0?this._getItemIndexFromPointerPosition(e,t,r):i,o=this._activeDraggables,a=o.indexOf(e),c=e.getPlaceholderElement(),u=o[s];if(u===e&&(u=o[s+1]),!u&&(s==null||s===-1||s<o.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(u=o[0]),a>-1&&o.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){let d=u.getRootElement();d.parentElement.insertBefore(c,d),o.splice(s,0,e)}else this._element.appendChild(c),o.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let r=this._itemPositions.find(i=>i.drag===e)?.initialTransform;t.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return this._getVisualItemPositions().findIndex(t=>t.drag===e)}getItemAtIndex(e){return this._getVisualItemPositions()[e]?.drag||null}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:r})=>{md(r,e,t)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:MI(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(e,t,r){let i=this.orientation==="horizontal",s=i?t.left-e.left:t.top-e.top;return r===-1&&(s+=i?t.width-e.width:t.height-e.height),s}_getSiblingOffsetPx(e,t,r){let i=this.orientation==="horizontal",s=t[e].clientRect,o=t[e+r*-1],a=s[i?"width":"height"]*r;if(o){let c=i?"left":"top",u=i?"right":"bottom";r===-1?a-=o.clientRect[c]-s[u]:a+=s[c]-o.clientRect[u]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let o=r[r.length-1].clientRect;return i?e>=o.right:t>=o.bottom}else{let o=r[0].clientRect;return i?e<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(e,t,r,i){let s=this.orientation==="horizontal",o=this._itemPositions.findIndex(({drag:a,clientRect:c})=>{if(a===e)return!1;if(i){let u=s?i.x:i.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&u===this._previousSwap.delta)return!1}return s?t>=Math.floor(c.left)&&t<Math.floor(c.right):r>=Math.floor(c.top)&&r<Math.floor(c.bottom)});return o===-1||!this._sortPredicate(o,e)?-1:o}},kI=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<t.length;r++){let i=t[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(e)}sort(e,t,r,i){let s=this._getItemIndexFromPointerPosition(e,t,r),o=this._previousSwap;if(s===-1||this._activeItems[s]===e)return null;let a=this._activeItems[s];if(o.drag===a&&o.overlaps&&o.deltaX===i.x&&o.deltaY===i.y)return null;let c=this.getItemIndex(e),u=e.getPlaceholderElement(),d=a.getRootElement();s>c?d.after(u):d.before(u),hm(this._activeItems,c,s);let p=this._getRootNode().elementFromPoint(t,r);return o.deltaX=i.x,o.deltaY=i.y,o.drag=a,o.overlaps=d===p||d.contains(p),{previousIndex:c,currentIndex:s}}enter(e,t,r,i){let s=this._activeItems.indexOf(e);s>-1&&this._activeItems.splice(s,1);let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,t,r):i;o===-1&&(o=this._getClosestItemIndexToPointer(e,t,r));let a=this._activeItems[o];a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(o,0,e),a.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[i,s]=this._relatedNodes[r];i.parentNode===e&&i.nextSibling!==s&&(s===null?e.appendChild(i):s.parentNode===e&&e.insertBefore(i,s))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}getItemAtIndex(e){return this._activeItems[e]||null}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,r){let i=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(r)),s=i?this._activeItems.findIndex(o=>{let a=o.getRootElement();return i===a||a.contains(i)}):-1;return s===-1||!this._sortPredicate(s,e)?-1:s}_getRootNode(){return this._rootNode||(this._rootNode=im(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,s=-1;for(let o=0;o<this._activeItems.length;o++){let a=this._activeItems[o];if(a!==e){let{x:c,y:u}=a.getRootElement().getBoundingClientRect(),d=Math.hypot(t-c,r-u);d<i&&(i=d,s=o)}}return s}},$P=.05,GP=.05,tr=(function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n})(tr||{}),pn=(function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n})(pn||{}),RI=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new ie;entered=new ie;exited=new ie;dropped=new ie;sorted=new ie;receivingStarted=new ie;receivingStopped=new ie;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=ze.EMPTY;_verticalScrollDirection=tr.NONE;_horizontalScrollDirection=pn.NONE;_scrollNode;_stopScrollTimers=new ie;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,r,i,s){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=s;let o=this.element=xr(e);this._document=r,this.withOrientation("vertical").withElementContainer(o),t.registerDropContainer(this),this._parentPositions=new cm(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,s,o,a,c={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:s,distance:o,dropPoint:a,event:c})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof um&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new kI(this._document,this._dragDropRegistry);else{let t=new um(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,r)=>this.sortPredicate(t,r,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=xr(this.element),r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(e);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}getItemAtIndex(e){return this._isDragging?this._sortStrategy.getItemAtIndex(e):this._draggables[e]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._domRect||!MP(this._domRect,$P,t,r))return;let s=this._sortStrategy.sort(e,t,r,i);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=tr.NONE,s=pn.NONE;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||r||MP(o.clientRect,$P,e,t)&&([i,s]=C7(a,o.clientRect,this._direction,e,t),(i||s)&&(r=a))}),!i&&!s){let{width:o,height:a}=this._viewportRuler.getViewportSize(),c={width:o,height:a,top:0,right:o,bottom:a,left:0};i=qP(c,t),s=WP(c,e),r=window}r&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=r,(i||s)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),ll(0,Jd).pipe(or(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===tr.UP?e.scrollBy(0,-t):this._verticalScrollDirection===tr.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===pn.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===pn.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return this._domRect!=null&&xI(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._domRect||!xI(this._domRect,t,r)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(t,r);return i?i===this._container||this._container.contains(i):!1}_startReceiving(e,t){let r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=im(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function qP(n,e){let{top:t,bottom:r,height:i}=n,s=i*GP;return e>=t-s&&e<=t+s?tr.UP:e>=r-s&&e<=r+s?tr.DOWN:tr.NONE}function WP(n,e){let{left:t,right:r,width:i}=n,s=i*GP;return e>=t-s&&e<=t+s?pn.LEFT:e>=r-s&&e<=r+s?pn.RIGHT:pn.NONE}function C7(n,e,t,r,i){let s=qP(e,i),o=WP(e,r),a=tr.NONE,c=pn.NONE;if(s){let u=n.scrollTop;s===tr.UP?u>0&&(a=tr.UP):n.scrollHeight-u>n.clientHeight&&(a=tr.DOWN)}if(o){let u=n.scrollLeft;t==="rtl"?o===pn.RIGHT?u<0&&(c=pn.RIGHT):n.scrollWidth+u>n.clientWidth&&(c=pn.LEFT):o===pn.LEFT?u>0&&(c=pn.LEFT):n.scrollWidth-u>n.clientWidth&&(c=pn.RIGHT)}return[a,c]}var gd={capture:!0},DI={passive:!1,capture:!0},w7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ct({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return n})(),PI=(()=>{class n{_ngZone=E(Oe);_document=E(Ye);_styleLoader=E(EP);_renderer=E(Mn).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new ie;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=te([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new ie;pointerUp=new ie;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,DI)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,r){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(w7),this._activeDragInstances.update(i=>[...i,t]),this._activeDragInstances().length===1)){let i=r.type.startsWith("touch"),s=a=>this.pointerUp.next(a),o=[["scroll",a=>this._scroll.next(a),gd],["selectstart",this._preventDefaultWhileDragging,DI]];i?o.push(["touchend",s,gd],["touchcancel",s,gd]):o.push(["mouseup",s,gd]),i||o.push(["mousemove",a=>this.pointerMove.next(a),DI]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=o.map(([a,c,u])=>this._renderer.listen(this._document,a,c,u))})}}stopDragging(t){this._activeDragInstances.update(r=>{let i=r.indexOf(t);return i>-1?(r.splice(i,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let r=[this._scroll];return t&&t!==this._document&&r.push(new ue(i=>this._ngZone.runOutsideAngular(()=>{let s=this._renderer.listen(t,"scroll",o=>{this._activeDragInstances().length&&i.next(o)},gd);return()=>{s()}}))),ul(...r)}registerDirectiveNode(t,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,r)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),I7={dragStartThreshold:5,pointerDirectionChangeThreshold:5},OI=(()=>{class n{_document=E(Ye);_ngZone=E(Oe);_viewportRuler=E(SP);_dragDropRegistry=E(PI);_renderer=E(Mn).createRenderer(null,null);constructor(){}createDrag(t,r=I7){return new AI(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new RI(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dm=new q("CDK_DRAG_PARENT");var KP=new q("CdkDragHandle"),QP=(()=>{class n{element=E(mt);_parentDrag=E(dm,{optional:!0,skipSelf:!0});_dragDropRegistry=E(PI);_stateChanges=new ie;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let t=this.element.nativeElement.parentElement;for(;t;){let r=this._dragDropRegistry.getDragDirectiveForNode(t);if(r){this._parentDrag=r,r._addHandle(this);break}t=t.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",vn]},features:[Qn([{provide:KP,useExisting:n}])]})}return n})(),YP=new q("CDK_DRAG_CONFIG"),ZP=new q("CdkDropList"),JP=(()=>{class n{element=E(mt);dropContainer=E(ZP,{optional:!0,skipSelf:!0});_ngZone=E(Oe);_viewContainerRef=E(Br);_dir=E(wI,{optional:!0});_changeDetectorRef=E(Xt);_selfHandle=E(KP,{optional:!0,self:!0});_parentDrag=E(dm,{optional:!0,skipSelf:!0});_dragDropRegistry=E(PI);_destroyed=new ie;_handles=new Pe([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new Ae;released=new Ae;ended=new Ae;entered=new Ae;exited=new Ae;dropped=new Ae;moved=new ue(t=>{let r=this._dragRef.moved.pipe(X(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(t);return()=>{r.unsubscribe()}});_injector=E(Qe);constructor(){let t=this.dropContainer,r=E(YP,{optional:!0}),i=E(OI);this._dragRef=i.createDrag(this.element,{dragStartThreshold:r&&r.dragStartThreshold!=null?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&r.pointerDirectionChangeThreshold!=null?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),t&&(t.addItem(this),t._dropListRef.beforeStarted.pipe(or(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){_o(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let r=this._handles.getValue();r.push(t),this._handles.next(r)}_removeHandle(t){let r=this._handles.getValue(),i=r.indexOf(t);i>-1&&(r.splice(i,1),this._handles.next(r))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,r=t;this.rootElementSelector&&(r=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):xr(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let r=this._dir,i=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof i=="object"&&i?i:sm(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(Tt(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){let i=this._dragDropRegistry.getDragDirectiveForNode(r);if(i){t.withParent(i._dragRef);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(t){let{lockAxis:r,dragStartDelay:i,constrainPosition:s,previewClass:o,boundaryElement:a,draggingDisabled:c,rootElementSelector:u,previewContainer:d}=t;this.disabled=c??!1,this.dragStartDelay=i||0,this.lockAxis=r||null,s&&(this.constrainPosition=s),o&&(this.previewClass=o),a&&(this.boundaryElement=a),u&&(this.rootElementSelector=u),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(Ge(t=>{let r=t.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),zt(t=>ul(...t.map(r=>r._stateChanges.pipe(Ks(r))))),or(this._destroyed)).subscribe(t=>{let r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){r&2&&Vt("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",vn],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",aA]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Qn([{provide:dm,useExisting:n}]),Kn]})}return n})(),HP=new q("CdkDropListGroup");var XP=(()=>{class n{element=E(mt);_changeDetectorRef=E(Xt);_scrollDispatcher=E(DP);_dir=E(wI,{optional:!0});_group=E(HP,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new ie;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=E(am).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new Ae;entered=new Ae;exited=new Ae;sorted=new Ae;_unsortedItems=new Set;constructor(){let t=E(OI),r=E(YP,{optional:!0});this._dropListRef=t.createDropList(this.element),this._dropListRef.data=this,r&&this._assignDefaults(r),this._dropListRef.enterPredicate=(i,s)=>this.enterPredicate(i.data,s.data),this._dropListRef.sortPredicate=(i,s,o)=>this.sortPredicate(i,s.data,o.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(t){this._unsortedItems.add(t),t._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef))}removeItem(t){if(this._unsortedItems.delete(t),this._latestSortedRefs){let r=this._latestSortedRefs.indexOf(t._dragRef);r>-1&&(this._latestSortedRefs.splice(r,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((t,r)=>t._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Ks(this._dir.value),or(this._destroyed)).subscribe(r=>t.withDirection(r)),t.beforeStarted.subscribe(()=>{let r=TP(this.connectedTo).map(i=>{if(typeof i=="string"){let s=n._dropLists.find(o=>o.id===i);return s}return i});if(this._group&&this._group._items.forEach(i=>{r.indexOf(i)===-1&&r.push(i)}),!this._scrollableParentsResolved){let i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let i=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(i)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=sm(this.autoScrollStep,2),t.hasAnchor=this.hasAnchor,t.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef)),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),ul(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){let{lockAxis:r,draggingDisabled:i,sortingDisabled:s,listAutoScrollDisabled:o,listOrientation:a}=t;this.disabled=i??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=o??!1,this.orientation=a||"vertical",this.lockAxis=r||null}_syncItemsWithRef(t){this._latestSortedRefs=t,this._dropListRef.withItems(t)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,i){r&2&&(bo("id",i.id),Vt("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",vn],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",vn],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",vn],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",vn]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Qn([{provide:HP,useValue:void 0},{provide:ZP,useExisting:n}])]})}return n})();var E7=new q("CdkDragPlaceholder"),e2=(()=>{class n{templateRef=E(_i);_drag=E(dm,{optional:!0});data;constructor(){this._drag?._setPlaceholderTemplate(this)}ngOnDestroy(){this._drag?._resetPlaceholderTemplate(this)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[Qn([{provide:E7,useExisting:n}])]})}return n})();var t2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=mn({providers:[OI],imports:[xP]})}return n})();var nr=class n{firestore=E(fn);usersCollection=Bn(this.firestore,"users");unsubUsers=null;unsubAllUsers=null;users=te([]);allUsers=te([]);currentUser=te(null);loading=te(!0);error=te(null);usersSubject=new Pe([]);users$=this.usersSubject.asObservable();migrationInProgress=te(!1);constructor(){this.subscribeToAllUsers(),this.restoreSession(),Rn(()=>{let e=this.currentUser();this.subscribeToUsers(e?.userId)})}subscribeToAllUsers(){let e=ni(this.usersCollection,eP("name"));this.unsubAllUsers=ti(e,t=>{let r=t.docs.map(i=>{let s=i.data();return Y(L({id:i.id},s),{userId:s.userId||null,lastActive:s.lastActive?.toDate?s.lastActive.toDate():s.lastActive,createdAt:s.createdAt?.toDate?s.createdAt.toDate():s.createdAt})});this.allUsers.set(r),this.migrateUsersWithoutUserId(r).subscribe()},t=>{console.error("Error fetching all users",t)})}subscribeToUsers(e){if(this.unsubUsers&&(this.unsubUsers(),this.unsubUsers=null),!e){this.users.set([]),this.usersSubject.next([]),this.loading.set(!1);return}let t=ni(this.usersCollection,Vi("createdBy","==",e));this.unsubUsers=ti(t,r=>{let i=r.docs.map(o=>{let a=o.data();return Y(L({id:o.id},a),{userId:a.userId||null,lastActive:a.lastActive?.toDate?a.lastActive.toDate():a.lastActive,createdAt:a.createdAt?.toDate?a.createdAt.toDate():a.createdAt})}),s=this.currentUser();s&&!i.find(o=>o.id===s.id)&&i.unshift(s),i.sort((o,a)=>o.name.localeCompare(a.name)),this.users.set(i),this.usersSubject.next(i),this.loading.set(!1),this.migrateUsersWithoutUserId(i).subscribe()},r=>{console.error("Error fetching users",r),this.error.set(r.message),this.loading.set(!1)})}migrateUsersWithoutUserId(e){if(this.migrationInProgress())return Q(void 0);let t=e.filter(i=>!i.userId);if(t.length===0)return Q(void 0);this.migrationInProgress.set(!0),console.log(`\u{1F504} Migrating ${t.length} user(s) without userId...`);let r=t.map(i=>{let s=this.generateUserId();return console.log(`  \u2192 Migrating user "${i.name}" (${i.id}) \u2192 userId: ${s}`),this.updateUser$(i.id,{userId:s}).pipe(X(()=>({name:i.name,userId:s})))});return Dn(r).pipe(Ge(i=>{}),ui(i=>(console.error("\u274C Error during user migration:",i),Q(void 0))),Ge(()=>{this.migrationInProgress.set(!1)}),X(()=>{}))}async restoreSession(){let e=localStorage.getItem("currentUserId");if(!e){this.loading.set(!1);return}try{let t=atob(e),r=await JN(_t(this.firestore,"users",t));if(r.exists()){let i=r.data(),s=Y(L({id:r.id},i),{userId:i.userId||null,lastActive:i.lastActive?.toDate?i.lastActive.toDate():i.lastActive,createdAt:i.createdAt?.toDate?i.createdAt.toDate():i.createdAt});this.currentUser.set(s),s.status!=="active"&&this.updateUser$(s.id,{status:"active",lastActive:Xo()}).subscribe()}else localStorage.removeItem("currentUserId"),this.loading.set(!1)}catch{console.error("Error restoring session"),localStorage.removeItem("currentUserId"),this.loading.set(!1)}}updateCurrentUserReference(e){let t=localStorage.getItem("currentUserId");if(t)try{let r=atob(t),i=e.find(s=>s.id===r);i&&(this.currentUser.set(i),i.status!=="active"&&this.updateUser$(i.id,{status:"active",lastActive:Xo()}).subscribe())}catch{localStorage.removeItem("currentUserId")}}login$(e){return(e.userId?Q(void 0):this.updateUser$(e.id,{userId:this.generateUserId()}).pipe(Ge(()=>e=Y(L({},e),{userId:this.generateUserId()})))).pipe(zt(()=>(localStorage.setItem("currentUserId",btoa(e.id)),this.currentUser.set(e),this.updateUser$(e.id,{status:"active",lastActive:Xo()}))))}logout$(){let e=this.currentUser();return e?this.updateUser$(e.id,{status:"offline",lastActive:Xo()}).pipe(Ge(()=>{localStorage.removeItem("currentUserId"),this.currentUser.set(null)})):(localStorage.removeItem("currentUserId"),this.currentUser.set(null),Q(void 0))}createUser$(e){let t=this.generateUserId(),r=this.currentUser()?.userId;return ge(Yg(this.usersCollection,Y(L({},e),{userId:t,createdBy:r,status:e.status||"pending",lastActive:Xo(),createdAt:Xo()}))).pipe(X(()=>{}))}generateUserId(){let e=Date.now().toString(36),t=Math.random().toString(36).substring(2,8);return`user_${e}_${t}`}updateUser$(e,t){return ge(Sr(_t(this.firestore,"users",e),t))}deleteUser$(e){return ge(Li(_t(this.firestore,"users",e)))}manualMigrateAllUsers$(){let t=this.users().filter(o=>!o.userId);if(t.length===0)return console.log("\u2705 All users already have userId assigned."),Q({migrated:0,errors:0});let r=0,i=0,s=t.map(o=>{let a=this.generateUserId();return this.updateUser$(o.id,{userId:a}).pipe(Ge(()=>{console.log(`\u2705 Migrated user "${o.name}" \u2192 ${a}`),r++}),ui(c=>(console.error(`\u274C Failed to migrate user "${o.name}":`,c),i++,Q(void 0))))});return ge(Promise.all(s.map(o=>o.toPromise()))).pipe(X(()=>({migrated:r,errors:i})))}getUsersNeedingMigration(){return this.users().filter(e=>!e.userId)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var ii=class n{firestore=E(fn);userService=E(nr);COLLECTION="assignees";assigneesSignal=te([]);assignees=xe(()=>this.assigneesSignal());assigneesSubject=new Pe([]);assignees$=this.assigneesSubject.asObservable();unsubAssignees=null;constructor(){Rn(()=>{let e=this.userService.currentUser();this.cleanupSubscription(),e&&e.userId?(console.log("\u{1F465} Loading assignees for user..."),this.subscribeToAssignees(e.userId)):(console.log("\u{1F512} No user logged in - clearing assignee data"),this.assigneesSignal.set([]),this.assigneesSubject.next([]))})}getCurrentUserId(){return this.userService.currentUser()?.userId||""}cleanupSubscription(){this.unsubAssignees&&(this.unsubAssignees(),this.unsubAssignees=null)}subscribeToAssignees(e){if(!e)return;let t=ni(Bn(this.firestore,this.COLLECTION),Vi("userId","==",e));this.unsubAssignees=ti(t,r=>{let i=r.docs.map(s=>L({id:s.id},s.data()));i.sort((s,o)=>s.name.localeCompare(o.name)),this.assigneesSignal.set(i),this.assigneesSubject.next(i)},r=>{console.error("Error fetching assignees:",r)})}createAssignee$(e,t){let r=this.getCurrentUserId();if(!r)return $n(()=>new Error("User must be logged in to create assignees"));let i=e.charAt(0).toUpperCase();return ge(Yg(Bn(this.firestore,this.COLLECTION),{name:e,color:t,initial:i,userId:r,points:0})).pipe(X(s=>s.id))}updateAssignee$(e,t){let r=L({},t);return t.name&&(r.initial=t.name.charAt(0).toUpperCase()),ge(Sr(_t(this.firestore,this.COLLECTION,e),r))}deleteAssignee$(e){return ge(Li(_t(this.firestore,this.COLLECTION,e)))}getAssignee(e){return this.assigneesSignal().find(t=>t.id===e)}incrementPoints$(e,t=1){let r=this.getAssignee(e);if(!r)return Q(void 0);let i=(r.points||0)+t;return this.updateAssignee$(e,{points:i})}ngOnDestroy(){this.cleanupSubscription()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var si=class n{userService=E(nr);assigneeService=E(ii);firestore=E(fn);TASKS_COLLECTION="overview_tasks";tasksSignal=te([]);tasks=xe(()=>this.tasksSignal());tasksSubject=new Pe([]);tasks$=this.tasksSubject.asObservable();unsubTasks=null;rewardIntervalSub=null;constructor(){Rn(()=>{let e=this.userService.currentUser();this.cleanupSubscription(),e&&e.userId?(console.log("\u{1F4CB} Loading tasks for user..."),this.initRealtimeData(e.userId),this.startRewardProcessor()):(console.log("\u{1F512} No user logged in - clearing task data"),this.tasksSignal.set([]),this.tasksSubject.next([]),this.stopRewardProcessor())})}startRewardProcessor(){this.stopRewardProcessor(),this.rewardIntervalSub=ll(6e4).subscribe(()=>{this.processPendingRewards()})}stopRewardProcessor(){this.rewardIntervalSub&&(this.rewardIntervalSub.unsubscribe(),this.rewardIntervalSub=null)}processPendingRewards(){let e=this.tasksSignal(),t=Date.now(),r=3600*1e3,i=e.filter(s=>{if(!s.isCompleted||!s.assigneeId||s.pointsAwarded||!s.completedAt)return!1;let o=s.completedAt instanceof Date?s.completedAt.getTime():new Date(s.completedAt).getTime();return t-o>=r});i.length>0&&(console.log(`\u{1F3C6} Found ${i.length} tasks ready for rewarding`),i.forEach(s=>{s.assigneeId&&this.assigneeService.incrementPoints$(s.assigneeId,1).subscribe({next:()=>{console.log(`\u2705 Awarded point to assignee for task ${s.id}`),this.updateTask$(s.id,{pointsAwarded:!0}).subscribe()},error:o=>console.error("Error awarding points:",o)})}))}getCurrentUserId(){return this.userService.currentUser()?.userId||""}cleanupSubscription(){this.unsubTasks&&(this.unsubTasks(),this.unsubTasks=null)}initRealtimeData(e){if(!e)return;let t=ni(Bn(this.firestore,this.TASKS_COLLECTION),Vi("userId","==",e));this.unsubTasks=ti(t,r=>{let i=r.docs.map(s=>{let o=s.data(),a=o.dueDate&&typeof o.dueDate.toDate=="function"?o.dueDate.toDate():o.dueDate?new Date(o.dueDate):null,c=o.createdAt&&typeof o.createdAt.toDate=="function"?o.createdAt.toDate():new Date,u=o.completedAt&&typeof o.completedAt.toDate=="function"?o.completedAt.toDate():o.completedAt?new Date(o.completedAt):void 0;return Y(L({},o),{dueDate:a,createdAt:c,completedAt:u,order:o.order??Date.now()})});i.sort((s,o)=>(s.order??0)-(o.order??0)),this.tasksSignal.set(i),this.tasksSubject.next(i),this.processPendingRewards()})}createTask$(e){let t=this.getCurrentUserId();if(!t)return $n(()=>new Error("User must be logged in to create tasks"));let r=this.tasksSignal().filter(o=>o.category===e.category),i=r.length>0?Math.max(...r.map(o=>o.order??0)):0,s=`task_${Date.now()}_${Math.random().toString(36).substr(2,5)}`;return ge(Tc(_t(this.firestore,this.TASKS_COLLECTION,s),this.removeUndefined(Y(L({},e),{id:s,userId:t,order:i+1e3,createdAt:new Date,pointsAwarded:!1,completedAt:null})))).pipe(X(()=>s))}updateTask$(e,t){let r=L({},t);return t.isCompleted===!0?r.completedAt=new Date:t.isCompleted===!1&&(r.completedAt=null,r.pointsAwarded=!1),ge(Sr(_t(this.firestore,this.TASKS_COLLECTION,e),this.removeUndefined(r)))}removeUndefined(e){let t={};return Object.keys(e).forEach(r=>{e[r]!==void 0&&(t[r]=e[r])}),t}deleteTask$(e){return ge(Li(_t(this.firestore,this.TASKS_COLLECTION,e)))}ngOnDestroy(){this.cleanupSubscription(),this.stopRewardProcessor()}reorderTasks$(e){let t=e.map((r,i)=>this.updateTask$(r.id,{order:i*1e3}));return Dn(t).pipe(X(()=>{}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var vd=["bg-red-500","bg-orange-500","bg-amber-500","bg-green-500","bg-emerald-500","bg-teal-500","bg-cyan-500","bg-blue-500","bg-indigo-500","bg-violet-500","bg-purple-500","bg-fuchsia-500","bg-pink-500","bg-rose-500","bg-slate-500"],n2=[{id:"groceries",label:"Groceries",color:"bg-amber-400",textColor:"text-amber-400"},{id:"chores",label:"Chores",color:"bg-blue-400",textColor:"text-blue-400"},{id:"repairs",label:"Repairs",color:"bg-purple-500",textColor:"text-purple-400"},{id:"other",label:"Other",color:"bg-slate-400",textColor:"text-slate-400"}];var rr=class n{dialog=te(null);confirm$(e,t="Confirm"){let r=new ie;return this.dialog.set({message:e,title:t,type:"confirm",confirmText:"Confirm",cancelText:"Cancel",result$:r}),r.pipe(Tt(1))}confirm(e,t="Confirm"){return dh(this.confirm$(e,t))}alert$(e,t="Alert"){let r=new ie;return this.dialog.set({message:e,title:t,type:"info",confirmText:"OK",result$:r}),r.pipe(Tt(1))}alert(e,t="Alert"){return dh(this.alert$(e,t))}success$(e,t="Success"){let r=new ie;return this.dialog.set({message:e,title:t,type:"success",confirmText:"OK",result$:r}),r.pipe(Tt(1))}error$(e,t="Error"){let r=new ie;return this.dialog.set({message:e,title:t,type:"error",confirmText:"OK",result$:r}),r.pipe(Tt(1))}close(e){let t=this.dialog();t&&(t.result$.next(e),t.result$.complete(),this.dialog.set(null))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var wn=class n{loadingSignal=te({isLoading:!1});loadingSubject=new Pe({isLoading:!1});loading$=this.loadingSubject.asObservable();requestState$=new Pe({count:0});loading=this.loadingSignal.asReadonly();constructor(){let t=this.requestState$.pipe(X(i=>i.count),ga()).pipe(X(i=>i>0),ga(),zt(i=>i?Q(!0).pipe(Iy(200)):Q(!1))),r=this.requestState$.pipe(X(i=>i.message),ga());al([t,r]).subscribe(([i,s])=>{let o={isLoading:i,message:s};this.loadingSignal.set(o),this.loadingSubject.next(o)})}get isLoading(){return this.loadingSignal().isLoading}show(e){let t=this.requestState$.value;this.requestState$.next({count:t.count+1,message:e})}hide(){let e=this.requestState$.value;this.requestState$.next({count:Math.max(0,e.count-1),message:e.message})}forceHide(){this.requestState$.next({count:0,message:void 0})}setMessage(e){let t=this.requestState$.value;t.count>0&&this.requestState$.next(Y(L({},t),{message:e}))}setProgress(e){let t=this.loadingSignal();if(t.isLoading){let r=Y(L({},t),{progress:Math.min(100,Math.max(0,e))});this.loadingSignal.set(r),this.loadingSubject.next(r)}}withLoading(e){return t=>(this.show(e),t.pipe(Ws(()=>this.hide())))}async wrapPromise(e,t){this.show(t);try{return await e}finally{this.hide()}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function S7(n,e){if(n&1&&(Lt(0,"p",5),C(1),Jt()),n&2){let t=P(2);D(),de(t.message())}}function x7(n,e){if(n&1&&(Lt(0,"div",6),Fa(1,"div",7),Jt(),Lt(2,"p",8),C(3),Jt()),n&2){let t=P(2);D(),Co("width",t.progress(),"%"),D(2),Ne("",t.progress(),"%")}}function T7(n,e){if(n&1&&(Lt(0,"div",0)(1,"div",1)(2,"div",2),Fa(3,"div",3)(4,"div",3)(5,"div",3),Lt(6,"span",4),C(7,"home"),Jt()(),Z(8,S7,2,1,"p",5),Z(9,x7,4,3),Jt()()),n&2){let t=P();D(8),J(t.message()?8:-1),D(),J(t.progress()!==void 0?9:-1)}}var fm=class n{loadingService=E(wn);loadingState=l1(this.loadingService.loading$,{initialValue:{isLoading:!1}});isLoading=xe(()=>this.loadingState().isLoading);message=xe(()=>this.loadingState().message);progress=xe(()=>this.loadingState().progress);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ct({type:n,selectors:[["app-loading"]],decls:1,vars:1,consts:[[1,"loading-overlay"],[1,"loading-container"],[1,"spinner"],[1,"spinner-ring"],[1,"material-symbols-outlined","spinner-icon"],[1,"loading-message"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-text"]],template:function(t,r){t&1&&Z(0,T7,10,2,"div",0),t&2&&J(r.isLoading()?0:-1)},dependencies:[bn],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;background:#111317d9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem}.spinner[_ngcontent-%COMP%]{position:relative;width:80px;height:80px}.spinner-ring[_ngcontent-%COMP%]{position:absolute;inset:0;border-radius:50%;border:3px solid transparent;animation:_ngcontent-%COMP%_spin 1.5s linear infinite}.spinner-ring[_ngcontent-%COMP%]:nth-child(1){border-top-color:#9fe870;animation-delay:0s}.spinner-ring[_ngcontent-%COMP%]:nth-child(2){inset:8px;border-right-color:#9fe870;animation-delay:.15s;animation-direction:reverse}.spinner-ring[_ngcontent-%COMP%]:nth-child(3){inset:16px;border-bottom-color:#9fe870;animation-delay:.3s}.spinner-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:28px;color:#9fe870;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:translate(-50%,-50%) scale(1)}50%{opacity:.6;transform:translate(-50%,-50%) scale(.9)}}.loading-message[_ngcontent-%COMP%]{color:#fff;font-size:1rem;font-weight:500;text-align:center;max-width:280px;animation:_ngcontent-%COMP%_fadeIn .3s ease .1s both}.progress-container[_ngcontent-%COMP%]{width:200px;height:4px;background:#ffffff1a;border-radius:9999px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#9fe870,#7dd956);border-radius:9999px;transition:width .3s ease}.progress-text[_ngcontent-%COMP%]{color:#9ea7b7;font-size:.75rem;font-weight:600}"],changeDetection:0})};var A7=(n,e)=>e.id;function k7(n,e){if(n&1){let t=Ie();y(0,"button",17),U("click",function(){let i=j(t).$implicit,s=P();return B(s.assigneeColor=i)}),_()}if(n&2){let t=e.$implicit,r=P();Be(t),Vt("ring-slate-400",r.assigneeColor===t)("ring-transparent",r.assigneeColor!==t)}}function R7(n,e){if(n&1){let t=Ie();y(0,"button",18),U("click",function(){j(t);let i=P();return B(i.resetForm())}),C(1," Cancel "),_()}}function M7(n,e){if(n&1){let t=Ie();y(0,"div",15)(1,"div",19)(2,"div",20),C(3),_(),y(4,"div",21)(5,"span",22),C(6),_(),y(7,"span",23)(8,"span",24),C(9,"emoji_events"),_(),C(10),_()()(),y(11,"div",25)(12,"button",26),U("click",function(){let i=j(t).$implicit,s=P();return B(s.editAssignee(i))}),y(13,"span",27),C(14,"edit"),_()(),y(15,"button",28),U("click",function(){let i=j(t).$implicit,s=P();return B(s.deleteAssignee(i.id))}),y(16,"span",27),C(17,"delete"),_()()()()}if(n&2){let t=e.$implicit;D(2),Be(t.color),D(),Ne(" ",t.initial," "),D(3),de(t.name),D(4),Ne(" ",t.points||0," pts ")}}function N7(n,e){n&1&&(y(0,"div",16),C(1,"No assignees yet"),_())}var pm=class n{close=new Ae;assigneeService=E(ii);overviewService=E(si);dialogService=E(rr);loadingService=E(wn);assignees=this.assigneeService.assignees;assigneeColors=vd;editingAssignee=null;assigneeName="";assigneeColor=vd[0];onClose(){this.close.emit()}resetForm(){this.editingAssignee=null,this.assigneeName="",this.assigneeColor=this.assigneeColors[0]}editAssignee(e){this.editingAssignee=e,this.assigneeName=e.name,this.assigneeColor=e.color}saveAssignee(){this.assigneeName.trim()&&(this.loadingService.show("Saving..."),this.editingAssignee?this.assigneeService.updateAssignee$(this.editingAssignee.id,{name:this.assigneeName,color:this.assigneeColor}).subscribe({next:()=>{this.loadingService.hide(),this.resetForm()},error:()=>this.loadingService.hide()}):this.assigneeService.createAssignee$(this.assigneeName,this.assigneeColor).subscribe({next:()=>{this.loadingService.hide(),this.resetForm()},error:()=>this.loadingService.hide()}))}deleteAssignee(e){if(this.overviewService.tasks().filter(r=>r.assigneeId===e).length>0){this.dialogService.alert$("Cannot delete assignee with active tasks.").subscribe();return}this.dialogService.confirm$("Delete this assignee?","Confirm").subscribe(r=>{r&&(this.loadingService.show("Deleting..."),this.assigneeService.deleteAssignee$(e).subscribe({next:()=>this.loadingService.hide(),error:()=>this.loadingService.hide()}))})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ct({type:n,selectors:[["app-assignee-management"]],outputs:{close:"close"},decls:22,vars:5,consts:[[1,"fixed","inset-0","z-[60]","flex","items-center","justify-center","p-4","bg-black/50","backdrop-blur-sm","animate-in","fade-in","duration-200"],[1,"bg-white","dark:bg-surface-dark","w-full","max-w-sm","rounded-2xl","shadow-xl","overflow-hidden","animate-in","zoom-in-95","duration-200","border","border-slate-200","dark:border-border-dark","flex","flex-col","max-h-[80vh]"],[1,"p-4","border-b","border-slate-100","dark:border-border-dark","flex","justify-between","items-center","bg-slate-50/50","dark:bg-black/20"],[1,"font-bold","text-lg","text-slate-900","dark:text-white"],[1,"p-1","rounded-full","hover:bg-slate-200","dark:hover:bg-border-dark","transition-colors",3,"click"],[1,"material-symbols-outlined"],[1,"flex-1","overflow-y-auto","p-4","space-y-3"],[1,"bg-slate-50","dark:bg-black/20","p-3","rounded-xl","space-y-3"],["type","text","placeholder","Name (e.g. Alex)",1,"w-full","h-10","px-3","rounded-lg","bg-white","dark:bg-surface-dark","border","border-slate-200","dark:border-border-dark","text-sm","focus:border-primary","focus:ring-1","focus:ring-primary","outline-none","text-slate-900","dark:text-white",3,"ngModelChange","ngModel"],[1,"flex","flex-wrap","gap-2"],[1,"size-6","rounded-full","transition-transform","hover:scale-110","ring-2","ring-offset-1","dark:ring-offset-surface-dark",3,"class","ring-slate-400","ring-transparent"],[1,"flex","justify-end","gap-2"],[1,"text-xs","text-slate-500","font-bold","hover:text-slate-700","dark:hover:text-slate-300","px-2"],[1,"h-8","px-4","bg-primary","text-slate-900","rounded-lg","text-xs","font-bold","hover:bg-primary-hover","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],[1,"space-y-2"],[1,"flex","items-center","justify-between","p-2","rounded-lg","hover:bg-slate-50","dark:hover:bg-white/5","group","border","border-transparent","hover:border-slate-100","dark:hover:border-border-dark","transition-all"],[1,"text-center","py-6","text-slate-400","text-sm"],[1,"size-6","rounded-full","transition-transform","hover:scale-110","ring-2","ring-offset-1","dark:ring-offset-surface-dark",3,"click"],[1,"text-xs","text-slate-500","font-bold","hover:text-slate-700","dark:hover:text-slate-300","px-2",3,"click"],[1,"flex","items-center","gap-3"],[1,"size-8","rounded-full","flex","items-center","justify-center","text-xs","font-bold","text-white","shadow-sm"],[1,"flex","flex-col"],[1,"text-sm","font-bold","text-slate-900","dark:text-white"],[1,"text-[10px]","font-bold","text-amber-500","bg-amber-100","dark:bg-amber-900/30","px-1.5","py-0.5","rounded-md","w-fit","flex","items-center","gap-0.5","mt-0.5"],[1,"material-symbols-outlined","text-[10px]"],[1,"flex","gap-1","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"size-7","rounded","bg-white","dark:bg-black/20","border","border-slate-200","dark:border-border-dark","flex","items-center","justify-center","text-slate-500","hover:text-primary","transition-colors",3,"click"],[1,"material-symbols-outlined","text-[14px]"],[1,"size-7","rounded","bg-white","dark:bg-black/20","border","border-slate-200","dark:border-border-dark","flex","items-center","justify-center","text-slate-500","hover:text-red-500","transition-colors",3,"click"]],template:function(t,r){t&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),C(4,"Manage Assignees"),_(),y(5,"button",4),U("click",function(){return r.onClose()}),y(6,"span",5),C(7,"close"),_()()(),y(8,"div",6)(9,"div",7)(10,"input",8),ut("ngModelChange",function(s){return vt(r.assigneeName,s)||(r.assigneeName=s),s}),_(),y(11,"div",9),it(12,k7,1,6,"button",10,Oa),_(),y(14,"div",11),Z(15,R7,2,0,"button",12),y(16,"button",13),U("click",function(){return r.saveAssignee()}),C(17),_()()(),y(18,"div",14),it(19,M7,18,5,"div",15,A7,!1,N7,2,0,"div",16),_()()()()),t&2&&(D(10),lt("ngModel",r.assigneeName),D(2),st(r.assigneeColors),D(3),J(r.editingAssignee?15:-1),D(),me("disabled",!r.assigneeName.trim()),D(),Ne(" ",r.editingAssignee?"Update":"Add"," "),D(2),st(r.assignees()))},dependencies:[bn,Fs,ri,Ps,Ui],encapsulation:2})};var ji=[{id:"produce",userId:"system",name:"Produce",icon:"nutrition",color:"text-green-500",isDefault:!0,createdAt:new Date},{id:"dairy",userId:"system",name:"Dairy & Eggs",icon:"water_drop",color:"text-blue-400",isDefault:!0,createdAt:new Date},{id:"meat",userId:"system",name:"Meat & Seafood",icon:"set_meal",color:"text-red-500",isDefault:!0,createdAt:new Date},{id:"frozen",userId:"system",name:"Frozen Foods",icon:"ac_unit",color:"text-indigo-500",isDefault:!0,createdAt:new Date},{id:"bakery",userId:"system",name:"Bakery & Bread",icon:"bakery_dining",color:"text-amber-500",isDefault:!0,createdAt:new Date},{id:"beverages",userId:"system",name:"Beverages",icon:"local_cafe",color:"text-orange-600",isDefault:!0,createdAt:new Date},{id:"snacks",userId:"system",name:"Snacks",icon:"cookie",color:"text-yellow-500",isDefault:!0,createdAt:new Date},{id:"canned",userId:"system",name:"Canned Goods",icon:"inventory_2",color:"text-gray-500",isDefault:!0,createdAt:new Date},{id:"condiments",userId:"system",name:"Condiments & Sauces",icon:"kebab_dining",color:"text-rose-500",isDefault:!0,createdAt:new Date},{id:"pantry",userId:"system",name:"Pantry",icon:"soup_kitchen",color:"text-orange-400",isDefault:!0,createdAt:new Date},{id:"baby",userId:"system",name:"Baby Needs",icon:"child_care",color:"text-pink-500",isDefault:!0,createdAt:new Date},{id:"health",userId:"system",name:"Health & Personal Care",icon:"health_and_safety",color:"text-purple-500",isDefault:!0,createdAt:new Date},{id:"pets",userId:"system",name:"Pet Supplies",icon:"pets",color:"text-teal-500",isDefault:!0,createdAt:new Date},{id:"deli",userId:"system",name:"Deli",icon:"lunch_dining",color:"text-lime-500",isDefault:!0,createdAt:new Date},{id:"cleaning",userId:"system",name:"Cleaning Items",icon:"cleaning_services",color:"text-cyan-500",isDefault:!0,createdAt:new Date},{id:"other",userId:"system",name:"Other",icon:"category",color:"text-slate-400",isDefault:!0,createdAt:new Date}],r2=["nutrition","water_drop","soup_kitchen","category","local_dining","bakery_dining","icecream","liquor","coffee","lunch_dining","restaurant","fastfood","ramen_dining","set_meal","egg","cake","cookie","local_pizza","kebab_dining","rice_bowl","cleaning_services","child_care"],i2=["text-green-500","text-blue-400","text-orange-400","text-slate-400","text-red-500","text-purple-500","text-pink-500","text-yellow-500","text-teal-500","text-indigo-500","text-cyan-500","text-lime-500"];var FI=[{name:"Red Apples",category:"produce",imageUrl:"https://images.pexels.com/photos/102104/pexels-photo-102104.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bananas",category:"produce",imageUrl:"https://images.pexels.com/photos/2872755/pexels-photo-2872755.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Oranges",category:"produce",imageUrl:"https://images.pexels.com/photos/327098/pexels-photo-327098.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Strawberries",category:"produce",imageUrl:"https://images.pexels.com/photos/46174/strawberries-berries-fruit-freshness-46174.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Blueberries",category:"produce",imageUrl:"https://images.pexels.com/photos/1153655/pexels-photo-1153655.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Grapes",category:"produce",imageUrl:"https://images.pexels.com/photos/60021/grapes-wine-fruit-vines-60021.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Lemons",category:"produce",imageUrl:"https://images.pexels.com/photos/1414110/pexels-photo-1414110.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Limes",category:"produce",imageUrl:"https://images.pexels.com/photos/1435736/pexels-photo-1435736.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Watermelon",category:"produce",imageUrl:"https://images.pexels.com/photos/1313267/pexels-photo-1313267.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pineapple",category:"produce",imageUrl:"https://images.pexels.com/photos/947879/pexels-photo-947879.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mangoes",category:"produce",imageUrl:"https://images.pexels.com/photos/918643/pexels-photo-918643.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Avocados",category:"produce",imageUrl:"https://images.pexels.com/photos/557659/pexels-photo-557659.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Peaches",category:"produce",imageUrl:"https://images.pexels.com/photos/1028599/pexels-photo-1028599.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pears",category:"produce",imageUrl:"https://images.pexels.com/photos/568471/pexels-photo-568471.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cherries",category:"produce",imageUrl:"https://images.pexels.com/photos/175727/pexels-photo-175727.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Kiwi",category:"produce",imageUrl:"https://images.pexels.com/photos/51312/kiwi-fruit-vitamins-healthy-eating-51312.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Raspberries",category:"produce",imageUrl:"https://images.pexels.com/photos/892808/pexels-photo-892808.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pomegranate",category:"produce",imageUrl:"https://images.pexels.com/photos/65256/pomegranate-open-cores-fruit-65256.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Grapefruit",category:"produce",imageUrl:"https://images.pexels.com/photos/1171170/pexels-photo-1171170.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Coconut",category:"produce",imageUrl:"https://images.pexels.com/photos/1030973/pexels-photo-1030973.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Broccoli",category:"produce",imageUrl:"https://images.pexels.com/photos/47347/broccoli-vegetable-food-healthy-47347.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Carrots",category:"produce",imageUrl:"https://images.pexels.com/photos/143133/pexels-photo-143133.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Spinach",category:"produce",imageUrl:"https://images.pexels.com/photos/2325843/pexels-photo-2325843.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tomatoes",category:"produce",imageUrl:"https://images.pexels.com/photos/1367242/pexels-photo-1367242.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cucumbers",category:"produce",imageUrl:"https://images.pexels.com/photos/37528/cucumber-salad-food-healthy-37528.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bell Peppers",category:"produce",imageUrl:"https://images.pexels.com/photos/128536/pexels-photo-128536.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Onions",category:"produce",imageUrl:"https://images.pexels.com/photos/144206/pexels-photo-144206.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Garlic",category:"produce",imageUrl:"https://images.pexels.com/photos/1392585/pexels-photo-1392585.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Potatoes",category:"produce",imageUrl:"https://images.pexels.com/photos/144248/potatoes-vegetables-erdfrucht-bio-144248.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Sweet Potatoes",category:"produce",imageUrl:"https://images.pexels.com/photos/2284166/pexels-photo-2284166.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Lettuce",category:"produce",imageUrl:"https://images.pexels.com/photos/1199562/pexels-photo-1199562.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cabbage",category:"produce",imageUrl:"https://images.pexels.com/photos/2518893/pexels-photo-2518893.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cauliflower",category:"produce",imageUrl:"https://images.pexels.com/photos/6316515/pexels-photo-6316515.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Zucchini",category:"produce",imageUrl:"https://images.pexels.com/photos/128420/pexels-photo-128420.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Eggplant",category:"produce",imageUrl:"https://images.pexels.com/photos/321551/pexels-photo-321551.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Green Beans",category:"produce",imageUrl:"https://images.pexels.com/photos/63286/peas-green-beans-vegetables-63286.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Asparagus",category:"produce",imageUrl:"https://images.pexels.com/photos/351679/pexels-photo-351679.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Celery",category:"produce",imageUrl:"https://images.pexels.com/photos/2893635/pexels-photo-2893635.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mushrooms",category:"produce",imageUrl:"https://images.pexels.com/photos/36438/mushrooms-brown-mushrooms-cook-eat.jpg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Corn",category:"produce",imageUrl:"https://images.pexels.com/photos/547263/pexels-photo-547263.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ginger",category:"produce",imageUrl:"https://images.pexels.com/photos/161556/ginger-plant-asia-rhizome-161556.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Fresh Basil",category:"produce",imageUrl:"https://images.pexels.com/photos/1171182/pexels-photo-1171182.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Green Onions",category:"produce",imageUrl:"https://images.pexels.com/photos/4197447/pexels-photo-4197447.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Red Cabbage",category:"produce",imageUrl:"https://images.pexels.com/photos/6316517/pexels-photo-6316517.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Radishes",category:"produce",imageUrl:"https://images.pexels.com/photos/244393/pexels-photo-244393.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var LI=[{name:"Whole Milk",category:"dairy",imageUrl:"https://images.pexels.com/photos/248412/pexels-photo-248412.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"2% Reduced Fat Milk",category:"dairy",imageUrl:"https://images.pexels.com/photos/2198626/pexels-photo-2198626.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Skim Milk",category:"dairy",imageUrl:"https://images.pexels.com/photos/725998/pexels-photo-725998.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Heavy Cream",category:"dairy",imageUrl:"https://images.pexels.com/photos/357573/pexels-photo-357573.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Half & Half",category:"dairy",imageUrl:"https://images.pexels.com/photos/416528/pexels-photo-416528.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Almond Milk",category:"dairy",imageUrl:"https://images.pexels.com/photos/3735180/pexels-photo-3735180.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Oat Milk",category:"dairy",imageUrl:"https://images.pexels.com/photos/5946627/pexels-photo-5946627.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Coconut Milk",category:"dairy",imageUrl:"https://images.pexels.com/photos/4202490/pexels-photo-4202490.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Large Eggs",category:"dairy",imageUrl:"https://images.pexels.com/photos/162712/egg-white-food-protein-162712.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Organic Free Range Eggs",category:"dairy",imageUrl:"https://images.pexels.com/photos/6941041/pexels-photo-6941041.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Egg Whites",category:"dairy",imageUrl:"https://images.pexels.com/photos/4110008/pexels-photo-4110008.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Brown Eggs",category:"dairy",imageUrl:"https://images.pexels.com/photos/4045570/pexels-photo-4045570.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cheddar Cheese",category:"dairy",imageUrl:"https://images.pexels.com/photos/821365/pexels-photo-821365.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mozzarella",category:"dairy",imageUrl:"https://images.pexels.com/photos/4109943/pexels-photo-4109943.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Parmesan",category:"dairy",imageUrl:"https://images.pexels.com/photos/4187779/pexels-photo-4187779.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Swiss Cheese",category:"dairy",imageUrl:"https://images.pexels.com/photos/773253/pexels-photo-773253.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cream Cheese",category:"dairy",imageUrl:"https://images.pexels.com/photos/4397919/pexels-photo-4397919.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Feta Cheese",category:"dairy",imageUrl:"https://images.pexels.com/photos/4197908/pexels-photo-4197908.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Blue Cheese",category:"dairy",imageUrl:"https://images.pexels.com/photos/4198018/pexels-photo-4198018.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Goat Cheese",category:"dairy",imageUrl:"https://images.pexels.com/photos/4198041/pexels-photo-4198041.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Brie",category:"dairy",imageUrl:"https://images.pexels.com/photos/6287530/pexels-photo-6287530.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cottage Cheese",category:"dairy",imageUrl:"https://images.pexels.com/photos/5946609/pexels-photo-5946609.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ricotta",category:"dairy",imageUrl:"https://images.pexels.com/photos/6287535/pexels-photo-6287535.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Shredded Cheese",category:"dairy",imageUrl:"https://images.pexels.com/photos/4198024/pexels-photo-4198024.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"String Cheese",category:"dairy",imageUrl:"https://images.pexels.com/photos/4198020/pexels-photo-4198020.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Butter",category:"dairy",imageUrl:"https://images.pexels.com/photos/531334/pexels-photo-531334.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Unsalted Butter",category:"dairy",imageUrl:"https://images.pexels.com/photos/4110003/pexels-photo-4110003.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Margarine",category:"dairy",imageUrl:"https://images.pexels.com/photos/4397916/pexels-photo-4397916.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Greek Yogurt",category:"dairy",imageUrl:"https://images.pexels.com/photos/1435706/pexels-photo-1435706.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Plain Yogurt",category:"dairy",imageUrl:"https://images.pexels.com/photos/3669638/pexels-photo-3669638.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Flavored Yogurt",category:"dairy",imageUrl:"https://images.pexels.com/photos/4051580/pexels-photo-4051580.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Yogurt Drinks",category:"dairy",imageUrl:"https://images.pexels.com/photos/3625372/pexels-photo-3625372.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Sour Cream",category:"dairy",imageUrl:"https://images.pexels.com/photos/4397923/pexels-photo-4397923.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Whipped Cream",category:"dairy",imageUrl:"https://images.pexels.com/photos/3026806/pexels-photo-3026806.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var VI=[{name:"Spaghetti",category:"pantry",imageUrl:"https://images.pexels.com/photos/4518844/pexels-photo-4518844.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Penne Pasta",category:"pantry",imageUrl:"https://images.pexels.com/photos/1437267/pexels-photo-1437267.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Macaroni",category:"pantry",imageUrl:"https://images.pexels.com/photos/4518710/pexels-photo-4518710.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Jasmine Rice",category:"pantry",imageUrl:"https://images.pexels.com/photos/4110251/pexels-photo-4110251.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Brown Rice",category:"pantry",imageUrl:"https://images.pexels.com/photos/4110377/pexels-photo-4110377.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Quinoa",category:"pantry",imageUrl:"https://images.pexels.com/photos/6740535/pexels-photo-6740535.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Oatmeal",category:"pantry",imageUrl:"https://images.pexels.com/photos/216951/pexels-photo-216951.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bread Crumbs",category:"pantry",imageUrl:"https://images.pexels.com/photos/4110476/pexels-photo-4110476.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Tomatoes",category:"pantry",imageUrl:"https://images.pexels.com/photos/5945755/pexels-photo-5945755.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tomato Sauce",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198012/pexels-photo-4198012.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tomato Paste",category:"pantry",imageUrl:"https://images.pexels.com/photos/5945757/pexels-photo-5945757.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Black Beans",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198019/pexels-photo-4198019.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Kidney Beans",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198015/pexels-photo-4198015.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chickpeas",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198017/pexels-photo-4198017.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Corn",category:"pantry",imageUrl:"https://images.pexels.com/photos/7469406/pexels-photo-7469406.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Tuna",category:"pantry",imageUrl:"https://images.pexels.com/photos/5718026/pexels-photo-5718026.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chicken Broth",category:"pantry",imageUrl:"https://images.pexels.com/photos/5938358/pexels-photo-5938358.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Vegetable Broth",category:"pantry",imageUrl:"https://images.pexels.com/photos/5938356/pexels-photo-5938356.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Coconut Milk (Canned)",category:"pantry",imageUrl:"https://images.pexels.com/photos/4202490/pexels-photo-4202490.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Olive Oil",category:"pantry",imageUrl:"https://images.pexels.com/photos/1022385/pexels-photo-1022385.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Vegetable Oil",category:"pantry",imageUrl:"https://images.pexels.com/photos/4202482/pexels-photo-4202482.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Coconut Oil",category:"pantry",imageUrl:"https://images.pexels.com/photos/4202486/pexels-photo-4202486.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Balsamic Vinegar",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198037/pexels-photo-4198037.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Apple Cider Vinegar",category:"pantry",imageUrl:"https://images.pexels.com/photos/6957100/pexels-photo-6957100.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Soy Sauce",category:"pantry",imageUrl:"https://images.pexels.com/photos/4518578/pexels-photo-4518578.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"All-Purpose Flour",category:"pantry",imageUrl:"https://images.pexels.com/photos/5765/flour-powder-wheat-jar.jpg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Whole Wheat Flour",category:"pantry",imageUrl:"https://images.pexels.com/photos/4110256/pexels-photo-4110256.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Sugar",category:"pantry",imageUrl:"https://images.pexels.com/photos/2523650/pexels-photo-2523650.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Brown Sugar",category:"pantry",imageUrl:"https://images.pexels.com/photos/4110521/pexels-photo-4110521.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Powdered Sugar",category:"pantry",imageUrl:"https://images.pexels.com/photos/5946613/pexels-photo-5946613.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baking Soda",category:"pantry",imageUrl:"https://images.pexels.com/photos/5946608/pexels-photo-5946608.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baking Powder",category:"pantry",imageUrl:"https://images.pexels.com/photos/5946610/pexels-photo-5946610.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Vanilla Extract",category:"pantry",imageUrl:"https://images.pexels.com/photos/5946611/pexels-photo-5946611.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cocoa Powder",category:"pantry",imageUrl:"https://images.pexels.com/photos/65882/chocolate-dark-coffee-confiserie-65882.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chocolate Chips",category:"pantry",imageUrl:"https://images.pexels.com/photos/918327/pexels-photo-918327.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Yeast",category:"pantry",imageUrl:"https://images.pexels.com/photos/5946612/pexels-photo-5946612.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Honey",category:"pantry",imageUrl:"https://images.pexels.com/photos/302163/pexels-photo-302163.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Maple Syrup",category:"pantry",imageUrl:"https://images.pexels.com/photos/7474239/pexels-photo-7474239.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Peanut Butter",category:"pantry",imageUrl:"https://images.pexels.com/photos/5469076/pexels-photo-5469076.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Almond Butter",category:"pantry",imageUrl:"https://images.pexels.com/photos/5469079/pexels-photo-5469079.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Jam/Jelly",category:"pantry",imageUrl:"https://images.pexels.com/photos/1638927/pexels-photo-1638927.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Nutella",category:"pantry",imageUrl:"https://images.pexels.com/photos/4110533/pexels-photo-4110533.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Salt",category:"pantry",imageUrl:"https://images.pexels.com/photos/3296398/pexels-photo-3296398.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Black Pepper",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198056/pexels-photo-4198056.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Garlic Powder",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198051/pexels-photo-4198051.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Onion Powder",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198053/pexels-photo-4198053.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Paprika",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198054/pexels-photo-4198054.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cumin",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198060/pexels-photo-4198060.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cinnamon",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198055/pexels-photo-4198055.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Italian Seasoning",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198057/pexels-photo-4198057.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chili Powder",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198059/pexels-photo-4198059.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Oregano",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198062/pexels-photo-4198062.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bay Leaves",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198064/pexels-photo-4198064.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ketchup",category:"pantry",imageUrl:"https://images.pexels.com/photos/5945565/pexels-photo-5945565.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mustard",category:"pantry",imageUrl:"https://images.pexels.com/photos/5945566/pexels-photo-5945566.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mayonnaise",category:"pantry",imageUrl:"https://images.pexels.com/photos/4397921/pexels-photo-4397921.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hot Sauce",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198048/pexels-photo-4198048.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"BBQ Sauce",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198047/pexels-photo-4198047.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Worcestershire Sauce",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198044/pexels-photo-4198044.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Almonds",category:"pantry",imageUrl:"https://images.pexels.com/photos/1013420/pexels-photo-1013420.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Walnuts",category:"pantry",imageUrl:"https://images.pexels.com/photos/4202493/pexels-photo-4202493.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cashews",category:"pantry",imageUrl:"https://images.pexels.com/photos/4202491/pexels-photo-4202491.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Raisins",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198033/pexels-photo-4198033.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dried Cranberries",category:"pantry",imageUrl:"https://images.pexels.com/photos/4198031/pexels-photo-4198031.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cereal",category:"pantry",imageUrl:"https://images.pexels.com/photos/135525/pexels-photo-135525.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Granola",category:"pantry",imageUrl:"https://images.pexels.com/photos/3872433/pexels-photo-3872433.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Crackers",category:"pantry",imageUrl:"https://images.pexels.com/photos/4110452/pexels-photo-4110452.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tortilla Chips",category:"pantry",imageUrl:"https://images.pexels.com/photos/5737254/pexels-photo-5737254.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Popcorn",category:"pantry",imageUrl:"https://images.pexels.com/photos/33129/popcorn-movie-party-entertainment.jpg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Coffee",category:"pantry",imageUrl:"https://images.pexels.com/photos/585753/pexels-photo-585753.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tea",category:"pantry",imageUrl:"https://images.pexels.com/photos/227908/pexels-photo-227908.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hot Chocolate Mix",category:"pantry",imageUrl:"https://images.pexels.com/photos/5946618/pexels-photo-5946618.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var UI=[{name:"Diapers (Newborn)",category:"baby",imageUrl:"https://placehold.co/200x200/E6E6FA/555555?text=Newborn+Diapers",isInCart:!1,isChecked:!1},{name:"Diapers (Size 1)",category:"baby",imageUrl:"https://placehold.co/200x200/E6E6FA/555555?text=Size+1+Diapers",isInCart:!1,isChecked:!1},{name:"Diapers (Size 2)",category:"baby",imageUrl:"https://placehold.co/200x200/E6E6FA/555555?text=Size+2+Diapers",isInCart:!1,isChecked:!1},{name:"Diapers (Size 3)",category:"baby",imageUrl:"https://placehold.co/200x200/E6E6FA/555555?text=Size+3+Diapers",isInCart:!1,isChecked:!1},{name:"Baby Wipes",category:"baby",imageUrl:"https://placehold.co/200x200/F0FFFF/555555?text=Baby+Wipes",isInCart:!1,isChecked:!1},{name:"Diaper Rash Cream",category:"baby",imageUrl:"https://images.pexels.com/photos/6941883/pexels-photo-6941883.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Diaper Disposal Bags",category:"baby",imageUrl:"https://images.pexels.com/photos/4239013/pexels-photo-4239013.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Formula",category:"baby",imageUrl:"https://images.pexels.com/photos/6941096/pexels-photo-6941096.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Cereal",category:"baby",imageUrl:"https://images.pexels.com/photos/6941098/pexels-photo-6941098.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Food Pouches",category:"baby",imageUrl:"https://images.pexels.com/photos/6941099/pexels-photo-6941099.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Food Jars",category:"baby",imageUrl:"https://images.pexels.com/photos/6941100/pexels-photo-6941100.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Snacks",category:"baby",imageUrl:"https://images.pexels.com/photos/6941101/pexels-photo-6941101.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Puffs",category:"baby",imageUrl:"https://images.pexels.com/photos/6941102/pexels-photo-6941102.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Teething Biscuits",category:"baby",imageUrl:"https://images.pexels.com/photos/6941103/pexels-photo-6941103.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Water",category:"baby",imageUrl:"https://images.pexels.com/photos/1000084/pexels-photo-1000084.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Bottles",category:"baby",imageUrl:"https://placehold.co/200x200/FFFACD/555555?text=Baby+Bottles",isInCart:!1,isChecked:!1},{name:"Bottle Nipples",category:"baby",imageUrl:"https://placehold.co/200x200/FFFACD/555555?text=Bottle+Nipples",isInCart:!1,isChecked:!1},{name:"Sippy Cups",category:"baby",imageUrl:"https://images.pexels.com/photos/3663068/pexels-photo-3663068.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Spoons",category:"baby",imageUrl:"https://images.pexels.com/photos/6941885/pexels-photo-6941885.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Bowls",category:"baby",imageUrl:"https://images.pexels.com/photos/6941886/pexels-photo-6941886.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Bibs",category:"baby",imageUrl:"https://placehold.co/200x200/FFE4E1/555555?text=Baby+Bibs",isInCart:!1,isChecked:!1},{name:"Bottle Brush",category:"baby",imageUrl:"https://images.pexels.com/photos/6941887/pexels-photo-6941887.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bottle Sterilizer",category:"baby",imageUrl:"https://images.pexels.com/photos/6941888/pexels-photo-6941888.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Shampoo",category:"baby",imageUrl:"https://images.pexels.com/photos/3993398/pexels-photo-3993398.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Body Wash",category:"baby",imageUrl:"https://images.pexels.com/photos/3993399/pexels-photo-3993399.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Lotion",category:"baby",imageUrl:"https://images.pexels.com/photos/6941889/pexels-photo-6941889.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Oil",category:"baby",imageUrl:"https://images.pexels.com/photos/6941890/pexels-photo-6941890.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Powder",category:"baby",imageUrl:"https://images.pexels.com/photos/6941891/pexels-photo-6941891.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Sunscreen",category:"baby",imageUrl:"https://images.pexels.com/photos/6941892/pexels-photo-6941892.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Nail Clippers",category:"baby",imageUrl:"https://images.pexels.com/photos/6941893/pexels-photo-6941893.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Thermometer",category:"baby",imageUrl:"https://images.pexels.com/photos/6941894/pexels-photo-6941894.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Nasal Aspirator",category:"baby",imageUrl:"https://images.pexels.com/photos/6941895/pexels-photo-6941895.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Cotton Balls",category:"baby",imageUrl:"https://images.pexels.com/photos/4465124/pexels-photo-4465124.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Q-Tips",category:"baby",imageUrl:"https://images.pexels.com/photos/4465125/pexels-photo-4465125.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Tylenol",category:"baby",imageUrl:"https://images.pexels.com/photos/6941900/pexels-photo-6941900.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baby Ibuprofen",category:"baby",imageUrl:"https://images.pexels.com/photos/6941901/pexels-photo-6941901.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Gripe Water",category:"baby",imageUrl:"https://images.pexels.com/photos/6941902/pexels-photo-6941902.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Gas Drops",category:"baby",imageUrl:"https://images.pexels.com/photos/6941903/pexels-photo-6941903.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Teething Gel",category:"baby",imageUrl:"https://images.pexels.com/photos/6941904/pexels-photo-6941904.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Saline Drops",category:"baby",imageUrl:"https://images.pexels.com/photos/6941905/pexels-photo-6941905.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Vitamin D Drops",category:"baby",imageUrl:"https://images.pexels.com/photos/6941906/pexels-photo-6941906.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pacifiers",category:"baby",imageUrl:"https://placehold.co/200x200/FFB6C1/555555?text=Pacifiers",isInCart:!1,isChecked:!1},{name:"Teething Toys",category:"baby",imageUrl:"https://placehold.co/200x200/FFB6C1/555555?text=Teething+Toys",isInCart:!1,isChecked:!1},{name:"Baby Blanket",category:"baby",imageUrl:"https://placehold.co/200x200/FFE4E1/555555?text=Baby+Blanket",isInCart:!1,isChecked:!1},{name:"Swaddle Wrap",category:"baby",imageUrl:"https://placehold.co/200x200/FFE4E1/555555?text=Swaddle+Wrap",isInCart:!1,isChecked:!1},{name:"Burp Cloths",category:"baby",imageUrl:"https://placehold.co/200x200/FFE4E1/555555?text=Burp+Cloths",isInCart:!1,isChecked:!1},{name:"Baby Detergent",category:"baby",imageUrl:"https://images.pexels.com/photos/4239091/pexels-photo-4239091.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Stain Remover",category:"baby",imageUrl:"https://images.pexels.com/photos/4239092/pexels-photo-4239092.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Fabric Softener",category:"baby",imageUrl:"https://images.pexels.com/photos/4239093/pexels-photo-4239093.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var jI=[{name:"All-Purpose Cleaner",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239035/pexels-photo-4239035.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Glass Cleaner",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239036/pexels-photo-4239036.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Disinfectant Spray",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239091/pexels-photo-4239091.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bleach",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239013/pexels-photo-4239013.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Floor Cleaner",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4108715/pexels-photo-4108715.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bathroom Cleaner",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239037/pexels-photo-4239037.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Toilet Bowl Cleaner",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239038/pexels-photo-4239038.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tile & Grout Cleaner",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4108714/pexels-photo-4108714.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Oven Cleaner",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239039/pexels-photo-4239039.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Stainless Steel Cleaner",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239040/pexels-photo-4239040.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Laundry Detergent",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239091/pexels-photo-4239091.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Fabric Softener",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239092/pexels-photo-4239092.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Stain Remover",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239093/pexels-photo-4239093.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dryer Sheets",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239094/pexels-photo-4239094.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bleach Alternative",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239095/pexels-photo-4239095.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dish Soap",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239031/pexels-photo-4239031.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dishwasher Detergent",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239032/pexels-photo-4239032.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dishwasher Rinse Aid",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239033/pexels-photo-4239033.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dish Sponges",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239015/pexels-photo-4239015.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Steel Wool Pads",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239016/pexels-photo-4239016.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Broom",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4108716/pexels-photo-4108716.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dustpan",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4108717/pexels-photo-4108717.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mop",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4108718/pexels-photo-4108718.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mop Bucket",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4108719/pexels-photo-4108719.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Duster",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4108720/pexels-photo-4108720.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Microfiber Cloths",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239017/pexels-photo-4239017.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cleaning Rags",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239018/pexels-photo-4239018.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Scrub Brush",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239019/pexels-photo-4239019.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Toilet Brush",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239020/pexels-photo-4239020.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Rubber Gloves",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239021/pexels-photo-4239021.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Trash Bags (Small)",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239022/pexels-photo-4239022.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Trash Bags (Large)",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239023/pexels-photo-4239023.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Recycling Bags",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239024/pexels-photo-4239024.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Paper Towels",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239025/pexels-photo-4239025.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Toilet Paper",category:"cleaning",imageUrl:"https://images.pexels.com/photos/3958210/pexels-photo-3958210.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Facial Tissues",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239026/pexels-photo-4239026.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Napkins",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239027/pexels-photo-4239027.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Air Freshener Spray",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239028/pexels-photo-4239028.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Plug-in Air Freshener",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239029/pexels-photo-4239029.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Scented Candles",category:"cleaning",imageUrl:"https://images.pexels.com/photos/3270223/pexels-photo-3270223.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Carpet Cleaner",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4108713/pexels-photo-4108713.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Furniture Polish",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239041/pexels-photo-4239041.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Wood Cleaner",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239042/pexels-photo-4239042.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Drain Cleaner",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239043/pexels-photo-4239043.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hand Sanitizer",category:"cleaning",imageUrl:"https://images.pexels.com/photos/3987142/pexels-photo-3987142.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Disinfecting Wipes",category:"cleaning",imageUrl:"https://images.pexels.com/photos/4239010/pexels-photo-4239010.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var BI=[{name:"White Bread",category:"bakery",imageUrl:"https://images.pexels.com/photos/1775043/pexels-photo-1775043.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Whole Wheat Bread",category:"bakery",imageUrl:"https://images.pexels.com/photos/1586947/pexels-photo-1586947.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Sourdough Bread",category:"bakery",imageUrl:"https://images.pexels.com/photos/2280545/pexels-photo-2280545.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"French Baguette",category:"bakery",imageUrl:"https://images.pexels.com/photos/461060/pexels-photo-461060.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ciabatta",category:"bakery",imageUrl:"https://images.pexels.com/photos/1387070/pexels-photo-1387070.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Rye Bread",category:"bakery",imageUrl:"https://images.pexels.com/photos/1756062/pexels-photo-1756062.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Multigrain Bread",category:"bakery",imageUrl:"https://images.pexels.com/photos/1510684/pexels-photo-1510684.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Brioche",category:"bakery",imageUrl:"https://images.pexels.com/photos/2135/food-france-morning-breakfast.jpg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hamburger Buns",category:"bakery",imageUrl:"https://images.pexels.com/photos/1633578/pexels-photo-1633578.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hot Dog Buns",category:"bakery",imageUrl:"https://images.pexels.com/photos/4676401/pexels-photo-4676401.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dinner Rolls",category:"bakery",imageUrl:"https://images.pexels.com/photos/2280573/pexels-photo-2280573.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Kaiser Rolls",category:"bakery",imageUrl:"https://images.pexels.com/photos/209206/pexels-photo-209206.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Croissants",category:"bakery",imageUrl:"https://images.pexels.com/photos/3724354/pexels-photo-3724354.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Danish Pastry",category:"bakery",imageUrl:"https://images.pexels.com/photos/2693447/pexels-photo-2693447.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cinnamon Rolls",category:"bakery",imageUrl:"https://images.pexels.com/photos/267308/pexels-photo-267308.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Muffins",category:"bakery",imageUrl:"https://images.pexels.com/photos/1657343/pexels-photo-1657343.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Donuts",category:"bakery",imageUrl:"https://images.pexels.com/photos/1854652/pexels-photo-1854652.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Scones",category:"bakery",imageUrl:"https://images.pexels.com/photos/3992134/pexels-photo-3992134.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bagels",category:"bakery",imageUrl:"https://images.pexels.com/photos/5419336/pexels-photo-5419336.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"English Muffins",category:"bakery",imageUrl:"https://images.pexels.com/photos/4331489/pexels-photo-4331489.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pita Bread",category:"bakery",imageUrl:"https://images.pexels.com/photos/5409009/pexels-photo-5409009.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Naan Bread",category:"bakery",imageUrl:"https://images.pexels.com/photos/2474661/pexels-photo-2474661.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tortillas",category:"bakery",imageUrl:"https://images.pexels.com/photos/5737254/pexels-photo-5737254.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Flatbread",category:"bakery",imageUrl:"https://images.pexels.com/photos/1117862/pexels-photo-1117862.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Wraps",category:"bakery",imageUrl:"https://images.pexels.com/photos/461198/pexels-photo-461198.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cake",category:"bakery",imageUrl:"https://images.pexels.com/photos/1721932/pexels-photo-1721932.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cupcakes",category:"bakery",imageUrl:"https://images.pexels.com/photos/913136/pexels-photo-913136.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Brownies",category:"bakery",imageUrl:"https://images.pexels.com/photos/2067396/pexels-photo-2067396.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cookies",category:"bakery",imageUrl:"https://images.pexels.com/photos/890577/pexels-photo-890577.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pie",category:"bakery",imageUrl:"https://images.pexels.com/photos/1126359/pexels-photo-1126359.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Breadsticks",category:"bakery",imageUrl:"https://images.pexels.com/photos/1435901/pexels-photo-1435901.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Garlic Bread",category:"bakery",imageUrl:"https://images.pexels.com/photos/1460872/pexels-photo-1460872.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Focaccia",category:"bakery",imageUrl:"https://images.pexels.com/photos/5419268/pexels-photo-5419268.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pretzel",category:"bakery",imageUrl:"https://images.pexels.com/photos/40801/pretzel-baked-goods-eat-pastries-40801.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cornbread",category:"bakery",imageUrl:"https://images.pexels.com/photos/9510029/pexels-photo-9510029.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var $I=[{name:"Bottled Water",category:"beverages",imageUrl:"https://images.pexels.com/photos/1000084/pexels-photo-1000084.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Sparkling Water",category:"beverages",imageUrl:"https://images.pexels.com/photos/2479614/pexels-photo-2479614.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mineral Water",category:"beverages",imageUrl:"https://images.pexels.com/photos/327090/pexels-photo-327090.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Flavored Water",category:"beverages",imageUrl:"https://images.pexels.com/photos/1484669/pexels-photo-1484669.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cola",category:"beverages",imageUrl:"https://images.pexels.com/photos/50593/coca-cola-cold-drink-soft-drink-coke-50593.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Lemon-Lime Soda",category:"beverages",imageUrl:"https://images.pexels.com/photos/2789328/pexels-photo-2789328.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ginger Ale",category:"beverages",imageUrl:"https://images.pexels.com/photos/4021983/pexels-photo-4021983.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Root Beer",category:"beverages",imageUrl:"https://images.pexels.com/photos/4553027/pexels-photo-4553027.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Orange Soda",category:"beverages",imageUrl:"https://images.pexels.com/photos/2668308/pexels-photo-2668308.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Orange Juice",category:"beverages",imageUrl:"https://images.pexels.com/photos/158053/fresh-orange-juice-squeezed-refreshing-citrus-158053.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Apple Juice",category:"beverages",imageUrl:"https://images.pexels.com/photos/1337825/pexels-photo-1337825.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Grape Juice",category:"beverages",imageUrl:"https://images.pexels.com/photos/3028500/pexels-photo-3028500.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cranberry Juice",category:"beverages",imageUrl:"https://images.pexels.com/photos/3323682/pexels-photo-3323682.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pineapple Juice",category:"beverages",imageUrl:"https://images.pexels.com/photos/1536868/pexels-photo-1536868.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tomato Juice",category:"beverages",imageUrl:"https://images.pexels.com/photos/1327838/pexels-photo-1327838.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mixed Fruit Juice",category:"beverages",imageUrl:"https://images.pexels.com/photos/1132047/pexels-photo-1132047.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Lemonade",category:"beverages",imageUrl:"https://images.pexels.com/photos/2109099/pexels-photo-2109099.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ground Coffee",category:"beverages",imageUrl:"https://images.pexels.com/photos/894695/pexels-photo-894695.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Coffee Beans",category:"beverages",imageUrl:"https://images.pexels.com/photos/1695052/pexels-photo-1695052.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Instant Coffee",category:"beverages",imageUrl:"https://images.pexels.com/photos/585753/pexels-photo-585753.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Coffee Pods",category:"beverages",imageUrl:"https://images.pexels.com/photos/3020919/pexels-photo-3020919.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Black Tea",category:"beverages",imageUrl:"https://images.pexels.com/photos/1417945/pexels-photo-1417945.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Green Tea",category:"beverages",imageUrl:"https://images.pexels.com/photos/1638280/pexels-photo-1638280.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Herbal Tea",category:"beverages",imageUrl:"https://images.pexels.com/photos/1549686/pexels-photo-1549686.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chamomile Tea",category:"beverages",imageUrl:"https://images.pexels.com/photos/734983/pexels-photo-734983.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Iced Tea",category:"beverages",imageUrl:"https://images.pexels.com/photos/792613/pexels-photo-792613.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Energy Drink",category:"beverages",imageUrl:"https://images.pexels.com/photos/3756523/pexels-photo-3756523.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Sports Drink",category:"beverages",imageUrl:"https://images.pexels.com/photos/3621168/pexels-photo-3621168.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Electrolyte Drink",category:"beverages",imageUrl:"https://images.pexels.com/photos/4397840/pexels-photo-4397840.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hot Chocolate",category:"beverages",imageUrl:"https://images.pexels.com/photos/3551717/pexels-photo-3551717.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cocoa Powder",category:"beverages",imageUrl:"https://images.pexels.com/photos/65882/chocolate-dark-coffee-confiserie-65882.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Smoothie Mix",category:"beverages",imageUrl:"https://images.pexels.com/photos/1346347/pexels-photo-1346347.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Protein Shake",category:"beverages",imageUrl:"https://images.pexels.com/photos/3735792/pexels-photo-3735792.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Coconut Water",category:"beverages",imageUrl:"https://images.pexels.com/photos/1030973/pexels-photo-1030973.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Kombucha",category:"beverages",imageUrl:"https://images.pexels.com/photos/4553036/pexels-photo-4553036.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tonic Water",category:"beverages",imageUrl:"https://images.pexels.com/photos/1187766/pexels-photo-1187766.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Club Soda",category:"beverages",imageUrl:"https://images.pexels.com/photos/2531184/pexels-photo-2531184.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var HI=[{name:"Canned Corn",category:"canned",imageUrl:"https://images.pexels.com/photos/5945755/pexels-photo-5945755.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Green Beans",category:"canned",imageUrl:"https://images.pexels.com/photos/6316515/pexels-photo-6316515.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Peas",category:"canned",imageUrl:"https://images.pexels.com/photos/6316668/pexels-photo-6316668.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Carrots",category:"canned",imageUrl:"https://images.pexels.com/photos/143133/pexels-photo-143133.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Mushrooms",category:"canned",imageUrl:"https://images.pexels.com/photos/36438/mushrooms-brown-mushrooms-cook-eat.jpg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Tomatoes",category:"canned",imageUrl:"https://images.pexels.com/photos/533280/pexels-photo-533280.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tomato Paste",category:"canned",imageUrl:"https://images.pexels.com/photos/4197447/pexels-photo-4197447.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tomato Sauce",category:"canned",imageUrl:"https://images.pexels.com/photos/6287520/pexels-photo-6287520.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Artichokes",category:"canned",imageUrl:"https://images.pexels.com/photos/4033324/pexels-photo-4033324.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Olives",category:"canned",imageUrl:"https://images.pexels.com/photos/4109900/pexels-photo-4109900.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Black Beans",category:"canned",imageUrl:"https://images.pexels.com/photos/4198171/pexels-photo-4198171.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Kidney Beans",category:"canned",imageUrl:"https://images.pexels.com/photos/6824475/pexels-photo-6824475.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Chickpeas",category:"canned",imageUrl:"https://images.pexels.com/photos/6316514/pexels-photo-6316514.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Baked Beans",category:"canned",imageUrl:"https://images.pexels.com/photos/6287276/pexels-photo-6287276.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Lentils",category:"canned",imageUrl:"https://images.pexels.com/photos/8108102/pexels-photo-8108102.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Refried Beans",category:"canned",imageUrl:"https://images.pexels.com/photos/5737247/pexels-photo-5737247.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Peaches",category:"canned",imageUrl:"https://images.pexels.com/photos/5945660/pexels-photo-5945660.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Pears",category:"canned",imageUrl:"https://images.pexels.com/photos/568471/pexels-photo-568471.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Pineapple",category:"canned",imageUrl:"https://images.pexels.com/photos/1071878/pexels-photo-1071878.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Mandarin Oranges",category:"canned",imageUrl:"https://images.pexels.com/photos/2294471/pexels-photo-2294471.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Fruit Cocktail",category:"canned",imageUrl:"https://images.pexels.com/photos/1132558/pexels-photo-1132558.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Cherries",category:"canned",imageUrl:"https://images.pexels.com/photos/175727/pexels-photo-175727.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Tuna",category:"canned",imageUrl:"https://images.pexels.com/photos/5908058/pexels-photo-5908058.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Salmon",category:"canned",imageUrl:"https://images.pexels.com/photos/3296279/pexels-photo-3296279.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Sardines",category:"canned",imageUrl:"https://images.pexels.com/photos/4553028/pexels-photo-4553028.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Chicken",category:"canned",imageUrl:"https://images.pexels.com/photos/6210876/pexels-photo-6210876.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Ham",category:"canned",imageUrl:"https://images.pexels.com/photos/8753653/pexels-photo-8753653.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Spam",category:"canned",imageUrl:"https://images.pexels.com/photos/6210747/pexels-photo-6210747.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Crab",category:"canned",imageUrl:"https://images.pexels.com/photos/566344/pexels-photo-566344.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chicken Soup",category:"canned",imageUrl:"https://images.pexels.com/photos/2474661/pexels-photo-2474661.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tomato Soup",category:"canned",imageUrl:"https://images.pexels.com/photos/539451/pexels-photo-539451.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Vegetable Soup",category:"canned",imageUrl:"https://images.pexels.com/photos/1731535/pexels-photo-1731535.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chicken Broth",category:"canned",imageUrl:"https://images.pexels.com/photos/6072054/pexels-photo-6072054.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Beef Broth",category:"canned",imageUrl:"https://images.pexels.com/photos/5409020/pexels-photo-5409020.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Vegetable Broth",category:"canned",imageUrl:"https://images.pexels.com/photos/5419336/pexels-photo-5419336.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Coconut Milk (Canned)",category:"canned",imageUrl:"https://images.pexels.com/photos/4202490/pexels-photo-4202490.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Evaporated Milk",category:"canned",imageUrl:"https://images.pexels.com/photos/4397917/pexels-photo-4397917.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Condensed Milk",category:"canned",imageUrl:"https://images.pexels.com/photos/4110008/pexels-photo-4110008.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canned Pumpkin",category:"canned",imageUrl:"https://images.pexels.com/photos/5419268/pexels-photo-5419268.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var zI=[{name:"Ketchup",category:"condiments",imageUrl:"https://images.pexels.com/photos/5900422/pexels-photo-5900422.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mustard",category:"condiments",imageUrl:"https://images.pexels.com/photos/4198018/pexels-photo-4198018.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mayonnaise",category:"condiments",imageUrl:"https://images.pexels.com/photos/4397919/pexels-photo-4397919.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Relish",category:"condiments",imageUrl:"https://images.pexels.com/photos/5945758/pexels-photo-5945758.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hot Sauce",category:"condiments",imageUrl:"https://images.pexels.com/photos/5737380/pexels-photo-5737380.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Sriracha",category:"condiments",imageUrl:"https://images.pexels.com/photos/6287533/pexels-photo-6287533.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tabasco",category:"condiments",imageUrl:"https://images.pexels.com/photos/5945659/pexels-photo-5945659.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Soy Sauce",category:"condiments",imageUrl:"https://images.pexels.com/photos/5409015/pexels-photo-5409015.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Teriyaki Sauce",category:"condiments",imageUrl:"https://images.pexels.com/photos/3186654/pexels-photo-3186654.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hoisin Sauce",category:"condiments",imageUrl:"https://images.pexels.com/photos/4198029/pexels-photo-4198029.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Fish Sauce",category:"condiments",imageUrl:"https://images.pexels.com/photos/5945757/pexels-photo-5945757.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Oyster Sauce",category:"condiments",imageUrl:"https://images.pexels.com/photos/4198028/pexels-photo-4198028.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Marinara Sauce",category:"condiments",imageUrl:"https://images.pexels.com/photos/1438672/pexels-photo-1438672.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Alfredo Sauce",category:"condiments",imageUrl:"https://images.pexels.com/photos/1527603/pexels-photo-1527603.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pesto",category:"condiments",imageUrl:"https://images.pexels.com/photos/1435895/pexels-photo-1435895.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"BBQ Sauce",category:"condiments",imageUrl:"https://images.pexels.com/photos/4198036/pexels-photo-4198036.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Steak Sauce",category:"condiments",imageUrl:"https://images.pexels.com/photos/3535383/pexels-photo-3535383.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Worcestershire Sauce",category:"condiments",imageUrl:"https://images.pexels.com/photos/4198027/pexels-photo-4198027.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ranch Dressing",category:"condiments",imageUrl:"https://images.pexels.com/photos/4198031/pexels-photo-4198031.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Italian Dressing",category:"condiments",imageUrl:"https://images.pexels.com/photos/5945756/pexels-photo-5945756.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Caesar Dressing",category:"condiments",imageUrl:"https://images.pexels.com/photos/2097090/pexels-photo-2097090.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Balsamic Vinaigrette",category:"condiments",imageUrl:"https://images.pexels.com/photos/1193335/pexels-photo-1193335.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Olive Oil",category:"condiments",imageUrl:"https://images.pexels.com/photos/33783/olive-oil-salad-dressing-cooking-olive.jpg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Vegetable Oil",category:"condiments",imageUrl:"https://images.pexels.com/photos/4198035/pexels-photo-4198035.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Balsamic Vinegar",category:"condiments",imageUrl:"https://images.pexels.com/photos/4198030/pexels-photo-4198030.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Apple Cider Vinegar",category:"condiments",imageUrl:"https://images.pexels.com/photos/5945754/pexels-photo-5945754.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Honey",category:"condiments",imageUrl:"https://images.pexels.com/photos/1638280/pexels-photo-1638280.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Maple Syrup",category:"condiments",imageUrl:"https://images.pexels.com/photos/4198025/pexels-photo-4198025.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Jam",category:"condiments",imageUrl:"https://images.pexels.com/photos/1328887/pexels-photo-1328887.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Peanut Butter",category:"condiments",imageUrl:"https://images.pexels.com/photos/4187779/pexels-photo-4187779.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hummus",category:"condiments",imageUrl:"https://images.pexels.com/photos/1618898/pexels-photo-1618898.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Salsa",category:"condiments",imageUrl:"https://images.pexels.com/photos/5737247/pexels-photo-5737247.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Guacamole",category:"condiments",imageUrl:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var GI=[{name:"Ham Slices",category:"deli",imageUrl:"https://images.pexels.com/photos/8753653/pexels-photo-8753653.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Turkey Breast",category:"deli",imageUrl:"https://images.pexels.com/photos/6210876/pexels-photo-6210876.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Roast Beef",category:"deli",imageUrl:"https://images.pexels.com/photos/6941041/pexels-photo-6941041.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Salami",category:"deli",imageUrl:"https://images.pexels.com/photos/4198018/pexels-photo-4198018.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pepperoni",category:"deli",imageUrl:"https://images.pexels.com/photos/4109943/pexels-photo-4109943.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bologna",category:"deli",imageUrl:"https://images.pexels.com/photos/6210747/pexels-photo-6210747.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pastrami",category:"deli",imageUrl:"https://images.pexels.com/photos/3535383/pexels-photo-3535383.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Prosciutto",category:"deli",imageUrl:"https://images.pexels.com/photos/4198036/pexels-photo-4198036.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Capicola",category:"deli",imageUrl:"https://images.pexels.com/photos/4198028/pexels-photo-4198028.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Corned Beef",category:"deli",imageUrl:"https://images.pexels.com/photos/5409020/pexels-photo-5409020.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Provolone",category:"deli",imageUrl:"https://images.pexels.com/photos/821365/pexels-photo-821365.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"American Cheese",category:"deli",imageUrl:"https://images.pexels.com/photos/773253/pexels-photo-773253.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Muenster Cheese",category:"deli",imageUrl:"https://images.pexels.com/photos/4198024/pexels-photo-4198024.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pepper Jack",category:"deli",imageUrl:"https://images.pexels.com/photos/4198020/pexels-photo-4198020.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Rotisserie Chicken",category:"deli",imageUrl:"https://images.pexels.com/photos/2338407/pexels-photo-2338407.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Potato Salad",category:"deli",imageUrl:"https://images.pexels.com/photos/1640774/pexels-photo-1640774.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Coleslaw",category:"deli",imageUrl:"https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Macaroni Salad",category:"deli",imageUrl:"https://images.pexels.com/photos/1438672/pexels-photo-1438672.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chicken Salad",category:"deli",imageUrl:"https://images.pexels.com/photos/2097090/pexels-photo-2097090.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tuna Salad",category:"deli",imageUrl:"https://images.pexels.com/photos/5908058/pexels-photo-5908058.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hot Dogs",category:"deli",imageUrl:"https://images.pexels.com/photos/4676401/pexels-photo-4676401.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bratwurst",category:"deli",imageUrl:"https://images.pexels.com/photos/929137/pexels-photo-929137.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Italian Sausage",category:"deli",imageUrl:"https://images.pexels.com/photos/3535383/pexels-photo-3535383.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Breakfast Sausage",category:"deli",imageUrl:"https://images.pexels.com/photos/6210747/pexels-photo-6210747.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Kielbasa",category:"deli",imageUrl:"https://images.pexels.com/photos/4198028/pexels-photo-4198028.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bacon",category:"deli",imageUrl:"https://images.pexels.com/photos/1059943/pexels-photo-1059943.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Turkey Bacon",category:"deli",imageUrl:"https://images.pexels.com/photos/6210876/pexels-photo-6210876.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Canadian Bacon",category:"deli",imageUrl:"https://images.pexels.com/photos/8753653/pexels-photo-8753653.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var qI=[{name:"Frozen Peas",category:"frozen",imageUrl:"https://images.pexels.com/photos/6316668/pexels-photo-6316668.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Corn",category:"frozen",imageUrl:"https://images.pexels.com/photos/5945755/pexels-photo-5945755.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Broccoli",category:"frozen",imageUrl:"https://images.pexels.com/photos/1359326/pexels-photo-1359326.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mixed Vegetables",category:"frozen",imageUrl:"https://images.pexels.com/photos/1435904/pexels-photo-1435904.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Spinach",category:"frozen",imageUrl:"https://images.pexels.com/photos/2325843/pexels-photo-2325843.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Green Beans",category:"frozen",imageUrl:"https://images.pexels.com/photos/6316515/pexels-photo-6316515.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Stir Fry Vegetables",category:"frozen",imageUrl:"https://images.pexels.com/photos/1640774/pexels-photo-1640774.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Berries",category:"frozen",imageUrl:"https://images.pexels.com/photos/1292294/pexels-photo-1292294.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Strawberries",category:"frozen",imageUrl:"https://images.pexels.com/photos/934066/pexels-photo-934066.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Blueberries",category:"frozen",imageUrl:"https://images.pexels.com/photos/1395958/pexels-photo-1395958.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Mango",category:"frozen",imageUrl:"https://images.pexels.com/photos/918643/pexels-photo-918643.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Vanilla Ice Cream",category:"frozen",imageUrl:"https://images.pexels.com/photos/1352278/pexels-photo-1352278.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chocolate Ice Cream",category:"frozen",imageUrl:"https://images.pexels.com/photos/3625372/pexels-photo-3625372.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ice Cream Bars",category:"frozen",imageUrl:"https://images.pexels.com/photos/1294943/pexels-photo-1294943.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Yogurt",category:"frozen",imageUrl:"https://images.pexels.com/photos/1362534/pexels-photo-1362534.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Pie",category:"frozen",imageUrl:"https://images.pexels.com/photos/1126359/pexels-photo-1126359.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Popsicles",category:"frozen",imageUrl:"https://images.pexels.com/photos/1294942/pexels-photo-1294942.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Pizza",category:"frozen",imageUrl:"https://images.pexels.com/photos/1146760/pexels-photo-1146760.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Lasagna",category:"frozen",imageUrl:"https://images.pexels.com/photos/4079520/pexels-photo-4079520.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"TV Dinners",category:"frozen",imageUrl:"https://images.pexels.com/photos/2097090/pexels-photo-2097090.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Burritos",category:"frozen",imageUrl:"https://images.pexels.com/photos/461198/pexels-photo-461198.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pot Pies",category:"frozen",imageUrl:"https://images.pexels.com/photos/1126359/pexels-photo-1126359.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Chicken Breasts",category:"frozen",imageUrl:"https://images.pexels.com/photos/2338407/pexels-photo-2338407.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Ground Beef",category:"frozen",imageUrl:"https://images.pexels.com/photos/6941041/pexels-photo-6941041.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Shrimp",category:"frozen",imageUrl:"https://images.pexels.com/photos/566344/pexels-photo-566344.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Fish Fillets",category:"frozen",imageUrl:"https://images.pexels.com/photos/3296279/pexels-photo-3296279.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Fish Sticks",category:"frozen",imageUrl:"https://images.pexels.com/photos/4553028/pexels-photo-4553028.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen French Fries",category:"frozen",imageUrl:"https://images.pexels.com/photos/1583884/pexels-photo-1583884.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tater Tots",category:"frozen",imageUrl:"https://images.pexels.com/photos/1640774/pexels-photo-1640774.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chicken Nuggets",category:"frozen",imageUrl:"https://images.pexels.com/photos/6210876/pexels-photo-6210876.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mozzarella Sticks",category:"frozen",imageUrl:"https://images.pexels.com/photos/4109943/pexels-photo-4109943.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Egg Rolls",category:"frozen",imageUrl:"https://images.pexels.com/photos/5409009/pexels-photo-5409009.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Dumplings",category:"frozen",imageUrl:"https://images.pexels.com/photos/4198019/pexels-photo-4198019.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Waffles",category:"frozen",imageUrl:"https://images.pexels.com/photos/2280545/pexels-photo-2280545.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Frozen Pancakes",category:"frozen",imageUrl:"https://images.pexels.com/photos/376464/pexels-photo-376464.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Breakfast Sandwiches",category:"frozen",imageUrl:"https://images.pexels.com/photos/1633578/pexels-photo-1633578.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hash Browns",category:"frozen",imageUrl:"https://images.pexels.com/photos/1640774/pexels-photo-1640774.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var WI=[{name:"Toothpaste",category:"health",imageUrl:"https://images.pexels.com/photos/3762879/pexels-photo-3762879.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Toothbrush",category:"health",imageUrl:"https://images.pexels.com/photos/3762880/pexels-photo-3762880.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mouthwash",category:"health",imageUrl:"https://images.pexels.com/photos/4465124/pexels-photo-4465124.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dental Floss",category:"health",imageUrl:"https://images.pexels.com/photos/4465127/pexels-photo-4465127.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Shampoo",category:"health",imageUrl:"https://images.pexels.com/photos/3735218/pexels-photo-3735218.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Conditioner",category:"health",imageUrl:"https://images.pexels.com/photos/3735217/pexels-photo-3735217.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hair Gel",category:"health",imageUrl:"https://images.pexels.com/photos/3993320/pexels-photo-3993320.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hair Spray",category:"health",imageUrl:"https://images.pexels.com/photos/3993324/pexels-photo-3993324.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Body Wash",category:"health",imageUrl:"https://images.pexels.com/photos/4041392/pexels-photo-4041392.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bar Soap",category:"health",imageUrl:"https://images.pexels.com/photos/3737586/pexels-photo-3737586.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Body Lotion",category:"health",imageUrl:"https://images.pexels.com/photos/3997373/pexels-photo-3997373.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Deodorant",category:"health",imageUrl:"https://images.pexels.com/photos/4465831/pexels-photo-4465831.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hand Soap",category:"health",imageUrl:"https://images.pexels.com/photos/4239013/pexels-photo-4239013.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hand Sanitizer",category:"health",imageUrl:"https://images.pexels.com/photos/3987142/pexels-photo-3987142.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Face Wash",category:"health",imageUrl:"https://images.pexels.com/photos/3762879/pexels-photo-3762879.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Moisturizer",category:"health",imageUrl:"https://images.pexels.com/photos/3997373/pexels-photo-3997373.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Sunscreen",category:"health",imageUrl:"https://images.pexels.com/photos/3622614/pexels-photo-3622614.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Lip Balm",category:"health",imageUrl:"https://images.pexels.com/photos/3997374/pexels-photo-3997374.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Razors",category:"health",imageUrl:"https://images.pexels.com/photos/3771109/pexels-photo-3771109.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Shaving Cream",category:"health",imageUrl:"https://images.pexels.com/photos/3771115/pexels-photo-3771115.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Aftershave",category:"health",imageUrl:"https://images.pexels.com/photos/3771122/pexels-photo-3771122.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pain Reliever",category:"health",imageUrl:"https://images.pexels.com/photos/3683074/pexels-photo-3683074.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cold Medicine",category:"health",imageUrl:"https://images.pexels.com/photos/3683053/pexels-photo-3683053.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Allergy Medicine",category:"health",imageUrl:"https://images.pexels.com/photos/3683098/pexels-photo-3683098.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Antacid",category:"health",imageUrl:"https://images.pexels.com/photos/3683051/pexels-photo-3683051.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bandages",category:"health",imageUrl:"https://images.pexels.com/photos/4386467/pexels-photo-4386467.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"First Aid Kit",category:"health",imageUrl:"https://images.pexels.com/photos/4386466/pexels-photo-4386466.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Vitamins",category:"health",imageUrl:"https://images.pexels.com/photos/3683074/pexels-photo-3683074.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Feminine Pads",category:"health",imageUrl:"https://images.pexels.com/photos/4465124/pexels-photo-4465124.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tampons",category:"health",imageUrl:"https://images.pexels.com/photos/4465831/pexels-photo-4465831.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tissues",category:"health",imageUrl:"https://images.pexels.com/photos/4239036/pexels-photo-4239036.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cotton Balls",category:"health",imageUrl:"https://images.pexels.com/photos/4465124/pexels-photo-4465124.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cotton Swabs",category:"health",imageUrl:"https://images.pexels.com/photos/4465127/pexels-photo-4465127.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var KI=[{name:"Ground Beef",category:"meat",imageUrl:"https://images.pexels.com/photos/6941041/pexels-photo-6941041.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Beef Steak",category:"meat",imageUrl:"https://images.pexels.com/photos/1251208/pexels-photo-1251208.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ribeye Steak",category:"meat",imageUrl:"https://images.pexels.com/photos/3535383/pexels-photo-3535383.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Beef Roast",category:"meat",imageUrl:"https://images.pexels.com/photos/5409020/pexels-photo-5409020.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Beef Ribs",category:"meat",imageUrl:"https://images.pexels.com/photos/929137/pexels-photo-929137.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Beef Stew Meat",category:"meat",imageUrl:"https://images.pexels.com/photos/6210747/pexels-photo-6210747.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Whole Chicken",category:"meat",imageUrl:"https://images.pexels.com/photos/2338407/pexels-photo-2338407.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chicken Breast",category:"meat",imageUrl:"https://images.pexels.com/photos/6210876/pexels-photo-6210876.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chicken Thighs",category:"meat",imageUrl:"https://images.pexels.com/photos/6210747/pexels-photo-6210747.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chicken Wings",category:"meat",imageUrl:"https://images.pexels.com/photos/2338407/pexels-photo-2338407.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chicken Drumsticks",category:"meat",imageUrl:"https://images.pexels.com/photos/6210876/pexels-photo-6210876.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ground Chicken",category:"meat",imageUrl:"https://images.pexels.com/photos/6941041/pexels-photo-6941041.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pork Chops",category:"meat",imageUrl:"https://images.pexels.com/photos/3535383/pexels-photo-3535383.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pork Tenderloin",category:"meat",imageUrl:"https://images.pexels.com/photos/8753653/pexels-photo-8753653.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ground Pork",category:"meat",imageUrl:"https://images.pexels.com/photos/6941041/pexels-photo-6941041.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pork Ribs",category:"meat",imageUrl:"https://images.pexels.com/photos/929137/pexels-photo-929137.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pork Belly",category:"meat",imageUrl:"https://images.pexels.com/photos/1059943/pexels-photo-1059943.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ground Turkey",category:"meat",imageUrl:"https://images.pexels.com/photos/6941041/pexels-photo-6941041.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Turkey Breast",category:"meat",imageUrl:"https://images.pexels.com/photos/6210876/pexels-photo-6210876.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Lamb Chops",category:"meat",imageUrl:"https://images.pexels.com/photos/3535383/pexels-photo-3535383.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Ground Lamb",category:"meat",imageUrl:"https://images.pexels.com/photos/6941041/pexels-photo-6941041.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Salmon Fillet",category:"meat",imageUrl:"https://images.pexels.com/photos/3296279/pexels-photo-3296279.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tilapia",category:"meat",imageUrl:"https://images.pexels.com/photos/3296279/pexels-photo-3296279.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cod Fillet",category:"meat",imageUrl:"https://images.pexels.com/photos/4553028/pexels-photo-4553028.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tuna Steak",category:"meat",imageUrl:"https://images.pexels.com/photos/5908058/pexels-photo-5908058.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Trout",category:"meat",imageUrl:"https://images.pexels.com/photos/3296279/pexels-photo-3296279.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Catfish",category:"meat",imageUrl:"https://images.pexels.com/photos/4553028/pexels-photo-4553028.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Shrimp",category:"meat",imageUrl:"https://images.pexels.com/photos/566344/pexels-photo-566344.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Crab Legs",category:"meat",imageUrl:"https://images.pexels.com/photos/566344/pexels-photo-566344.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Lobster",category:"meat",imageUrl:"https://images.pexels.com/photos/566344/pexels-photo-566344.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Scallops",category:"meat",imageUrl:"https://images.pexels.com/photos/566344/pexels-photo-566344.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mussels",category:"meat",imageUrl:"https://images.pexels.com/photos/3655916/pexels-photo-3655916.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Clams",category:"meat",imageUrl:"https://images.pexels.com/photos/3655916/pexels-photo-3655916.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Oysters",category:"meat",imageUrl:"https://images.pexels.com/photos/3655916/pexels-photo-3655916.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Calamari",category:"meat",imageUrl:"https://images.pexels.com/photos/566344/pexels-photo-566344.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var QI=[{name:"Dry Dog Food",category:"pets",imageUrl:"https://images.pexels.com/photos/1390361/pexels-photo-1390361.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Wet Dog Food",category:"pets",imageUrl:"https://images.pexels.com/photos/1390361/pexels-photo-1390361.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dog Treats",category:"pets",imageUrl:"https://images.pexels.com/photos/1390361/pexels-photo-1390361.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dog Biscuits",category:"pets",imageUrl:"https://images.pexels.com/photos/1390361/pexels-photo-1390361.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dog Chews",category:"pets",imageUrl:"https://images.pexels.com/photos/2607544/pexels-photo-2607544.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dry Cat Food",category:"pets",imageUrl:"https://images.pexels.com/photos/1741205/pexels-photo-1741205.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Wet Cat Food",category:"pets",imageUrl:"https://images.pexels.com/photos/1741205/pexels-photo-1741205.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cat Treats",category:"pets",imageUrl:"https://images.pexels.com/photos/1741205/pexels-photo-1741205.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cat Litter",category:"pets",imageUrl:"https://images.pexels.com/photos/1741205/pexels-photo-1741205.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Catnip",category:"pets",imageUrl:"https://images.pexels.com/photos/1741205/pexels-photo-1741205.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Flea & Tick Treatment",category:"pets",imageUrl:"https://images.pexels.com/photos/2607544/pexels-photo-2607544.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pet Shampoo",category:"pets",imageUrl:"https://images.pexels.com/photos/2607544/pexels-photo-2607544.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pet Brush",category:"pets",imageUrl:"https://images.pexels.com/photos/2607544/pexels-photo-2607544.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pet Nail Clippers",category:"pets",imageUrl:"https://images.pexels.com/photos/2607544/pexels-photo-2607544.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dog Collar",category:"pets",imageUrl:"https://images.pexels.com/photos/1390361/pexels-photo-1390361.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dog Leash",category:"pets",imageUrl:"https://images.pexels.com/photos/1390361/pexels-photo-1390361.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pet Bed",category:"pets",imageUrl:"https://images.pexels.com/photos/1390361/pexels-photo-1390361.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Food Bowl",category:"pets",imageUrl:"https://images.pexels.com/photos/1390361/pexels-photo-1390361.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Water Bowl",category:"pets",imageUrl:"https://images.pexels.com/photos/1390361/pexels-photo-1390361.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pet Toys",category:"pets",imageUrl:"https://images.pexels.com/photos/2607544/pexels-photo-2607544.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Fish Food",category:"pets",imageUrl:"https://images.pexels.com/photos/128756/pexels-photo-128756.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Bird Seed",category:"pets",imageUrl:"https://images.pexels.com/photos/1661179/pexels-photo-1661179.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Poop Bags",category:"pets",imageUrl:"https://images.pexels.com/photos/2607544/pexels-photo-2607544.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Litter Box Liners",category:"pets",imageUrl:"https://images.pexels.com/photos/1741205/pexels-photo-1741205.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pet Stain Remover",category:"pets",imageUrl:"https://images.pexels.com/photos/4239013/pexels-photo-4239013.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var YI=[{name:"Potato Chips",category:"snacks",imageUrl:"https://images.pexels.com/photos/1583884/pexels-photo-1583884.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Tortilla Chips",category:"snacks",imageUrl:"https://images.pexels.com/photos/5737380/pexels-photo-5737380.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Corn Chips",category:"snacks",imageUrl:"https://images.pexels.com/photos/5737247/pexels-photo-5737247.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Veggie Chips",category:"snacks",imageUrl:"https://images.pexels.com/photos/1583884/pexels-photo-1583884.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Kettle Chips",category:"snacks",imageUrl:"https://images.pexels.com/photos/1583884/pexels-photo-1583884.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Saltine Crackers",category:"snacks",imageUrl:"https://images.pexels.com/photos/890577/pexels-photo-890577.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Graham Crackers",category:"snacks",imageUrl:"https://images.pexels.com/photos/890577/pexels-photo-890577.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cheese Crackers",category:"snacks",imageUrl:"https://images.pexels.com/photos/890577/pexels-photo-890577.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Rice Crackers",category:"snacks",imageUrl:"https://images.pexels.com/photos/890577/pexels-photo-890577.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chocolate Chip Cookies",category:"snacks",imageUrl:"https://images.pexels.com/photos/890577/pexels-photo-890577.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Oreos",category:"snacks",imageUrl:"https://images.pexels.com/photos/890577/pexels-photo-890577.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Butter Cookies",category:"snacks",imageUrl:"https://images.pexels.com/photos/890577/pexels-photo-890577.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Oatmeal Cookies",category:"snacks",imageUrl:"https://images.pexels.com/photos/890577/pexels-photo-890577.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mixed Nuts",category:"snacks",imageUrl:"https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Peanuts",category:"snacks",imageUrl:"https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Almonds",category:"snacks",imageUrl:"https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cashews",category:"snacks",imageUrl:"https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Sunflower Seeds",category:"snacks",imageUrl:"https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Trail Mix",category:"snacks",imageUrl:"https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Microwave Popcorn",category:"snacks",imageUrl:"https://images.pexels.com/photos/33129/popcorn-movie-party-entertainment.jpg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Caramel Popcorn",category:"snacks",imageUrl:"https://images.pexels.com/photos/33129/popcorn-movie-party-entertainment.jpg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cheese Popcorn",category:"snacks",imageUrl:"https://images.pexels.com/photos/33129/popcorn-movie-party-entertainment.jpg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Chocolate Bar",category:"snacks",imageUrl:"https://images.pexels.com/photos/65882/chocolate-dark-coffee-confiserie-65882.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Gummy Bears",category:"snacks",imageUrl:"https://images.pexels.com/photos/4016596/pexels-photo-4016596.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Hard Candy",category:"snacks",imageUrl:"https://images.pexels.com/photos/4016596/pexels-photo-4016596.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Licorice",category:"snacks",imageUrl:"https://images.pexels.com/photos/4016596/pexels-photo-4016596.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Mints",category:"snacks",imageUrl:"https://images.pexels.com/photos/4016596/pexels-photo-4016596.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Granola Bars",category:"snacks",imageUrl:"https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Protein Bars",category:"snacks",imageUrl:"https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cereal Bars",category:"snacks",imageUrl:"https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Fruit Bars",category:"snacks",imageUrl:"https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Raisins",category:"snacks",imageUrl:"https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dried Mango",category:"snacks",imageUrl:"https://images.pexels.com/photos/918643/pexels-photo-918643.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Dried Apricots",category:"snacks",imageUrl:"https://images.pexels.com/photos/1295572/pexels-photo-1295572.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Fruit Snacks",category:"snacks",imageUrl:"https://images.pexels.com/photos/4016596/pexels-photo-4016596.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Pretzels",category:"snacks",imageUrl:"https://images.pexels.com/photos/40801/pretzel-baked-goods-eat-pastries-40801.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Beef Jerky",category:"snacks",imageUrl:"https://images.pexels.com/photos/3535383/pexels-photo-3535383.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Rice Cakes",category:"snacks",imageUrl:"https://images.pexels.com/photos/890577/pexels-photo-890577.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1},{name:"Cheese Puffs",category:"snacks",imageUrl:"https://images.pexels.com/photos/1583884/pexels-photo-1583884.jpeg?auto=compress&cs=tinysrgb&w=200&h=200&fit=crop",isInCart:!1,isChecked:!1}];var Pc=class n{userService=E(nr);firestore=E(fn);GROCERIES_COLLECTION="groceries";CATEGORIES_COLLECTION="categories";HISTORY_COLLECTION="shopping_history";unsubGroceries=null;unsubCategories=null;groceriesSignal=te([]);categoriesSignal=te([...ji]);searchQuerySignal=te("");selectedCategorySignal=te("all");sortBySignal=te("name");isLoadingSignal=te(!0);errorSignal=te(null);isSeededSignal=te(!1);hasMigratedThisSession=!1;groceriesSubject=new Pe([]);categoriesSubject=new Pe([...ji]);groceries$=this.groceriesSubject.asObservable();categories$=this.categoriesSubject.asObservable();categories=xe(()=>this.categoriesSignal());categoryIds=xe(()=>this.categoriesSignal().map(e=>e.id));isLoading=xe(()=>this.isLoadingSignal());groceries=xe(()=>{let e=this.groceriesSignal(),t=this.searchQuerySignal().toLowerCase(),r=this.selectedCategorySignal(),i=this.sortBySignal();return t&&(e=e.filter(s=>s.name.toLowerCase().includes(t))),r==="cart"?e=e.filter(s=>s.isInCart):r!=="all"&&(e=e.filter(s=>s.category===r)),e=[...e].sort((s,o)=>{switch(i){case"name":return s.name.localeCompare(o.name);case"category":return s.category.localeCompare(o.category);case"date":return new Date(o.createdAt).getTime()-new Date(s.createdAt).getTime();default:return 0}}),e});cartItems=xe(()=>this.groceriesSignal().filter(e=>e.isInCart));checkedItems=xe(()=>this.cartItems().filter(e=>e.isChecked));uncheckedItems=xe(()=>this.cartItems().filter(e=>!e.isChecked));searchQuery=xe(()=>this.searchQuerySignal());selectedCategory=xe(()=>this.selectedCategorySignal());sortBy=xe(()=>this.sortBySignal());error=xe(()=>this.errorSignal());groceriesByCategory=xe(()=>{let e=this.groceries(),t=this.categoriesSignal(),r={};return t.forEach(i=>{r[i.id]=[]}),e.forEach(i=>{r[i.category]?r[i.category].push(i):r.other&&r.other.push(i)}),r});constructor(){Rn(()=>{let e=this.userService.currentUser();this.cleanupSubscriptions(),this.hasMigratedThisSession=!1,e&&e.userId?(console.log("\u{1F4E6} Loading groceries for user..."),this.initializeFirestoreListeners(e.userId)):(console.log("\u{1F512} No user logged in - clearing grocery data"),this.groceriesSignal.set([]),this.groceriesSubject.next([]),this.categoriesSignal.set([...ji]),this.categoriesSubject.next([...ji]),this.isLoadingSignal.set(!1))})}getCurrentUserId(){return this.userService.currentUser()?.userId||""}cleanupSubscriptions(){this.unsubGroceries&&(this.unsubGroceries(),this.unsubGroceries=null),this.unsubCategories&&(this.unsubCategories(),this.unsubCategories=null)}initializeFirestoreListeners(e){if(!e)return;this.isLoadingSignal.set(!0);let t=ni(Bn(this.firestore,this.GROCERIES_COLLECTION),Vi("userId","==",e));this.unsubGroceries=ti(t,i=>{let s=i.docs.map(o=>{let a=o.data();return Y(L({id:o.id},a),{createdAt:a.createdAt?.toDate?a.createdAt.toDate():new Date(a.createdAt),updatedAt:a.updatedAt?.toDate?a.updatedAt.toDate():new Date(a.updatedAt)})});this.groceriesSignal.set(s),this.groceriesSubject.next(s),this.isLoadingSignal.set(!1),s.length===0&&!this.isSeededSignal()?this.seedInitialData$(e).subscribe():this.checkAndMigrateData(e,s)},i=>{console.error("Error loading groceries:",i),this.errorSignal.set(i.message),this.isLoadingSignal.set(!1)});let r=ni(Bn(this.firestore,this.CATEGORIES_COLLECTION),Vi("userId","in",[e,"system"]));this.unsubCategories=ti(r,i=>{if(i.docs.length>0){let s=i.docs.map(a=>Y(L({id:a.id},a.data()),{createdAt:a.data().createdAt?.toDate?a.data().createdAt.toDate():new Date}));s.sort((a,c)=>a.name.localeCompare(c.name));let o=ji.filter(a=>!s.some(c=>c.id===a.id));if(o.length>0){o.forEach(c=>this.saveCategoryToFirestore$(c).subscribe());let a=[...s,...o];this.categoriesSignal.set(a),this.categoriesSubject.next(a)}else this.categoriesSignal.set(s),this.categoriesSubject.next(s)}else ji.forEach(s=>this.saveCategoryToFirestore$(s).subscribe()),this.categoriesSignal.set([...ji]),this.categoriesSubject.next([...ji])},i=>{console.error("Error loading categories:",i)})}seedInitialData$(e){if(this.isSeededSignal())return Q(void 0);this.isSeededSignal.set(!0),console.log("Seeding initial grocery data...");let t=[...FI,...LI,...VI,...UI,...jI,...BI,...$I,...HI,...zI,...GI,...qI,...WI,...KI,...QI,...YI],r=t.map(i=>this.create$(i));return Dn(r).pipe(Ge(()=>console.log(`Seeded ${t.length} grocery items`)),X(()=>{}))}saveCategoryToFirestore$(e){let t=_t(this.firestore,this.CATEGORIES_COLLECTION,e.id);return ge(Tc(t,Y(L({},e),{createdAt:e.createdAt})))}createCategory$(e){let t=this.getCurrentUserId();if(!t)return $n(()=>new Error("User must be logged in to create categories"));let r=Y(L({},e),{id:this.generateCategoryId(e.name),userId:t,isDefault:!1,createdAt:new Date});return this.saveCategoryToFirestore$(r).pipe(X(()=>r))}getCategory(e){return this.categoriesSignal().find(t=>t.id===e)}updateCategory$(e,t){let r=this.getCategory(e);if(!r||r.isDefault)return Q(void 0);let i=_t(this.firestore,this.CATEGORIES_COLLECTION,e);return ge(Sr(i,t)).pipe(X(()=>L(L({},r),t)))}deleteCategory(e){let t=this.getCategory(e);if(!t)return{success:!1,error:"Category not found"};if(t.isDefault)return{success:!1,error:"Cannot delete default categories"};let r=this.groceriesSignal().filter(s=>s.category===e);if(r.length>0)return{success:!1,error:`Cannot delete category "${t.name}" because it has ${r.length} item(s). Please move or delete the items first.`};let i=_t(this.firestore,this.CATEGORIES_COLLECTION,e);return Li(i),{success:!0}}getItemCountInCategory(e){return this.groceriesSignal().filter(t=>t.category===e).length}getCategoryLabel(e){return this.getCategory(e)?.name||e}getCategoryIcon(e){return this.getCategory(e)?.icon||"category"}getCategoryColor(e){return this.getCategory(e)?.color||"text-slate-400"}setSearchQuery(e){this.searchQuerySignal.set(e)}setCategory(e){this.selectedCategorySignal.set(e)}setSortBy(e){this.sortBySignal.set(e)}itemExists(e){let t=e.trim().toLowerCase();return this.groceriesSignal().some(r=>r.name.toLowerCase()===t)}getItemByName(e){let t=e.trim().toLowerCase();return this.groceriesSignal().find(r=>r.name.toLowerCase()===t)}create$(e){let t=this.getCurrentUserId();if(!t)return $n(()=>new Error("User must be logged in to create items"));let r=this.getItemByName(e.name);if(r)return $n(()=>new Error(`An item named "${r.name}" already exists.`));let i=Y(L({},e),{id:this.generateId(),userId:t,createdAt:new Date,updatedAt:new Date}),s=_t(this.firestore,this.GROCERIES_COLLECTION,i.id);return ge(Tc(s,i)).pipe(X(()=>i))}update$(e,t){let r=this.groceriesSignal().find(s=>s.id===e);if(!r)return Q(void 0);if(t.name){let s=t.name.trim().toLowerCase(),o=this.groceriesSignal().find(a=>a.id!==e&&a.name.toLowerCase()===s);if(o)return $n(()=>new Error(`An item named "${o.name}" already exists.`))}let i=_t(this.firestore,this.GROCERIES_COLLECTION,e);return ge(Sr(i,Y(L({},t),{updatedAt:new Date}))).pipe(X(()=>Y(L(L({},r),t),{updatedAt:new Date})))}delete$(e){let t=_t(this.firestore,this.GROCERIES_COLLECTION,e);return ge(Li(t)).pipe(X(()=>!0))}getById(e){return this.groceriesSignal().find(t=>t.id===e)}addToCart$(e){return this.update$(e,{isInCart:!0}).pipe(X(()=>{}))}removeFromCart$(e){return this.update$(e,{isInCart:!1,isChecked:!1}).pipe(X(()=>{}))}toggleChecked$(e){let t=this.getById(e);return t?this.update$(e,{isChecked:!t.isChecked}).pipe(X(()=>{})):Q(void 0)}clearCart$(){let e=this.cartItems();if(e.length===0)return Q(void 0);let t=e.map(r=>this.update$(r.id,{isInCart:!1,isChecked:!1}));return Dn(t).pipe(X(()=>{}))}findDuplicateIds(){let e=this.groceriesSignal(),t=new Map,r=[],i=[...e].sort((s,o)=>new Date(s.createdAt).getTime()-new Date(o.createdAt).getTime());for(let s of i){let o=s.name.toLowerCase().trim();t.has(o)?r.push(s.id):t.set(o,s)}return r}removeDuplicates$(){let e=this.findDuplicateIds();if(e.length===0)return console.log("\u2705 No duplicate items found."),Q(0);console.log(`\u{1F5D1}\uFE0F Removing ${e.length} duplicate item(s)...`);let t=e.map(r=>this.delete$(r));return Dn(t).pipe(Ge(()=>console.log(`\u2705 Removed ${e.length} duplicate items.`)),X(()=>e.length))}resetToSeedData$(){let e=this.groceriesSignal();if(e.length===0)return this.isSeededSignal.set(!1),Q(void 0);let t=e.map(r=>this.delete$(r.id));return Dn(t).pipe(Ge(()=>this.isSeededSignal.set(!1)),X(()=>{}))}saveToHistory$(){let e=this.getCurrentUserId();if(!e)return Q(void 0);let t=this.cartItems();if(t.length===0)return Q(void 0);let r=`history_${Date.now()}`,i=_t(this.firestore,this.HISTORY_COLLECTION,r),s={id:r,userId:e,date:new Date,itemCount:t.length,items:t.map(o=>({id:o.id,name:o.name,category:o.category,checked:o.isChecked})),completed:!0};return ge(Tc(i,s))}generateId(){return`grocery_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}generateCategoryId(e){return`cat_${e.toLowerCase().replace(/\s+/g,"_")}_${Date.now()}`}checkAndMigrateData(e,t){if(this.hasMigratedThisSession)return;let r="v18";localStorage.getItem(`homeneeds_seed_version_${e}`)!==r&&(console.log(`Migrating data to ${r}...`),this.hasMigratedThisSession=!0,this.migrateMissingSeedData$(t).subscribe(()=>{localStorage.setItem(`homeneeds_seed_version_${e}`,r)}))}migrateMissingSeedData$(e){console.log("Checking for missing seed items...");let t=e??this.groceriesSignal();console.log(`Current items count: ${t.length}`);let r=[...FI,...LI,...VI,...UI,...jI,...BI,...$I,...HI,...zI,...GI,...qI,...WI,...KI,...QI,...YI];console.log(`Total seed data count: ${r.length}`);let i=new Set(t.map(o=>o.name.toLowerCase().trim())),s=r.filter(o=>{let a=o.name.toLowerCase().trim();return!i.has(a)});if(s.length>0){console.log(`Adding ${s.length} missing items...`);let o=s.map(a=>this.create$(a));return Dn(o).pipe(Ge(()=>console.log(`\u2705 Successfully added ${s.length} items`)),X(()=>{}))}else return console.log("\u2705 All seed items are present."),Q(void 0)}ngOnDestroy(){this.cleanupSubscriptions()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var mm=(n,e)=>e.id;function P7(n,e){n&1&&et(0,"div",48)}function O7(n,e){if(n&1&&et(0,"img",39),n&2){let t=P().$implicit;me("src",t.imageUrl,un)}}function F7(n,e){if(n&1&&(y(0,"span",41)(1,"span",49),C(2,"alarm"),_(),C(3),Hl(4,"date"),_()),n&2){let t=P().$implicit;D(3),Ne(" ",zl(4,1,t.dueDate,"MMM d, h:mm a")," ")}}function L7(n,e){if(n&1&&(y(0,"div",51),C(1),_()),n&2){let t=e;Be(t.color),me("title","Assigned to "+t.name+" ("+(t.points||0)+" pts)"),D(),Ne(" ",t.initial," ")}}function V7(n,e){if(n&1&&Z(0,L7,2,4,"div",50),n&2){let t,r=P(4);J((t=r.getAssigneeById(e))?0:-1,t)}}function U7(n,e){if(n&1&&(y(0,"span",42),C(1),_()),n&2){let t=P().$implicit;D(),de(t.description)}}function j7(n,e){if(n&1&&(y(0,"div",43)(1,"span",52),C(2,"sticky_note_2"),_(),C(3),_()),n&2){let t=P().$implicit;D(3),Ne(" ",t.specialNote," ")}}function B7(n,e){if(n&1){let t=Ie();y(0,"div",31),Af(1,P7,1,0,"div",32),y(2,"span",33),C(3,"drag_indicator"),_(),y(4,"label",34)(5,"input",35),U("change",function(){let i=j(t).$implicit,s=P(3);return B(s.toggleComplete(i))}),_(),y(6,"span",36),C(7,"check"),_()(),y(8,"div",37),U("click",function(){let i=j(t).$implicit,s=P(3);return B(s.edit(i))}),y(9,"div",38),Z(10,O7,1,1,"img",39),y(11,"span",40),C(12),_(),Z(13,F7,5,4,"span",41),Z(14,V7,1,1),_(),Z(15,U7,2,1,"span",42),Z(16,j7,4,1,"div",43),_(),y(17,"div",44)(18,"button",45),U("click",function(){let i=j(t).$implicit,s=P(3);return B(s.edit(i))}),y(19,"span",46),C(20,"edit"),_()(),y(21,"button",47),U("click",function(){let i=j(t).$implicit,s=P(3);return B(s.delete(i.id))}),y(22,"span",46),C(23,"delete"),_()()()()}if(n&2){let t,r=e.$implicit;Vt("opacity-50",r.isCompleted),me("cdkDragData",r),D(5),me("checked",r.isCompleted),D(5),J(r.imageUrl?10:-1),D(),Vt("line-through",r.isCompleted)("text-slate-500",r.isCompleted),D(),Ne(" ",r.title," "),D(),J(r.dueDate?13:-1),D(),J((t=r.assigneeId)?14:-1,t),D(),J(r.description?15:-1),D(),J(r.specialNote?16:-1)}}function $7(n,e){if(n&1){let t=Ie();y(0,"section",24)(1,"div",25)(2,"h3",26),et(3,"span",27),C(4),_(),y(5,"span",28),C(6),_()(),y(7,"div",29),U("cdkDropListDropped",function(i){j(t);let s=P().$implicit,o=P();return B(o.onDrop(i,s.id))}),it(8,B7,24,14,"div",30,mm),_()()}if(n&2){let t=P().$implicit,r=P();me("id","section-"+t.id),D(3),Be(t.color),D(),Ne(" ",t.label," "),D(),Be(t.color+" "+t.textColor+" bg-opacity-10"),D(),Ne(" ",r.groupedTasks()[t.id].length," Items "),D(),me("cdkDropListData",r.groupedTasks()[t.id]),D(),st(r.groupedTasks()[t.id])}}function H7(n,e){if(n&1&&Z(0,$7,10,8,"section",24),n&2){let t=e.$implicit,r=P();J(r.groupedTasks()[t.id]&&r.groupedTasks()[t.id].length>0?0:-1)}}function z7(n,e){n&1&&(y(0,"div",20)(1,"span",53),C(2,"task_alt"),_(),y(3,"h3",54),C(4,"All caught up!"),_(),y(5,"p",55),C(6,"Create a task to get started."),_()())}function G7(n,e){n&1&&(y(0,"span",82),C(1,"check"),_())}function q7(n,e){if(n&1){let t=Ie();y(0,"button",80),U("click",function(){let i=j(t).$implicit,s=P(3);return B(s.selectCategory(i.id))}),et(1,"span",81),C(2),Z(3,G7,2,0,"span",82),_()}if(n&2){let t=e.$implicit,r=P(3);D(),Be(t.color),D(),Ne(" ",t.label," "),D(),J(r.taskCategory===t.id?3:-1)}}function W7(n,e){if(n&1&&(y(0,"div",67),it(1,q7,4,4,"button",79,mm),_()),n&2){let t=P(2);D(),st(t.categories)}}function K7(n,e){if(n&1&&(y(0,"option",73),C(1),_()),n&2){let t=e.$implicit;me("value",t.id),D(),wo("",t.name," (",t.points||0," pts)")}}function Q7(n,e){if(n&1){let t=Ie();y(0,"div",23)(1,"div",56)(2,"div",57)(3,"h3",58),C(4),_(),y(5,"button",59),U("click",function(){j(t);let i=P();return B(i.toggleAddModal(!1))}),y(6,"span",60),C(7,"close"),_()()(),y(8,"div",61)(9,"div")(10,"label",62),C(11,"Task Title"),_(),y(12,"input",63),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.taskTitle,i)||(s.taskTitle=i),B(i)}),_()(),y(13,"div")(14,"label",62),C(15,"Category"),_(),y(16,"div",64)(17,"button",65),U("click",function(){j(t);let i=P();return B(i.toggleCategoryDropdown())}),y(18,"span"),C(19),_(),y(20,"span",66),C(21,"expand_more"),_()(),Z(22,W7,3,0,"div",67),_()(),y(23,"div")(24,"div",68)(25,"label",69),C(26,"Assignee"),_(),y(27,"button",70),U("click",function(){j(t);let i=P();return B(i.openManageAssignees())}),C(28,"Manage"),_()(),y(29,"select",71),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.taskAssigneeId,i)||(s.taskAssigneeId=i),B(i)}),y(30,"option",72),C(31,"Unassigned"),_(),it(32,K7,2,3,"option",73,mm),_()(),y(34,"div")(35,"label",62),C(36,"Due Date"),_(),y(37,"input",74),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.taskDueDate,i)||(s.taskDueDate=i),B(i)}),_()(),y(38,"div")(39,"label",62),C(40,"Special Note"),_(),y(41,"textarea",75),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.taskSpecialNote,i)||(s.taskSpecialNote=i),B(i)}),_()()(),y(42,"div",76)(43,"button",77),U("click",function(){j(t);let i=P();return B(i.toggleAddModal(!1))}),C(44,"Cancel"),_(),y(45,"button",78),U("click",function(){j(t);let i=P();return B(i.saveTask())}),C(46),_()()()()}if(n&2){let t=P();D(4),de(t.editingTask?"Edit Task":"New Task"),D(8),lt("ngModel",t.taskTitle),D(7),de(t.getSelectedCategoryLabel()),D(3),J(t.showCategoryDropdown?22:-1),D(7),lt("ngModel",t.taskAssigneeId),D(3),st(t.assignees()),D(5),lt("ngModel",t.taskDueDate),D(4),lt("ngModel",t.taskSpecialNote),D(4),me("disabled",t.isSaving),D(),de(t.isSaving?"Saving...":"Save Task")}}function Y7(n,e){if(n&1){let t=Ie();y(0,"app-assignee-management",83),U("close",function(){j(t);let i=P();return B(i.closeAssigneeModal())}),_()}}var gm=class n{overviewService=E(si);dialogService=E(rr);assigneeService=E(ii);groceryService=E(Pc);loadingService=E(wn);cdr=E(Xt);tasks=this.overviewService.tasks;assignees=this.assigneeService.assignees;categories=n2;assigneeColors=vd;groupedTasks=xe(()=>{let e=this.tasks(),t={};return this.categories.forEach(r=>t[r.id]=[]),t.other=[],e.forEach(r=>{let i=r.category;t[i]?t[i].push(r):t.other.push(r)}),t});totalPending=xe(()=>this.tasks().filter(e=>!e.isCompleted).length);activeCategoriesCount=xe(()=>{let e=this.groupedTasks();return Object.values(e).filter(t=>t.length>0).length});showAddModal=!1;editingTask=null;isSaving=!1;taskTitle="";taskSpecialNote="";taskCategory="groceries";taskDueDate="";taskAssigneeId="";showCategoryDropdown=!1;showAssigneeModal=!1;constructor(){}toggleAddModal(e){e&&this.resetForm(),this.showAddModal=e,this.cdr.detectChanges()}resetForm(){this.editingTask=null,this.taskTitle="",this.taskSpecialNote="",this.taskCategory="groceries";let e=new Date;e.setDate(e.getDate()+1),this.taskDueDate=new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().slice(0,16),this.taskAssigneeId="",this.showCategoryDropdown=!1,this.isSaving=!1}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown}selectCategory(e){this.taskCategory=e,this.showCategoryDropdown=!1}getSelectedCategoryLabel(){return this.categories.find(e=>e.id===this.taskCategory)?.label||"Select Category"}saveTask(){if(!this.taskTitle.trim()||this.isSaving)return;this.isSaving=!0,this.loadingService.show("Saving task...");let e={title:this.taskTitle,specialNote:this.taskSpecialNote||void 0,category:this.taskCategory,assigneeId:this.taskAssigneeId||void 0,isCompleted:!1,dueDate:this.taskDueDate?new Date(this.taskDueDate):null};(this.editingTask?this.overviewService.updateTask$(this.editingTask.id,{title:this.taskTitle,specialNote:this.taskSpecialNote||void 0,category:this.taskCategory,assigneeId:this.taskAssigneeId||void 0,dueDate:this.taskDueDate?new Date(this.taskDueDate):null}):this.overviewService.createTask$(e)).pipe(Ws(()=>{this.loadingService.hide(),this.isSaving=!1,this.toggleAddModal(!1)})).subscribe({next:()=>{this.toggleAddModal(!1)},error:r=>{console.error("Save failed",r),this.dialogService.alert$("Failed to save task. Please try again.").subscribe()}})}toggleComplete(e){let t=!e.isCompleted;this.overviewService.updateTask$(e.id,{isCompleted:t}).subscribe({next:()=>{if(t&&e.category==="groceries"){let r=this.groceryService.groceries().find(i=>i.name===e.title);r&&r.isInCart&&this.groceryService.update$(r.id,{isInCart:!1,isChecked:!1}).subscribe()}}})}delete(e){this.dialogService.confirm$("Delete this task?","Delete Task").subscribe(t=>{if(t){let r=this.tasks().find(i=>i.id===e);this.loadingService.show("Deleting..."),this.overviewService.deleteTask$(e).subscribe({next:()=>{if(r&&r.category==="groceries"){let i=this.groceryService.groceries().find(s=>s.name===r.title);i&&i.isInCart&&this.groceryService.update$(i.id,{isInCart:!1,isChecked:!1}).subscribe()}this.loadingService.hide()},error:()=>this.loadingService.hide()})}})}edit(e){this.editingTask=e,this.taskTitle=e.title,this.taskSpecialNote=e.specialNote||"",this.taskCategory=e.category,this.taskAssigneeId=e.assigneeId||"",this.taskDueDate=e.dueDate?new Date(e.dueDate.getTime()-e.dueDate.getTimezoneOffset()*6e4).toISOString().slice(0,16):"",this.showAddModal=!0,this.cdr.detectChanges()}openManageAssignees(){this.showAssigneeModal=!0}closeAssigneeModal(){this.showAssigneeModal=!1}getAssigneeById(e){if(e)return this.assignees().find(t=>t.id===e)}onDrop(e,t){if(e.previousIndex===e.currentIndex)return;let r=[...this.groupedTasks()[t]||[]];hm(r,e.previousIndex,e.currentIndex),this.loadingService.show("Reordering..."),this.overviewService.reorderTasks$(r).subscribe({next:()=>this.loadingService.hide(),error:()=>this.loadingService.hide()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ct({type:n,selectors:[["app-overview"]],hostAttrs:[1,"flex-1","h-screen","flex","flex-col","overflow-hidden"],decls:39,vars:5,consts:[["id","overview-page",1,"flex-1","flex","flex-col","h-screen","overflow-y-auto","relative","bg-slate-50","dark:bg-background-dark"],[1,"px-8","pt-8","pb-4","w-full","z-10","flex","flex-col","gap-4","sticky","top-0","bg-slate-50/90","dark:bg-background-dark/90","backdrop-blur-sm"],[1,"flex","flex-col","w-full","group"],[1,"flex","w-full","items-center","rounded-full","h-14","bg-white","dark:bg-surface-dark","shadow-sm","border","border-slate-200","dark:border-border-dark","focus-within:border-primary","focus-within:ring-1","focus-within:ring-primary","transition-all","duration-300","px-6"],[1,"material-symbols-outlined","text-slate-400","dark:text-text-muted","group-focus-within:text-primary","transition-colors"],["id","overview-search-input","placeholder","Search for items to buy, fix, or clean...",1,"w-full","bg-transparent","border-none","focus:ring-0","text-base","font-medium","text-slate-900","dark:text-white","placeholder:text-slate-400","dark:placeholder:text-text-muted-darker","ml-3"],[1,"bg-primary","hover:bg-primary-hover","text-slate-900","p-2","rounded-full","transition-colors","flex","items-center","justify-center",3,"click"],[1,"material-symbols-outlined","text-[20px]","font-bold"],[1,"flex","items-center","gap-3","px-2"],[1,"text-xs","uppercase","font-bold","text-slate-500","dark:text-text-muted","tracking-wider"],["id","filter-chips",1,"flex","gap-2","text-slate-600","dark:text-slate-400","text-sm"],[1,"px-3","py-1","bg-white","dark:bg-surface-dark","rounded-full","border","border-slate-200","dark:border-border-dark","cursor-pointer","hover:border-primary"],[1,"flex-1","overflow-y-auto","px-8","pb-20","scroll-smooth"],[1,"w-full","flex","flex-col","gap-10"],[1,"flex","flex-wrap","justify-between","items-end","gap-4","mt-4","border-b","border-border-dark","pb-6"],[1,"text-4xl","font-black","text-slate-900","dark:text-white","tracking-tight","mb-2"],[1,"text-slate-500","dark:text-text-muted"],[1,"flex","gap-3"],[1,"flex","items-center","gap-2","px-5","py-2.5","rounded-full","bg-primary","text-slate-900","font-bold","text-sm","hover:bg-primary-hover","transition-colors","shadow-lg","shadow-primary/20",3,"click"],[1,"material-symbols-outlined","text-sm"],[1,"text-center","py-20","animate-in","fade-in","zoom-in-50","duration-500"],[1,"absolute","bottom-10","right-10","w-16","h-16","bg-primary","hover:bg-primary-hover","rounded-full","shadow-2xl","shadow-primary/20","text-slate-900","flex","items-center","justify-center","transition-transform","hover:scale-105","active:scale-95","z-40",3,"click"],[1,"material-symbols-outlined",2,"font-size","32px"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/50","backdrop-blur-sm","animate-in","fade-in","duration-200"],[3,"id"],[1,"flex","items-center","justify-between","mb-5"],[1,"text-2xl","font-bold","text-slate-900","dark:text-white","flex","items-center","gap-3"],[1,"w-2","h-8","rounded-full","block"],[1,"text-xs","font-bold","px-3","py-1","rounded-full","bg-opacity-10"],["cdkDropList","",1,"grid","grid-cols-1","gap-3",3,"cdkDropListDropped","cdkDropListData"],["cdkDrag","",1,"group","flex","items-center","gap-3","p-4","rounded-xl","bg-white","dark:bg-surface-dark","border","border-transparent","dark:border-border-dark","hover:border-primary/30","transition-all","duration-200","shadow-sm","hover:shadow-md","dark:shadow-none","relative","overflow-hidden","active:scale-[0.99]","active:shadow-inner","cursor-grab",3,"cdkDragData","opacity-50"],["cdkDrag","",1,"group","flex","items-center","gap-3","p-4","rounded-xl","bg-white","dark:bg-surface-dark","border","border-transparent","dark:border-border-dark","hover:border-primary/30","transition-all","duration-200","shadow-sm","hover:shadow-md","dark:shadow-none","relative","overflow-hidden","active:scale-[0.99]","active:shadow-inner","cursor-grab",3,"cdkDragData"],["class","w-full h-16 rounded-xl bg-primary/10 border-2 border-dashed border-primary/30",4,"cdkDragPlaceholder"],["cdkDragHandle","",1,"material-symbols-outlined","text-slate-300","dark:text-border-dark","group-hover:text-slate-400","dark:group-hover:text-slate-500","cursor-grab","select-none","transition-colors"],[1,"relative","flex","items-center","p-2","rounded-full","cursor-pointer"],["type","checkbox",1,"peer","h-6","w-6","cursor-pointer","appearance-none","rounded-full","border-2","border-slate-400","dark:border-slate-500","transition-all","checked:border-primary","checked:bg-primary",3,"change","checked"],[1,"material-symbols-outlined","absolute","inset-0","flex","items-center","justify-center","text-white","text-[18px]","opacity-0","peer-checked:opacity-100","pointer-events-none","transition-opacity"],[1,"flex","flex-col","flex-1","min-w-0","cursor-pointer",3,"click"],[1,"flex","items-center","gap-3"],["alt","",1,"size-8","rounded-lg","object-cover","bg-slate-100","dark:bg-black/20","border","border-slate-200","dark:border-border-dark","shrink-0",3,"src"],[1,"text-base","font-bold","text-slate-900","dark:text-white","group-hover:text-primary","transition-colors","truncate"],[1,"hidden","sm:inline-flex","items-center","gap-1","px-2","py-0.5","rounded-md","text-[10px]","font-bold","uppercase","tracking-wider","bg-slate-100","text-slate-500","dark:bg-slate-800","dark:text-slate-400"],[1,"text-sm","text-slate-500","dark:text-text-muted-darker","truncate"],[1,"flex","items-center","gap-1","mt-1","text-xs","font-medium","text-amber-600","dark:text-amber-400","bg-amber-50","dark:bg-amber-900/20","px-2","py-1","rounded","w-fit"],[1,"flex","items-center","gap-1","sm:gap-2","opacity-100","sm:opacity-0","group-hover:opacity-100","transition-opacity","z-20"],["title","Edit",1,"p-2","text-slate-400","hover:text-white","hover:bg-border-dark","rounded-full","transition-colors",3,"click"],[1,"material-symbols-outlined","text-[20px]"],["title","Delete",1,"p-2","text-slate-400","hover:text-rose-400","hover:bg-border-dark","rounded-full","transition-colors",3,"click"],[1,"w-full","h-16","rounded-xl","bg-primary/10","border-2","border-dashed","border-primary/30"],[1,"material-symbols-outlined","text-[12px]"],[1,"size-6","rounded-full","flex","items-center","justify-center","text-[10px]","font-bold","text-white","ring-2","ring-white","dark:ring-surface-dark","ml-1",3,"title","class"],[1,"size-6","rounded-full","flex","items-center","justify-center","text-[10px]","font-bold","text-white","ring-2","ring-white","dark:ring-surface-dark","ml-1",3,"title"],[1,"material-symbols-outlined","text-[14px]"],[1,"material-symbols-outlined","text-6xl","text-slate-300","dark:text-slate-600"],[1,"mt-4","text-xl","font-bold","text-slate-500","dark:text-slate-400"],[1,"text-slate-400","dark:text-slate-500"],[1,"bg-white","dark:bg-surface-dark","w-full","max-w-md","rounded-2xl","shadow-xl","overflow-hidden","animate-in","zoom-in-95","duration-200","border","border-slate-200","dark:border-border-dark"],[1,"p-4","border-b","border-slate-100","dark:border-border-dark","flex","justify-between","items-center"],[1,"font-bold","text-lg","text-slate-900","dark:text-white"],[1,"p-1","rounded-full","hover:bg-slate-100","dark:hover:bg-border-dark","transition-colors",3,"click"],[1,"material-symbols-outlined"],[1,"p-6","space-y-4"],[1,"block","text-sm","font-medium","text-slate-700","dark:text-slate-300","mb-1"],["type","text","placeholder","e.g. Buy Milk",1,"w-full","px-4","py-2","rounded-lg","bg-slate-50","dark:bg-black/20","border","border-slate-200","dark:border-border-dark","focus:border-primary","focus:ring-1","focus:ring-primary","outline-none","text-slate-900","dark:text-white",3,"ngModelChange","ngModel"],[1,"relative"],[1,"w-full","px-4","py-2","rounded-lg","bg-slate-50","dark:bg-black/20","border","border-slate-200","dark:border-border-dark","focus:border-primary","focus:ring-1","focus:ring-primary","outline-none","text-slate-900","dark:text-white","text-left","flex","justify-between","items-center",3,"click"],[1,"material-symbols-outlined","text-slate-500"],[1,"absolute","top-full","left-0","right-0","mt-1","bg-white","dark:bg-surface-dark","border","border-slate-200","dark:border-border-dark","rounded-lg","shadow-xl","z-50","overflow-hidden","animate-in","fade-in","zoom-in-95","duration-100","max-h-48","overflow-y-auto"],[1,"flex","justify-between","items-center","mb-1"],[1,"block","text-sm","font-medium","text-slate-700","dark:text-slate-300"],[1,"text-xs","text-primary","font-bold","hover:underline",3,"click"],[1,"w-full","px-4","py-2","rounded-lg","bg-slate-50","dark:bg-black/20","border","border-slate-200","dark:border-border-dark","focus:border-primary","focus:ring-1","focus:ring-primary","outline-none","text-slate-900","dark:text-white",3,"ngModelChange","ngModel"],["value",""],[3,"value"],["type","datetime-local",1,"w-full","px-4","py-2","rounded-lg","bg-slate-50","dark:bg-black/20","border","border-slate-200","dark:border-border-dark","focus:border-primary","focus:ring-1","focus:ring-primary","outline-none","text-slate-900","dark:text-white",3,"ngModelChange","ngModel"],["placeholder","Add any special instructions...",1,"w-full","px-4","py-2","rounded-lg","bg-slate-50","dark:bg-black/20","border","border-slate-200","dark:border-border-dark","focus:border-primary","focus:ring-1","focus:ring-primary","outline-none","text-slate-900","dark:text-white","min-h-[80px]","resize-none",3,"ngModelChange","ngModel"],[1,"p-4","bg-slate-50","dark:bg-black/20","flex","justify-end","gap-3"],[1,"px-4","py-2","rounded-lg","text-slate-600","dark:text-slate-400","font-medium","hover:bg-slate-200","dark:hover:bg-border-dark","transition-colors",3,"click"],[1,"px-4","py-2","rounded-lg","bg-primary","text-slate-900","font-bold","hover:bg-primary-hover","transition-colors","shadow-lg","shadow-primary/20","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"w-full","px-4","py-3","text-left","text-slate-700","dark:text-white","hover:bg-slate-50","dark:hover:bg-border-dark","transition-colors","flex","items-center","gap-2"],[1,"w-full","px-4","py-3","text-left","text-slate-700","dark:text-white","hover:bg-slate-50","dark:hover:bg-border-dark","transition-colors","flex","items-center","gap-2",3,"click"],[1,"w-3","h-3","rounded-full"],[1,"material-symbols-outlined","ml-auto","text-primary","text-sm"],[3,"close"]],template:function(t,r){t&1&&(y(0,"main",0)(1,"div",1)(2,"label",2)(3,"div",3)(4,"span",4),C(5,"search"),_(),et(6,"input",5),y(7,"button",6),U("click",function(){return r.toggleAddModal(!0)}),y(8,"span",7),C(9,"add"),_()()()(),y(10,"div",8)(11,"span",9),C(12,"Filter by Due Date:"),_(),y(13,"div",10)(14,"span",11),C(15,"All"),_(),y(16,"span",11),C(17,"Today"),_()()()(),y(18,"div",12)(19,"div",13)(20,"div",14)(21,"div")(22,"h2",15),C(23,"My Lists"),_(),y(24,"p",16),C(25),_()(),y(26,"div",17)(27,"button",18),U("click",function(){return r.toggleAddModal(!0)}),y(28,"span",19),C(29,"add_task"),_(),C(30," New Task "),_()()(),it(31,H7,1,1,null,null,mm),Z(33,z7,7,0,"div",20),_()(),y(34,"button",21),U("click",function(){return r.toggleAddModal(!0)}),y(35,"span",22),C(36,"add"),_()(),Z(37,Q7,47,9,"div",23),Z(38,Y7,1,0,"app-assignee-management"),_()),t&2&&(D(25),wo("You have ",r.totalPending()," pending items across ",r.activeCategoriesCount()," categories."),D(6),st(r.categories),D(2),J(r.activeCategoriesCount()===0&&(!r.groupedTasks().other||r.groupedTasks().other.length===0)?33:-1),D(4),J(r.showAddModal?37:-1),D(),J(r.showAssigneeModal?38:-1))},dependencies:[bn,Fs,Rc,Mc,ri,Os,Ps,Ui,pm,t2,XP,JP,QP,e2,Jl],styles:[".cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:.75rem;box-shadow:0 10px 40px #0000004d,0 0 0 2px #9fe87080;background:var(--surface-dark, #1a1d21);opacity:.95;transform:scale(1.02)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3;background:#9fe8701a;border:2px dashed rgba(159,232,112,.3);border-radius:.75rem}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(.25,.8,.25,1)}[cdkDragHandle][_ngcontent-%COMP%]{cursor:grab}[cdkDragHandle][_ngcontent-%COMP%]:active, .cdk-drag[_ngcontent-%COMP%]:active{cursor:grabbing}"]})};var Oc=class n{MAX_WIDTH=400;MAX_HEIGHT=400;QUALITY=.7;async compressImage(e){return new Promise((t,r)=>{let i=new FileReader;i.onload=s=>{let o=new Image;o.onload=()=>{try{let a=document.createElement("canvas"),{width:c,height:u}=o;c>u?c>this.MAX_WIDTH&&(u=Math.round(u*this.MAX_WIDTH/c),c=this.MAX_WIDTH):u>this.MAX_HEIGHT&&(c=Math.round(c*this.MAX_HEIGHT/u),u=this.MAX_HEIGHT),a.width=c,a.height=u;let d=a.getContext("2d");if(!d){r(new Error("Could not get canvas context"));return}d.drawImage(o,0,0,c,u);let p=a.toDataURL("image/jpeg",this.QUALITY);t(p)}catch(a){r(a)}},o.onerror=()=>{r(new Error("Failed to load image"))},o.src=s.target?.result},i.onerror=()=>{r(new Error("Failed to read file"))},i.readAsDataURL(e)})}isValidImageFile(e){return["image/jpeg","image/png","image/gif","image/webp"].includes(e.type)}formatFileSize(e){return e<1024?e+" B":e<1024*1024?(e/1024).toFixed(1)+" KB":(e/(1024*1024)).toFixed(1)+" MB"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var _d=(n,e)=>e.id;function Z7(n,e){if(n&1&&(y(0,"div",13)(1,"div",36)(2,"div",37)(3,"span",38),C(4,"error"),_()(),y(5,"div",39)(6,"h3",40),C(7,"Connection Error"),_(),y(8,"div",41)(9,"p"),C(10),_(),y(11,"p",42),C(12,"Please check your Firestore Security Rules or Auth configuration."),_()()()()()),n&2){let t=P();D(10),de(t.error())}}function J7(n,e){if(n&1){let t=Ie();y(0,"div",44)(1,"button",45),U("click",function(i){j(t);let s=P().$implicit;return P().startEditCategory(s),B(i.stopPropagation())}),y(2,"span",46),C(3,"edit"),_()(),y(4,"button",47),U("click",function(i){j(t);let s=P().$implicit;return P().deleteCategory(s.id),B(i.stopPropagation())}),y(5,"span",46),C(6,"close"),_()()()}}function X7(n,e){if(n&1){let t=Ie();y(0,"div",27)(1,"button",26),U("click",function(){let i=j(t).$implicit,s=P();return B(s.onCategoryChange(i.id))}),y(2,"span",43),C(3),_(),y(4,"p"),C(5),_(),Z(6,J7,7,0,"div",44),_()()}if(n&2){let t=e.$implicit,r=P();D(),Be(r.selectedCategory()===t.id?"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-slate-900 dark:bg-white px-4 pr-2 hover:opacity-90 transition-opacity":"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-white dark:bg-surface-dark border border-slate-200 dark:border-border-dark px-4 pr-2 hover:bg-slate-50 dark:hover:bg-border-dark transition-colors"),D(),Be(t.color),D(),de(t.icon),D(),Be(r.selectedCategory()===t.id?"text-white dark:text-slate-900 text-sm font-bold":"text-slate-600 dark:text-slate-300 text-sm font-medium"),D(),Ne(" ",t.name," "),D(),J(t.isDefault?-1:6)}}function ez(n,e){if(n&1){let t=Ie();y(0,"img",61),U("error",function(i){j(t);let s=P(4);return B(s.handleImageError(i))}),_()}if(n&2){let t=P().$implicit;me("alt",t.name)("src",t.imageUrl,un)}}function tz(n,e){n&1&&(y(0,"div",56)(1,"span",62),C(2,"grocery"),_()())}function nz(n,e){if(n&1){let t=Ie();y(0,"span",63),C(1,"In Cart"),_(),y(2,"button",64),U("click",function(){j(t);let i=P().$implicit,s=P(3);return B(s.removeFromCart(i.id))}),y(3,"span",29),C(4,"remove_shopping_cart"),_()()}}function rz(n,e){if(n&1){let t=Ie();y(0,"button",65),U("click",function(){j(t);let i=P().$implicit,s=P(3);return B(s.addToCart(i.id))}),y(1,"span",4),C(2,"add_shopping_cart"),_()()}}function iz(n,e){if(n&1){let t=Ie();y(0,"div",53)(1,"div",2)(2,"div",54),Z(3,ez,1,2,"img",55)(4,tz,3,0,"div",56),_(),y(5,"div")(6,"h4",57),C(7),_()()(),y(8,"div",58),Z(9,nz,5,0)(10,rz,3,0,"button",59),y(11,"button",60),U("click",function(){let i=j(t).$implicit,s=P(3);return B(s.startEdit(i))}),y(12,"span",29),C(13,"edit"),_()()()()}if(n&2){let t=e.$implicit;D(3),J(t.imageUrl?3:4),D(4),de(t.name),D(2),J(t.isInCart?9:10)}}function sz(n,e){if(n&1&&(y(0,"section",48)(1,"div",49)(2,"h3",50)(3,"span",17),C(4),_(),C(5),_(),y(6,"span",51),C(7),_()(),y(8,"div",52),it(9,iz,14,3,"div",53,_d),_()()),n&2){let t=P().$implicit,r=P();me("id","section-"+t.id),D(3),Be(t.color),D(),de(t.icon),D(),Ne(" ",t.name," "),D(2),Ne("",r.getItemCount(t.id)," items"),D(2),st(r.groceriesByCategory()[t.id])}}function oz(n,e){if(n&1&&Z(0,sz,11,6,"section",48),n&2){let t=e.$implicit,r=P();J(r.groceriesByCategory()[t.id]&&r.groceriesByCategory()[t.id].length>0?0:-1)}}function az(n,e){if(n&1){let t=Ie();y(0,"button",71),U("click",function(){j(t);let i=P(2);return B(i.onCategoryChange("all"))}),C(1," Browse all items "),_()}}function cz(n,e){if(n&1&&(y(0,"div",31)(1,"div",66)(2,"span",67),C(3,"search_off"),_()(),y(4,"h3",68),C(5,"No items found"),_(),y(6,"p",69),C(7," We couldn't find any items matching your current filters. "),_(),Z(8,az,2,0,"button",70),_()),n&2){let t=P();D(8),J(t.selectedCategory()!=="all"?8:-1)}}function lz(n,e){if(n&1&&(y(0,"span",34),C(1),_()),n&2){let t=P();D(),de(t.getTotalCartItems())}}function uz(n,e){n&1&&(y(0,"div",79)(1,"span",94),C(2,"progress_activity"),_(),y(3,"span",95),C(4,"Compressing..."),_()())}function dz(n,e){if(n&1){let t=Ie();y(0,"img",96),U("error",function(i){j(t);let s=P(2);return B(s.handleImageError(i))}),_()}if(n&2){let t=P(2);me("src",t.editItemImageUrl,un)}}function hz(n,e){n&1&&(y(0,"span",81),C(1,"image"),_())}function fz(n,e){if(n&1){let t=Ie();y(0,"button",97),U("click",function(){j(t);let i=P(2);return B(i.removeImage())}),y(1,"span",46),C(2,"close"),_()()}}function pz(n,e){if(n&1&&(y(0,"option",90),C(1),_()),n&2){let t=e.$implicit;me("value",t.id),D(),de(t.name)}}function gz(n,e){if(n&1){let t=Ie();y(0,"div",72),U("click",function(){j(t);let i=P();return B(i.cancelEdit())}),y(1,"div",73),U("click",function(i){return j(t),B(i.stopPropagation())}),y(2,"h3",74),C(3),_(),y(4,"div",75)(5,"div",76)(6,"div",77)(7,"div",78),Z(8,uz,5,0,"div",79)(9,dz,1,1,"img",80)(10,hz,2,0,"span",81),_(),Z(11,fz,3,0,"button",82),_(),y(12,"label",83)(13,"input",84),U("change",function(i){j(t);let s=P();return B(s.onImageFileSelected(i))}),_(),y(14,"span",85)(15,"span",29),C(16,"upload"),_(),C(17),_()(),y(18,"p",86),C(19,"Images are compressed automatically"),_()(),y(20,"div")(21,"label",87),C(22,"Item Name"),_(),y(23,"input",88),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.editItemName,i)||(s.editItemName=i),B(i)}),_()(),y(24,"div")(25,"label",87),C(26,"Category"),_(),y(27,"select",89),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.editItemCategory,i)||(s.editItemCategory=i),B(i)}),it(28,pz,2,2,"option",90,_d),_()()(),y(30,"div",91)(31,"button",92),U("click",function(){j(t);let i=P();return B(i.cancelEdit())}),C(32,"Cancel"),_(),y(33,"button",93),U("click",function(){j(t);let i=P();return B(i.saveEdit())}),C(34,"Save"),_()()()()}if(n&2){let t=P();D(3),de(t.editingItem?"Edit Item":"Add Item"),D(5),J(t.isUploadingImage?8:t.editItemImageUrl?9:10),D(3),J(t.editItemImageUrl&&!t.isUploadingImage?11:-1),D(2),me("disabled",t.isUploadingImage),D(4),Ne(" ",t.editItemImageUrl?"Change Image":"Upload Image"," "),D(6),lt("ngModel",t.editItemName),D(4),lt("ngModel",t.editItemCategory),D(),st(t.categories()),D(5),me("disabled",t.isUploadingImage)}}function mz(n,e){if(n&1){let t=Ie();y(0,"button",26),U("click",function(){let i=j(t).$implicit,s=P(2);return B(s.editCategoryIcon=i)}),y(1,"span",17),C(2),_()()}if(n&2){let t=e.$implicit,r=P(2);Be(r.editCategoryIcon===t?"size-10 rounded-lg bg-primary text-white flex items-center justify-center":"size-10 rounded-lg bg-white dark:bg-surface-dark border border-slate-200 dark:border-border-dark flex items-center justify-center hover:border-primary transition-colors"),D(2),de(t)}}function yz(n,e){if(n&1){let t=Ie();y(0,"button",26),U("click",function(){let i=j(t).$implicit,s=P(2);return B(s.editCategoryColor=i)}),y(1,"span",17),C(2,"circle"),_()()}if(n&2){let t=e.$implicit,r=P(2);Be(r.editCategoryColor===t?"size-10 rounded-lg bg-white dark:bg-surface-dark border-2 border-primary flex items-center justify-center":"size-10 rounded-lg bg-white dark:bg-surface-dark border border-slate-200 dark:border-border-dark flex items-center justify-center hover:border-primary transition-colors"),D(),Be(t)}}function vz(n,e){if(n&1){let t=Ie();y(0,"div",72),U("click",function(){j(t);let i=P();return B(i.closeCategoryModal())}),y(1,"div",73),U("click",function(i){return j(t),B(i.stopPropagation())}),y(2,"h3",74),C(3),_(),y(4,"div",75)(5,"div",98)(6,"div",99)(7,"span",100),C(8),_(),y(9,"span",101),C(10),_()()(),y(11,"div")(12,"label",87),C(13,"Category Name"),_(),y(14,"input",102),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.editCategoryName,i)||(s.editCategoryName=i),B(i)}),_()(),y(15,"div")(16,"label",103),C(17,"Icon"),_(),y(18,"div",104),it(19,mz,3,3,"button",105,Oa),_()(),y(21,"div")(22,"label",103),C(23,"Color"),_(),y(24,"div",106),it(25,yz,3,4,"button",105,Oa),_()()(),y(27,"div",91)(28,"button",92),U("click",function(){j(t);let i=P();return B(i.closeCategoryModal())}),C(29,"Cancel"),_(),y(30,"button",107),U("click",function(){j(t);let i=P();return B(i.saveCategory())}),C(31,"Save"),_()()()()}if(n&2){let t=P();D(3),de(t.editingCategory?"Edit Category":"Add Category"),D(4),Be(t.editCategoryColor),D(),de(t.editCategoryIcon),D(2),de(t.editCategoryName||"Category Name"),D(4),lt("ngModel",t.editCategoryName),D(5),st(t.availableIcons),D(6),st(t.availableColors)}}function _z(n,e){if(n&1&&et(0,"img",111),n&2){let t=P(2);me("src",t.selectedGroceryItem==null?null:t.selectedGroceryItem.imageUrl,un)}}function bz(n,e){n&1&&(y(0,"span",62),C(1,"grocery"),_())}function Cz(n,e){if(n&1&&(y(0,"option",90),C(1),_()),n&2){let t=e.$implicit;me("value",t.id),D(),wo("",t.name," (",t.points||0," pts)")}}function wz(n,e){if(n&1){let t=Ie();y(0,"div",72),U("click",function(){j(t);let i=P();return B(i.cancelAddToCart())}),y(1,"div",108),U("click",function(i){return j(t),B(i.stopPropagation())}),y(2,"h3",74),C(3,"Add to Cart"),_(),y(4,"div",75)(5,"div",109)(6,"div",110),Z(7,_z,1,1,"img",111)(8,bz,2,0,"span",62),_(),y(9,"div")(10,"p",112),C(11,"Item"),_(),y(12,"p",101),C(13),_()()(),y(14,"div")(15,"label",87),C(16,"Assignee "),y(17,"span",113),C(18,"*"),_()(),y(19,"select",114),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.taskAssigneeId,i)||(s.taskAssigneeId=i),B(i)}),y(20,"option",115),C(21,"Select an assignee"),_(),it(22,Cz,2,3,"option",90,_d),_()(),y(24,"div")(25,"label",87),C(26,"Note "),y(27,"span",113),C(28,"*"),_()(),y(29,"textarea",116),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.taskSpecialNote,i)||(s.taskSpecialNote=i),B(i)}),_()()(),y(30,"div",91)(31,"button",92),U("click",function(){j(t);let i=P();return B(i.cancelAddToCart())}),C(32,"Cancel"),_(),y(33,"button",107),U("click",function(){j(t);let i=P();return B(i.confirmAddToCart())}),C(34,"Add to Cart"),_()()()()}if(n&2){let t=P();D(7),J(t.selectedGroceryItem!=null&&t.selectedGroceryItem.imageUrl?7:8),D(6),de(t.selectedGroceryItem==null?null:t.selectedGroceryItem.name),D(6),lt("ngModel",t.taskAssigneeId),D(3),st(t.assignees()),D(7),lt("ngModel",t.taskSpecialNote)}}var ym=class n{groceryService=E(Pc);assigneeService=E(ii);imageService=E(Oc);dialogService=E(rr);overviewService=E(si);loadingService=E(wn);groceries=this.groceryService.groceries;groceriesByCategory=this.groceryService.groceriesByCategory;assignees=this.assigneeService.assignees;cartItems=this.groceryService.cartItems;checkedItems=this.groceryService.checkedItems;uncheckedItems=this.groceryService.uncheckedItems;searchQuery=this.groceryService.searchQuery;selectedCategory=this.groceryService.selectedCategory;sortBy=this.groceryService.sortBy;categories=this.groceryService.categories;categoryIds=this.groceryService.categoryIds;error=this.groceryService.error;isLoading=this.groceryService.isLoading;availableIcons=r2;availableColors=i2;newItemName="";showAddModal=!1;isAddingFromSidebar=!1;editingItem=null;editItemName="";editItemCategory="other";editItemImageUrl="";isUploadingImage=!1;showMobileCart=!1;showAddToCartModal=!1;selectedGroceryItem=null;taskAssigneeId="";taskSpecialNote="";toggleMobileCart(){this.showMobileCart=!this.showMobileCart}showCategoryModal=!1;editingCategory=null;editCategoryName="";editCategoryIcon="category";editCategoryColor="text-slate-400";sortOptions=[{value:"name",label:"Name"},{value:"category",label:"Category"},{value:"date",label:"Date Added"}];showSortDropdown=!1;openAddCategoryModal(){this.editingCategory=null,this.editCategoryName="",this.editCategoryIcon="category",this.editCategoryColor="text-slate-400",this.showCategoryModal=!0}startEditCategory(e){e.isDefault||(this.editingCategory=e,this.editCategoryName=e.name,this.editCategoryIcon=e.icon,this.editCategoryColor=e.color,this.showCategoryModal=!0)}saveCategory(){this.editCategoryName.trim()&&(this.loadingService.show("Saving category..."),this.editingCategory?this.groceryService.updateCategory$(this.editingCategory.id,{name:this.editCategoryName.trim(),icon:this.editCategoryIcon,color:this.editCategoryColor}).subscribe({next:()=>{this.loadingService.hide(),this.closeCategoryModal()},error:()=>this.loadingService.hide()}):this.groceryService.createCategory$({name:this.editCategoryName.trim(),icon:this.editCategoryIcon,color:this.editCategoryColor}).subscribe({next:()=>{this.loadingService.hide(),this.closeCategoryModal()},error:()=>this.loadingService.hide()}))}deleteCategory(e){let t=this.groceryService.getCategory(e);if(!t||t.isDefault)return;let r=this.groceryService.getItemCountInCategory(e);if(r>0){this.dialogService.alert$(`Cannot delete category "${t.name}" because it has ${r} item(s). Please move or delete the items first.`).subscribe();return}this.dialogService.confirm$(`Delete category "${t.name}"?`,"Delete Category").subscribe(i=>{if(i){let s=this.groceryService.deleteCategory(e);!s.success&&s.error&&this.dialogService.alert$(s.error).subscribe()}})}closeCategoryModal(){this.editingCategory=null,this.editCategoryName="",this.editCategoryIcon="category",this.editCategoryColor="text-slate-400",this.showCategoryModal=!1}onImageFileSelected(e){let t=e.target,r=t.files?.[0];if(r){if(!this.imageService.isValidImageFile(r)){this.dialogService.alert$("Please select a valid image file (JPEG, PNG, GIF, or WebP)").subscribe();return}this.isUploadingImage=!0,this.loadingService.show("Processing image..."),this.imageService.compressImage(r).then(i=>{this.editItemImageUrl=i}).catch(i=>{console.error("Error compressing image:",i),this.dialogService.alert$("Failed to process image. Please try again.").subscribe()}).finally(()=>{this.isUploadingImage=!1,this.loadingService.hide(),t.value=""})}}removeImage(){this.editItemImageUrl=""}onSearch(e){let t=e.target;this.groceryService.setSearchQuery(t.value)}onCategoryChange(e){this.groceryService.setCategory(e)}onSortChange(e){this.groceryService.setSortBy(e),this.showSortDropdown=!1}toggleSortDropdown(){this.showSortDropdown=!this.showSortDropdown}addItem(){this.newItemName.trim()&&this.groceryService.create$({name:this.newItemName.trim(),category:"other",isInCart:!1,isChecked:!1}).subscribe({next:()=>{this.newItemName=""},error:e=>{this.dialogService.alert$(e.message).subscribe()}})}addItemWithCategory(e,t){e.trim()&&this.groceryService.create$({name:e.trim(),category:t,isInCart:!1,isChecked:!1}).subscribe({error:r=>{this.dialogService.alert$(r.message).subscribe()}})}deleteItem(e){this.groceryService.delete$(e).subscribe()}startEdit(e){this.editingItem=e,this.editItemName=e.name,this.editItemCategory=e.category,this.editItemImageUrl=e.imageUrl||"",this.showAddModal=!0}openAddModal(e=!1){this.isAddingFromSidebar=e,this.editingItem=null,this.editItemName="",this.editItemCategory="other",this.editItemImageUrl="",this.showAddModal=!0}saveEdit(){this.editItemName.trim()&&(this.loadingService.show("Saving..."),this.editingItem?this.groceryService.update$(this.editingItem.id,{name:this.editItemName.trim(),category:this.editItemCategory,imageUrl:this.editItemImageUrl.trim()||void 0}).subscribe({next:()=>{this.loadingService.hide(),this.cancelEdit()},error:e=>{this.loadingService.hide(),this.dialogService.alert$(e.message).subscribe()}}):this.groceryService.create$({name:this.editItemName.trim(),category:this.editItemCategory,imageUrl:this.editItemImageUrl.trim()||void 0,isInCart:this.isAddingFromSidebar,isChecked:!1}).subscribe({next:()=>{this.isAddingFromSidebar&&this.createOverviewTask(this.editItemName.trim(),this.editItemImageUrl.trim()||void 0),this.loadingService.hide(),this.cancelEdit()},error:e=>{this.loadingService.hide(),this.dialogService.alert$(e.message).subscribe()}}))}cancelEdit(){this.editingItem=null,this.editItemName="",this.editItemCategory="other",this.editItemImageUrl="",this.showAddModal=!1}addToCart(e){let t=this.groceries().find(r=>r.id===e);t&&(this.selectedGroceryItem=t,this.taskAssigneeId="",this.taskSpecialNote="",setTimeout(()=>{this.showAddToCartModal=!0}))}confirmAddToCart(){if(!this.selectedGroceryItem)return;if(!this.taskAssigneeId){this.dialogService.alert$("Please select an assignee.").subscribe();return}if(!this.taskSpecialNote.trim()){this.dialogService.alert$("Please add a note for the task.").subscribe();return}let e=this.selectedGroceryItem;this.loadingService.show("Adding to cart..."),this.groceryService.addToCart$(e.id).subscribe({next:()=>{this.createOverviewTask(e.name,e.imageUrl,this.taskAssigneeId,this.taskSpecialNote),this.loadingService.hide(),this.cancelAddToCart()},error:t=>{this.loadingService.hide(),this.dialogService.alert$(t.message).subscribe()}})}cancelAddToCart(){this.showAddToCartModal=!1,this.selectedGroceryItem=null,this.taskAssigneeId="",this.taskSpecialNote=""}removeFromCart(e){let t=this.groceries().find(r=>r.id===e);this.groceryService.removeFromCart$(e).subscribe(()=>{t&&this.removeOverviewTask(t.name)})}toggleChecked(e){this.groceryService.toggleChecked$(e).subscribe()}clearCart(){let e=this.cartItems();this.loadingService.show("Clearing cart..."),this.groceryService.clearCart$().subscribe({next:()=>{for(let t of e)this.removeOverviewTask(t.name);this.loadingService.hide()},error:()=>this.loadingService.hide()})}checkout(){this.cartItems().length!==0&&this.dialogService.confirm$("Complete shopping trip and save to history?","Checkout").subscribe(e=>{e&&(this.loadingService.show("Saving to history..."),this.groceryService.saveToHistory$().subscribe({next:()=>{this.groceryService.clearCart$().subscribe({next:()=>this.loadingService.hide(),error:()=>this.loadingService.hide()})},error:t=>{console.error("Checkout failed",t),this.loadingService.hide(),this.dialogService.alert$("Failed to save history. Please check your connection.").subscribe()}}))})}getCategoryLabel(e){return this.groceryService.getCategoryLabel(e)}getCategoryIcon(e){return this.groceryService.getCategoryIcon(e)}getCategoryColor(e){return this.groceryService.getCategoryColor(e)}getItemCount(e){return this.groceriesByCategory()[e]?.length||0}getTotalCartItems(){return this.cartItems().length}getProgress(){let e=this.cartItems().length;return e===0?0:this.checkedItems().length/e*100}isDefaultCategory(e){return this.groceryService.getCategory(e)?.isDefault??!1}handleImageError(e){let t=e.target;t.src="https://placehold.co/200x200/cccccc/ffffff?text=No+Image"}resetData(){this.dialogService.confirm$("This will reset all grocery data to the default seed data. Continue?","Reset Data").subscribe(e=>{e&&(this.loadingService.show("Resetting data..."),this.groceryService.resetToSeedData$().subscribe({next:()=>this.loadingService.hide(),error:()=>this.loadingService.hide()}))})}removeDuplicates(){let e=this.groceryService.findDuplicateIds().length;if(e===0){this.dialogService.alert$("No duplicate items found.").subscribe();return}this.dialogService.confirm$(`Found ${e} duplicate item(s). Remove them?`,"Remove Duplicates").subscribe(t=>{t&&(this.loadingService.show("Removing duplicates..."),this.groceryService.removeDuplicates$().subscribe({next:r=>{this.loadingService.hide(),this.dialogService.alert$(`Removed ${r} duplicate item(s).`).subscribe()},error:r=>{this.loadingService.hide(),this.dialogService.alert$(r.message).subscribe()}}))})}createOverviewTask(e,t,r,i){let s=new Date;s.setDate(s.getDate()+3),this.overviewService.createTask$({title:e,category:"groceries",isCompleted:!1,dueDate:s,imageUrl:t,assigneeId:r,specialNote:i}).subscribe()}removeOverviewTask(e){let r=this.overviewService.tasks().find(i=>i.title===e&&i.category==="groceries");r&&this.overviewService.deleteTask$(r.id).subscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ct({type:n,selectors:[["app-groceries"]],hostAttrs:[1,"flex-1","h-screen","flex","flex-col","overflow-hidden"],decls:59,vars:12,consts:[["id","groceries-page",1,"flex","flex-col","h-screen","w-full","overflow-hidden"],["id","groceries-header",1,"flex","items-center","justify-between","whitespace-nowrap","border-b","border-solid","border-[#e5e7eb]","dark:border-border-dark","bg-white","dark:bg-background-dark","px-6","py-3","shrink-0","z-20"],[1,"flex","items-center","gap-4"],[1,"size-8","bg-primary","rounded-lg","flex","items-center","justify-center","text-white"],[1,"material-symbols-outlined","text-[20px]"],[1,"text-slate-900","dark:text-white","text-xl","font-bold","leading-tight","tracking-[-0.015em]"],[1,"flex","flex-1","justify-end","gap-6","items-center"],[1,"flex","gap-2"],["id","btn-remove-duplicates","title","Remove duplicate items",1,"flex","size-10","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","bg-slate-100","dark:bg-border-dark","text-slate-900","dark:text-white","hover:bg-amber-500","hover:text-white","transition-colors",3,"click"],["id","btn-reset","title","Reset to seed data",1,"flex","size-10","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","bg-slate-100","dark:bg-border-dark","text-slate-900","dark:text-white","hover:bg-red-500","hover:text-white","transition-colors",3,"click"],[1,"flex","flex-1","min-h-0"],["id","groceries-main-content",1,"flex-1","min-w-0","overflow-y-auto","bg-background-light","dark:bg-background-dark","relative"],[1,"w-full","mx-auto","px-6","py-8","flex","flex-col","gap-6"],[1,"bg-red-50","dark:bg-red-900/20","border-l-4","border-red-500","p-4","rounded-r-lg"],[1,"flex","flex-col","md:flex-row","gap-4"],[1,"flex-1","relative","group"],[1,"absolute","left-4","top-1/2","-translate-y-1/2","text-slate-400"],[1,"material-symbols-outlined"],["id","groceries-search-input","placeholder","Search for items (e.g. Avocado, Milk)...","type","text",1,"w-full","h-12","pl-12","pr-4","bg-white","dark:bg-surface-dark","border","border-slate-200","dark:border-border-dark","rounded-xl","text-slate-900","dark:text-white","placeholder:text-slate-400","focus:outline-none","focus:ring-2","focus:ring-primary","focus:border-transparent","transition-all","shadow-sm",3,"input","value"],[1,"md:w-[350px]","relative","flex","gap-2"],[1,"flex-1","relative"],["id","groceries-quick-add-input","placeholder","Quick add item...","type","text",1,"w-full","h-12","pl-4","pr-12","bg-white","dark:bg-surface-dark","border","border-slate-200","dark:border-border-dark","rounded-xl","text-slate-900","dark:text-white","placeholder:text-slate-400","focus:outline-none","focus:ring-2","focus:ring-primary","focus:border-transparent","transition-all","shadow-sm",3,"ngModelChange","keyup.enter","ngModel"],["id","btn-quick-add",1,"absolute","right-2","top-2","size-8","bg-primary/10","hover:bg-primary/20","text-primary","rounded-lg","flex","items-center","justify-center","transition-colors",3,"click"],["id","btn-add-custom",1,"h-12","px-4","bg-primary","text-white","rounded-xl","flex","items-center","justify-center","gap-2","hover:bg-blue-600","transition-colors","shadow-lg","shadow-blue-500/20","whitespace-nowrap",3,"click"],[1,"hidden","sm:inline","font-semibold","text-sm"],["id","groceries-filter-chips",1,"flex","gap-3","overflow-x-auto","pb-2","scrollbar-hide","items-center"],[3,"click"],[1,"relative","group","shrink-0"],[1,"flex","h-9","shrink-0","items-center","justify-center","gap-x-2","rounded-lg","border-2","border-dashed","border-slate-300","dark:border-slate-600","px-4","hover:border-primary","hover:text-primary","transition-colors","text-slate-400",3,"click"],[1,"material-symbols-outlined","text-[18px]"],[1,"text-sm","font-medium"],[1,"flex","flex-col","items-center","justify-center","py-20","text-center","animate-in","fade-in","duration-300"],[1,"h-12"],["id","btn-mobile-cart",1,"xl:hidden","fixed","bottom-6","right-6","size-14","bg-primary","text-white","rounded-full","shadow-xl","shadow-blue-500/40","flex","items-center","justify-center","z-50",3,"click"],[1,"absolute","top-0","right-0","size-5","bg-red-500","rounded-full","border-2","border-background-light","dark:border-background-dark","text-[10px]","font-bold","flex","items-center","justify-center"],[1,"fixed","inset-0","bg-black/50","flex","items-center","justify-center","z-50"],[1,"flex"],[1,"flex-shrink-0"],[1,"material-symbols-outlined","text-red-500"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800","dark:text-red-200"],[1,"mt-2","text-sm","text-red-700","dark:text-red-300"],[1,"mt-1","font-semibold"],[1,"material-symbols-outlined","text-[16px]"],[1,"flex","items-center","gap-1","ml-1"],[1,"size-5","flex","items-center","justify-center","rounded","hover:bg-black/10","dark:hover:bg-white/10",3,"click"],[1,"material-symbols-outlined","text-[14px]"],[1,"size-5","flex","items-center","justify-center","rounded","hover:bg-red-500/20","text-red-500",3,"click"],[3,"id"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-bold","text-slate-900","dark:text-white","flex","items-center","gap-2"],[1,"text-xs","font-medium","text-slate-500","bg-slate-100","dark:bg-border-dark","px-2","py-1","rounded"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"group","bg-white","dark:bg-surface-dark","p-4","rounded-xl","border","border-slate-200","dark:border-border-dark","hover:border-primary/50","dark:hover:border-primary/50","transition-colors","shadow-sm","flex","items-center","justify-between"],[1,"size-12","rounded-lg","bg-slate-50","dark:bg-black/20","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","object-cover",3,"alt","src"],[1,"w-full","h-full","flex","items-center","justify-center"],[1,"font-semibold","text-slate-900","dark:text-white"],[1,"flex","items-center","gap-2"],["title","Add to cart",1,"size-9","bg-primary","text-white","rounded-lg","flex","items-center","justify-center","hover:bg-blue-600","transition-colors","shadow-lg","shadow-blue-500/20"],["title","Edit",1,"p-2","text-slate-400","hover:text-primary","rounded-full","hover:bg-slate-100","dark:hover:bg-border-dark","transition-colors",3,"click"],[1,"w-full","h-full","object-cover",3,"error","alt","src"],[1,"material-symbols-outlined","text-slate-400"],[1,"text-xs","text-green-500","font-medium"],["title","Remove from cart",1,"p-2","text-slate-400","hover:text-red-500","rounded-full","hover:bg-slate-100","dark:hover:bg-border-dark","transition-colors",3,"click"],["title","Add to cart",1,"size-9","bg-primary","text-white","rounded-lg","flex","items-center","justify-center","hover:bg-blue-600","transition-colors","shadow-lg","shadow-blue-500/20",3,"click"],[1,"size-24","rounded-full","bg-slate-100","dark:bg-black/20","flex","items-center","justify-center","mb-4"],[1,"material-symbols-outlined","text-4xl","text-slate-300"],[1,"text-lg","font-bold","text-slate-900","dark:text-white"],[1,"text-slate-500","dark:text-slate-400","mt-2","max-w-xs","mx-auto"],[1,"mt-6","text-primary","font-medium","hover:underline"],[1,"mt-6","text-primary","font-medium","hover:underline",3,"click"],[1,"fixed","inset-0","bg-black/50","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","dark:bg-surface-dark","rounded-2xl","p-6","w-full","max-w-md","shadow-2xl",3,"click"],[1,"text-lg","font-bold","text-slate-900","dark:text-white","mb-4"],[1,"space-y-4"],[1,"flex","flex-col","items-center","gap-3"],[1,"relative"],[1,"size-24","rounded-xl","bg-slate-100","dark:bg-black/20","overflow-hidden","flex","items-center","justify-center"],[1,"flex","flex-col","items-center"],["alt","Preview",1,"w-full","h-full","object-cover",3,"src"],[1,"material-symbols-outlined","text-4xl","text-slate-400"],[1,"absolute","-top-2","-right-2","size-6","bg-red-500","text-white","rounded-full","flex","items-center","justify-center","hover:bg-red-600","transition-colors","shadow-lg"],[1,"cursor-pointer"],["type","file","accept","image/jpeg,image/png,image/gif,image/webp",1,"hidden",3,"change","disabled"],[1,"flex","items-center","gap-2","px-4","py-2","bg-slate-100","dark:bg-border-dark","text-slate-600","dark:text-slate-300","rounded-lg","hover:bg-slate-200","dark:hover:bg-slate-600","transition-colors","text-sm","font-medium"],[1,"text-xs","text-slate-400"],[1,"block","text-sm","font-medium","text-slate-700","dark:text-slate-300","mb-1"],["type","text","placeholder","Enter item name...",1,"w-full","h-12","px-4","bg-white","dark:bg-background-dark","border","border-slate-200","dark:border-border-dark","rounded-xl","text-slate-900","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-primary",3,"ngModelChange","ngModel"],[1,"w-full","h-12","px-4","bg-white","dark:bg-background-dark","border","border-slate-200","dark:border-border-dark","rounded-xl","text-slate-900","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-primary",3,"ngModelChange","ngModel"],[3,"value"],[1,"flex","gap-3","mt-6"],[1,"flex-1","h-10","rounded-lg","border","border-slate-200","dark:border-border-dark","text-slate-600","dark:text-slate-300","font-semibold","text-sm","hover:bg-slate-50","dark:hover:bg-border-dark","transition-colors",3,"click"],[1,"flex-1","h-10","rounded-lg","bg-primary","text-white","font-semibold","text-sm","hover:bg-blue-600","shadow-lg","shadow-blue-500/20","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"material-symbols-outlined","text-2xl","text-primary","animate-spin"],[1,"text-xs","text-slate-400","mt-1"],["alt","Preview",1,"w-full","h-full","object-cover",3,"error","src"],[1,"absolute","-top-2","-right-2","size-6","bg-red-500","text-white","rounded-full","flex","items-center","justify-center","hover:bg-red-600","transition-colors","shadow-lg",3,"click"],[1,"flex","justify-center"],[1,"flex","items-center","gap-3","px-6","py-3","rounded-xl","bg-slate-100","dark:bg-black/20"],[1,"material-symbols-outlined","text-2xl"],[1,"font-bold","text-slate-900","dark:text-white"],["type","text","placeholder","e.g., Frozen Foods, Beverages...",1,"w-full","h-12","px-4","bg-white","dark:bg-background-dark","border","border-slate-200","dark:border-border-dark","rounded-xl","text-slate-900","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-primary",3,"ngModelChange","ngModel"],[1,"block","text-sm","font-medium","text-slate-700","dark:text-slate-300","mb-2"],[1,"flex","flex-wrap","gap-2","max-h-24","overflow-y-auto","p-2","bg-slate-50","dark:bg-black/20","rounded-xl"],[3,"class"],[1,"flex","flex-wrap","gap-2","p-2","bg-slate-50","dark:bg-black/20","rounded-xl"],[1,"flex-1","h-10","rounded-lg","bg-primary","text-white","font-semibold","text-sm","hover:bg-blue-600","shadow-lg","shadow-blue-500/20","transition-colors",3,"click"],[1,"bg-white","dark:bg-surface-dark","rounded-2xl","p-6","w-full","max-w-md","shadow-2xl","animate-in","zoom-in-95","duration-200",3,"click"],[1,"p-3","bg-slate-50","dark:bg-black/20","rounded-xl","flex","items-center","gap-3"],[1,"size-10","rounded-lg","bg-white","dark:bg-surface-dark","overflow-hidden","flex-shrink-0","border","border-slate-200","dark:border-border-dark","flex","items-center","justify-center"],[1,"w-full","h-full","object-cover",3,"src"],[1,"text-xs","text-slate-500","font-medium","uppercase"],[1,"text-red-500"],[1,"w-full","h-12","px-4","bg-white","dark:bg-background-dark","border","border-slate-200","dark:border-border-dark","rounded-xl","text-slate-900","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-primary","appearance-none",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["placeholder","Add a note (e.g., brand preference, quantity)...",1,"w-full","h-24","p-4","bg-white","dark:bg-background-dark","border","border-slate-200","dark:border-border-dark","rounded-xl","text-slate-900","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-primary","resize-none","placeholder:text-slate-400",3,"ngModelChange","ngModel"]],template:function(t,r){t&1&&(y(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"span",4),C(5,"shopping_basket"),_()(),y(6,"h2",5),C(7,"Groceries"),_()(),y(8,"div",6)(9,"div",7)(10,"button",8),U("click",function(){return r.removeDuplicates()}),y(11,"span",4),C(12,"delete_sweep"),_()(),y(13,"button",9),U("click",function(){return r.resetData()}),y(14,"span",4),C(15,"restart_alt"),_()()()()(),y(16,"div",10)(17,"main",11)(18,"div",12),Z(19,Z7,13,1,"div",13),y(20,"div",14)(21,"div",15)(22,"div",16)(23,"span",17),C(24,"search"),_()(),y(25,"input",18),U("input",function(s){return r.onSearch(s)}),_()(),y(26,"div",19)(27,"div",20)(28,"input",21),ut("ngModelChange",function(s){return vt(r.newItemName,s)||(r.newItemName=s),s}),U("keyup.enter",function(){return r.addItem()}),_(),y(29,"button",22),U("click",function(){return r.addItem()}),y(30,"span",4),C(31,"add"),_()()(),y(32,"button",23),U("click",function(){return r.openAddModal()}),y(33,"span",4),C(34,"add_circle"),_(),y(35,"span",24),C(36,"New"),_()()()(),y(37,"div",25)(38,"button",26),U("click",function(){return r.onCategoryChange("all")}),y(39,"p"),C(40," All Items "),_()(),it(41,X7,7,9,"div",27,_d),y(43,"button",28),U("click",function(){return r.openAddCategoryModal()}),y(44,"span",29),C(45,"add"),_(),y(46,"span",30),C(47,"Add Category"),_()()(),it(48,oz,1,1,null,null,_d),Z(50,cz,9,1,"div",31),et(51,"div",32),_()(),y(52,"button",33),U("click",function(){return r.toggleMobileCart()}),y(53,"span",17),C(54,"shopping_cart"),_(),Z(55,lz,2,1,"span",34),_()(),Z(56,gz,35,8,"div",35),Z(57,vz,32,6,"div",35),_(),Z(58,wz,35,4,"div",35)),t&2&&(D(19),J(r.error()?19:-1),D(6),me("value",r.searchQuery()),D(3),lt("ngModel",r.newItemName),D(10),Be(r.selectedCategory()==="all"?"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-slate-900 dark:bg-white px-4 hover:opacity-90 transition-opacity":"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-white dark:bg-surface-dark border border-slate-200 dark:border-border-dark px-4 hover:bg-slate-50 dark:hover:bg-border-dark transition-colors"),D(),Be(r.selectedCategory()==="all"?"text-white dark:text-slate-900 text-sm font-bold":"text-slate-600 dark:text-slate-300 text-sm font-medium"),D(2),st(r.categories()),D(7),st(r.categories()),D(2),J(r.groceries().length===0&&!r.isLoading()?50:-1),D(5),J(r.getTotalCartItems()>0?55:-1),D(),J(r.showAddModal?56:-1),D(),J(r.showCategoryModal?57:-1),D(),J(r.showAddToCartModal?58:-1))},dependencies:[bn,Fs,Rc,Mc,ri,Os,Ps,Ui],styles:["#groceries-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;height:100%;overflow:hidden}#groceries-main-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden}#groceries-main-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}#groceries-main-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}#groceries-main-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9ca3af66;border-radius:4px}#groceries-main-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#9ca3af99}#shopping-list-sidebar[_ngcontent-%COMP%]{max-height:100%;height:100%}#cart-items-container[_ngcontent-%COMP%]{flex:1 1 0%;min-height:0;max-height:calc(100vh - 280px);overflow-y:auto}#cart-items-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}#cart-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}#cart-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9ca3af80;border-radius:3px}#cart-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#9ca3afb3}"]})};var s2=[{value:"admin",label:"Admin",colorClass:"bg-primary/10 text-primary border-primary/20"},{value:"member",label:"Member",colorClass:"bg-surface-dark text-slate-300 border-border-dark"},{value:"guest",label:"Guest",colorClass:"bg-surface-dark text-text-muted border-border-dark"}];var o2=(n,e)=>e.value,Iz=(n,e)=>e.id;function Ez(n,e){if(n&1&&(y(0,"option",22),C(1),_()),n&2){let t=e.$implicit;me("value",t.value),D(),de(t.label)}}function Dz(n,e){if(n&1&&(y(0,"div",43),C(1),_()),n&2){let t=P().$implicit;D(),de(t.name.charAt(0).toUpperCase())}}function Sz(n,e){if(n&1){let t=Ie();y(0,"tr",36)(1,"td",41)(2,"div",5)(3,"div",42),Z(4,Dz,2,1,"div",43),_(),y(5,"div",44)(6,"span",45),C(7),_()()()(),y(8,"td",41)(9,"span",46),C(10),_()(),y(11,"td",41)(12,"div",47),et(13,"div",48),y(14,"span",49),C(15),_()()(),y(16,"td",41)(17,"span",50),C(18),Hl(19,"date"),_()(),y(20,"td",51)(21,"div",52)(22,"button",53),U("click",function(){let i=j(t).$implicit,s=P();return B(s.openLoginModal(i))}),y(23,"span",9),C(24,"login"),_()(),y(25,"button",54),U("click",function(){let i=j(t).$implicit,s=P();return B(s.openEditModal(i))}),y(26,"span",9),C(27,"edit"),_()(),y(28,"button",55),U("click",function(){let i=j(t).$implicit,s=P();return B(s.deleteUser(i))}),y(29,"span",9),C(30,"delete"),_()()()()()}if(n&2){let t,r,i,s=e.$implicit,o=P();D(3),Co("background-image",s.avatarUrl?"url("+s.avatarUrl+")":""),D(),J(s.avatarUrl?-1:4),D(3),de(s.name),D(2),Be(o.getRoleClass(s.role)),D(),Ne(" ",o.getRoleLabel(s.role)," "),D(3),Be(o.getStatusColor(s.status)),D(),Vt("text-primary",s.status==="pending")("text-white",s.status!=="pending"),D(),Ne(" ",o.getStatusLabel(s.status)," "),D(3),Ne(" ",s.lastActive?zl(19,19,s.lastActive,"short"):"Never"," "),D(4),me("title",((t=o.currentUser())==null?null:t.id)===s.id?"Currently Logged In":"Switch to User")("disabled",((r=o.currentUser())==null?null:r.id)===s.id),D(),Vt("text-primary",((i=o.currentUser())==null?null:i.id)===s.id)}}function xz(n,e){n&1&&(y(0,"tr")(1,"td",56)(2,"span",57),C(3,"person_off"),_(),y(4,"p"),C(5,"No users found matching your criteria."),_()()())}function Tz(n,e){if(n&1&&et(0,"img",65),n&2){let t=P(2);me("src",t.formAvatarUrl,un)}}function Az(n,e){n&1&&(y(0,"span",66),C(1,"person"),_())}function kz(n,e){if(n&1){let t=Ie();y(0,"button",80),U("click",function(i){j(t);let s=P(2);return B(s.removeAvatar(i))}),y(1,"span",81),C(2,"close"),_()()}}function Rz(n,e){if(n&1&&(y(0,"option",22),C(1),_()),n&2){let t=e.$implicit;me("value",t.value),D(),de(t.label)}}function Mz(n,e){if(n&1){let t=Ie();y(0,"div")(1,"label",73),C(2,"Status"),_(),y(3,"select",76),ut("ngModelChange",function(i){j(t);let s=P(2);return vt(s.formStatus,i)||(s.formStatus=i),B(i)}),y(4,"option",24),C(5,"Active"),_(),y(6,"option",26),C(7,"Inactive"),_(),y(8,"option",25),C(9,"Pending"),_(),y(10,"option",28),C(11,"Away"),_(),y(12,"option",27),C(13,"Offline"),_()()()}if(n&2){let t=P(2);D(3),lt("ngModel",t.formStatus)}}function Nz(n,e){if(n&1){let t=Ie();y(0,"div",40)(1,"div",58)(2,"div",59)(3,"h3",60),C(4),_(),y(5,"button",61),U("click",function(){j(t);let i=P();return B(i.closeModal())}),y(6,"span",7),C(7,"close"),_()()(),y(8,"div",62)(9,"div",63)(10,"div",64),U("click",function(){j(t);let i=zv(23);return B(i.click())}),Z(11,Tz,1,1,"img",65)(12,Az,2,0,"span",66),y(13,"div",67)(14,"span",68),C(15,"upload"),_()(),Z(16,kz,3,0,"button",69),_(),y(17,"div",44)(18,"span",70),C(19,"Profile Photo"),_(),y(20,"span",71),C(21,"Click to upload"),_()(),y(22,"input",72,0),U("change",function(i){j(t);let s=P();return B(s.onAvatarSelected(i))}),_()(),y(24,"div")(25,"label",73),C(26,"Full Name"),_(),y(27,"input",74),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.formName,i)||(s.formName=i),B(i)}),_()(),y(28,"div")(29,"label",73),C(30),_(),y(31,"input",75),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.formPassword,i)||(s.formPassword=i),B(i)}),_()(),y(32,"div")(33,"label",73),C(34,"Role"),_(),y(35,"select",76),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.formRole,i)||(s.formRole=i),B(i)}),it(36,Rz,2,2,"option",22,o2),_()(),Z(38,Mz,14,1,"div"),_(),y(39,"div",77)(40,"button",78),U("click",function(){j(t);let i=P();return B(i.closeModal())}),C(41,"Cancel"),_(),y(42,"button",79),U("click",function(){j(t);let i=P();return B(i.saveUser())}),C(43,"Save User"),_()()()()}if(n&2){let t=P();D(4),de(t.editingUser?"Edit User":"New User"),D(7),J(t.formAvatarUrl?11:12),D(5),J(t.formAvatarUrl?16:-1),D(11),lt("ngModel",t.formName),D(3),de(t.editingUser?"New Password (Optional)":"Password"),D(),lt("ngModel",t.formPassword),me("placeholder",t.editingUser?"Leave blank to keep current":"Enter password"),D(4),lt("ngModel",t.formRole),D(),st(t.userRoles),D(2),J(t.editingUser?38:-1)}}function Pz(n,e){if(n&1&&(y(0,"p",86),C(1),_()),n&2){let t=P(2);D(),de(t.loginError)}}function Oz(n,e){if(n&1){let t=Ie();y(0,"div",40)(1,"div",82)(2,"div",59)(3,"h3",60),C(4),_(),y(5,"button",61),U("click",function(){j(t);let i=P();return B(i.closeLoginModal())}),y(6,"span",7),C(7,"close"),_()()(),y(8,"div",62)(9,"div",83)(10,"div",84),et(11,"img",65),_()(),y(12,"div")(13,"label",73),C(14,"Password"),_(),y(15,"input",85),ut("ngModelChange",function(i){j(t);let s=P();return vt(s.loginPasswordInput,i)||(s.loginPasswordInput=i),B(i)}),U("keyup.enter",function(){j(t);let i=P();return B(i.attemptLogin())}),_(),Z(16,Pz,2,1,"p",86),_()(),y(17,"div",77)(18,"button",78),U("click",function(){j(t);let i=P();return B(i.closeLoginModal())}),C(19,"Cancel"),_(),y(20,"button",79),U("click",function(){j(t);let i=P();return B(i.attemptLogin())}),C(21,"Login"),_()()()()}if(n&2){let t=P();D(4),Ne("Login as ",t.loginTargetUser==null?null:t.loginTargetUser.name),D(7),me("src",(t.loginTargetUser==null?null:t.loginTargetUser.avatarUrl)||"https://ui-avatars.com/api/?name="+(t.loginTargetUser==null?null:t.loginTargetUser.name)+"&background=random",un),D(4),lt("ngModel",t.loginPasswordInput),D(),J(t.loginError?16:-1)}}var vm=class n{userService=E(nr);dialogService=E(rr);imageService=E(Oc);loadingService=E(wn);cdr=E(Xt);users=this.userService.users;currentUser=this.userService.currentUser;userRoles=s2;showLoginModal=!1;loginTargetUser=null;loginPasswordInput="";loginError="";openLoginModal(e){this.loginTargetUser=e,this.loginPasswordInput="",this.loginError="",this.showLoginModal=!0,this.cdr.detectChanges()}closeLoginModal(){this.showLoginModal=!1,this.cdr.detectChanges()}attemptLogin(){if(!this.loginTargetUser)return;if((this.loginTargetUser.password||"")!==this.loginPasswordInput){this.loginError="Incorrect password";return}this.loadingService.show("Logging in..."),this.userService.login$(this.loginTargetUser).subscribe({next:()=>{this.loadingService.hide(),this.closeLoginModal()},error:()=>{this.loadingService.hide(),this.closeLoginModal()}})}searchQuery=te("");roleFilter=te("All");statusFilter=te("All");filteredUsers=xe(()=>{let e=this.users(),t=this.searchQuery().toLowerCase(),r=this.roleFilter(),i=this.statusFilter();return t&&(e=e.filter(s=>s.name.toLowerCase().includes(t))),r!=="All"&&(e=e.filter(s=>s.role===r)),i!=="All"&&(e=e.filter(s=>s.status===i)),e});showModal=!1;editingUser=null;formName="";formPassword="";formRole="member";formStatus="active";formAvatarUrl="";openAddModal(){this.editingUser=null,this.resetForm(),this.showModal=!0,this.cdr.detectChanges()}openEditModal(e){this.editingUser=e,this.formName=e.name,this.formRole=e.role,this.formStatus=e.status,this.formAvatarUrl=e.avatarUrl||"",this.showModal=!0,this.cdr.detectChanges()}closeModal(){this.showModal=!1,this.cdr.detectChanges()}resetForm(){this.formName="",this.formPassword="",this.formRole="member",this.formStatus="active",this.formAvatarUrl=""}removeAvatar(e){e.stopPropagation(),this.formAvatarUrl=""}saveUser(){if(this.formName.trim())if(this.loadingService.show("Saving user..."),this.editingUser){let e={name:this.formName,role:this.formRole,status:this.formStatus,avatarUrl:this.formAvatarUrl};this.formPassword&&(e.password=this.formPassword),this.userService.updateUser$(this.editingUser.id,e).subscribe({next:()=>{this.loadingService.hide(),this.closeModal()},error:()=>this.loadingService.hide()})}else this.userService.createUser$({name:this.formName,password:this.formPassword,role:this.formRole,status:"pending",avatarUrl:this.formAvatarUrl||`https://ui-avatars.com/api/?name=${this.formName}&background=random`}).subscribe({next:()=>{this.loadingService.hide(),this.closeModal()},error:()=>this.loadingService.hide()})}deleteUser(e){this.dialogService.confirm$(`Delete user ${e.name}?`,"Delete User").subscribe(t=>{t&&(this.loadingService.show("Deleting user..."),this.userService.deleteUser$(e.id).subscribe({next:()=>this.loadingService.hide(),error:()=>this.loadingService.hide()}))})}getRoleLabel(e){return this.userRoles.find(t=>t.value===e)?.label||e}getRoleClass(e){return this.userRoles.find(t=>t.value===e)?.colorClass||"bg-gray-100 text-gray-800"}getStatusColor(e){switch(e){case"active":return"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]";case"away":return"bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.5)]";case"offline":return"bg-gray-500";case"pending":return"border-2 border-primary/50 border-t-transparent animate-spin";default:return"bg-gray-400"}}getStatusLabel(e){return e==="pending"?"Invited":e.charAt(0).toUpperCase()+e.slice(1)}onAvatarSelected(e){let t=e.target.files?.[0];t&&(this.loadingService.show("Processing image..."),this.imageService.compressImage(t).then(r=>{this.formAvatarUrl=r}).finally(()=>this.loadingService.hide()))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ct({type:n,selectors:[["app-users"]],decls:78,vars:7,consts:[["fileInput",""],[1,"flex-1","flex","flex-col","h-full","overflow-hidden","bg-background-light","dark:bg-background-dark","relative"],[1,"flex","items-center","justify-between","px-8","py-5","border-b","border-border-dark","bg-background-dark","sticky","top-0","z-10"],[1,"flex","flex-col","gap-1"],[1,"text-white","text-2xl","font-bold","leading-tight","tracking-tight"],[1,"flex","items-center","gap-4"],[1,"size-10","rounded-full","bg-surface-dark","hover:bg-border-dark","flex","items-center","justify-center","text-text-muted","hover:text-white","transition-colors"],[1,"material-symbols-outlined"],[1,"bg-primary","hover:bg-primary-hover","text-white","h-10","px-5","rounded-lg","text-sm","font-bold","flex","items-center","gap-2","transition-all","shadow-lg","shadow-primary/20",3,"click"],[1,"material-symbols-outlined","text-[20px]"],[1,"flex-1","overflow-y-auto","p-8"],[1,"max-w-[1200px]","mx-auto","flex","flex-col","gap-6"],[1,"text-text-muted","text-base","max-w-2xl"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-between","items-start","sm:items-center","bg-surface-dark","p-4","rounded-xl","border","border-border-dark"],[1,"relative","w-full","sm:max-w-md","group"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"material-symbols-outlined","text-text-muted","group-focus-within:text-primary","transition-colors"],["placeholder","Search users by name...","type","text",1,"block","w-full","pl-10","pr-3","py-2.5","border","border-border-dark","rounded-lg","leading-5","bg-background-dark","text-white","placeholder-text-muted","focus:outline-none","focus:ring-1","focus:ring-primary","focus:border-primary","sm:text-sm","transition-all",3,"ngModelChange","ngModel"],[1,"flex","gap-3","w-full","sm:w-auto"],[1,"relative"],[1,"appearance-none","bg-background-dark","border","border-border-dark","text-white","text-sm","rounded-lg","focus:ring-primary","focus:border-primary","block","w-full","pl-3","pr-10","py-2.5","cursor-pointer","hover:border-slate-600","transition-colors",3,"ngModelChange","ngModel"],["value","All"],[3,"value"],[1,"pointer-events-none","absolute","inset-y-0","right-0","flex","items-center","px-2","text-text-muted"],["value","active"],["value","pending"],["value","inactive"],["value","offline"],["value","away"],[1,"bg-surface-dark","rounded-xl","border","border-border-dark","overflow-hidden","shadow-sm"],[1,"overflow-x-auto"],[1,"w-full","text-left","border-collapse"],[1,"border-b","border-border-dark","bg-surface-dark"],[1,"py-4","px-6","text-xs","font-semibold","uppercase","tracking-wider","text-text-muted"],[1,"py-4","px-6","text-xs","font-semibold","uppercase","tracking-wider","text-text-muted","text-right"],[1,"divide-y","divide-border-dark"],[1,"hover:bg-slate-800","transition-colors","group"],[1,"px-6","py-4","border-t","border-border-dark","bg-surface-dark","flex","items-center","justify-between"],[1,"text-sm","text-text-muted"],[1,"font-medium","text-white"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","p-4","bg-black/50","backdrop-blur-sm","animate-in","fade-in","duration-200"],[1,"py-4","px-6","whitespace-nowrap"],[1,"bg-center","bg-no-repeat","bg-cover","rounded-full","size-10","border","border-border-dark","bg-surface-dark","relative","overflow-hidden"],[1,"absolute","inset-0","flex","items-center","justify-center","text-xs","font-bold","text-text-muted","bg-border-dark"],[1,"flex","flex-col"],[1,"text-white","text-sm","font-semibold"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","border"],[1,"flex","items-center","gap-2"],[1,"h-2","w-2","rounded-full"],[1,"text-sm"],[1,"text-text-muted","text-sm"],[1,"py-4","px-6","whitespace-nowrap","text-right"],[1,"flex","items-center","justify-end","gap-2","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"p-2","text-text-muted","hover:text-white","hover:bg-border-dark","rounded-lg","transition-colors",3,"click","title","disabled"],["title","Edit User",1,"p-2","text-text-muted","hover:text-white","hover:bg-border-dark","rounded-lg","transition-colors",3,"click"],["title","Delete User",1,"p-2","text-text-muted","hover:text-red-400","hover:bg-border-dark","rounded-lg","transition-colors",3,"click"],["colspan","5",1,"py-12","text-center","text-text-muted"],[1,"material-symbols-outlined","text-4xl","mb-2","opacity-50"],[1,"bg-surface-dark","border","border-border-dark","w-full","max-w-md","rounded-xl","shadow-2xl","overflow-hidden","animate-in","zoom-in-95","duration-200"],[1,"p-6","border-b","border-border-dark","flex","justify-between","items-center","bg-background-dark"],[1,"font-bold","text-lg","text-white"],[1,"p-1","rounded-full","hover:bg-border-dark","text-text-muted","hover:text-white","transition-colors",3,"click"],[1,"p-6","space-y-4"],[1,"flex","items-center","gap-4","pb-2","border-b","border-border-dark"],[1,"relative","size-14","rounded-full","bg-background-dark","border","border-border-dark","overflow-hidden","flex","items-center","justify-center","group","cursor-pointer",3,"click"],[1,"w-full","h-full","object-cover",3,"src"],[1,"material-symbols-outlined","text-text-muted","text-2xl"],[1,"absolute","inset-0","bg-black/50","flex","items-center","justify-center","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"material-symbols-outlined","text-white","text-sm"],["title","Remove Photo",1,"absolute","top-0","right-0","bg-red-500","rounded-full","p-0.5","text-white","z-20","hover:bg-red-600","transition-colors","shadow-sm","flex","items-center","justify-center","transform","translate-x-1/4","-translate-y-1/4"],[1,"text-xs","font-semibold","uppercase","text-text-muted"],[1,"text-xs","text-text-muted"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"block","text-xs","font-semibold","uppercase","text-text-muted","mb-1.5"],["type","text","placeholder","e.g. Alex Johnson",1,"w-full","bg-background-dark","border","border-border-dark","rounded-lg","px-4","py-2.5","text-white","focus:outline-none","focus:border-primary","focus:ring-1","focus:ring-primary","transition-all",3,"ngModelChange","ngModel"],["type","password",1,"w-full","bg-background-dark","border","border-border-dark","rounded-lg","px-4","py-2.5","text-white","focus:outline-none","focus:border-primary","focus:ring-1","focus:ring-primary","transition-all",3,"ngModelChange","ngModel","placeholder"],[1,"w-full","bg-background-dark","border","border-border-dark","rounded-lg","px-4","py-2.5","text-white","focus:outline-none","focus:border-primary","focus:ring-1","focus:ring-primary","transition-all","appearance-none",3,"ngModelChange","ngModel"],[1,"p-4","bg-background-dark","border-t","border-border-dark","flex","justify-end","gap-3"],[1,"px-5","py-2.5","rounded-lg","border","border-border-dark","text-text-muted","font-bold","text-sm","hover:text-white","hover:border-white","transition-colors",3,"click"],[1,"px-5","py-2.5","rounded-lg","bg-primary","text-white","font-bold","text-sm","hover:bg-primary-hover","transition-colors","shadow-lg","shadow-primary/20",3,"click"],["title","Remove Photo",1,"absolute","top-0","right-0","bg-red-500","rounded-full","p-0.5","text-white","z-20","hover:bg-red-600","transition-colors","shadow-sm","flex","items-center","justify-center","transform","translate-x-1/4","-translate-y-1/4",3,"click"],[1,"material-symbols-outlined","text-[10px]","font-bold"],[1,"bg-surface-dark","border","border-border-dark","w-full","max-w-sm","rounded-xl","shadow-2xl","overflow-hidden","animate-in","zoom-in-95","duration-200"],[1,"flex","justify-center","mb-4"],[1,"relative","size-20","rounded-full","border-2","border-border-dark","overflow-hidden"],["type","password","placeholder","Enter password","autofocus","",1,"w-full","bg-background-dark","border","border-border-dark","rounded-lg","px-4","py-2.5","text-white","focus:outline-none","focus:border-primary","focus:ring-1","focus:ring-primary","transition-all",3,"ngModelChange","keyup.enter","ngModel"],[1,"text-red-400","text-xs","mt-1"]],template:function(t,r){t&1&&(y(0,"div",1)(1,"header",2)(2,"div",3)(3,"h2",4),C(4,"User Management"),_()(),y(5,"div",5)(6,"button",6)(7,"span",7),C(8,"notifications"),_()(),y(9,"button",8),U("click",function(){return r.openAddModal()}),y(10,"span",9),C(11,"add"),_(),y(12,"span"),C(13,"Add New User"),_()()()(),y(14,"div",10)(15,"div",11)(16,"p",12),C(17," Manage access and roles for your household members. You can invite new family members, assign tasks, and control permissions. "),_(),y(18,"div",13)(19,"div",14)(20,"div",15)(21,"span",16),C(22,"search"),_()(),y(23,"input",17),U("ngModelChange",function(s){return r.searchQuery.set(s)}),_()(),y(24,"div",18)(25,"div",19)(26,"select",20),U("ngModelChange",function(s){return r.roleFilter.set(s)}),y(27,"option",21),C(28,"All Roles"),_(),it(29,Ez,2,2,"option",22,o2),_(),y(31,"div",23)(32,"span",9),C(33,"expand_more"),_()()(),y(34,"div",19)(35,"select",20),U("ngModelChange",function(s){return r.statusFilter.set(s)}),y(36,"option",21),C(37,"All Status"),_(),y(38,"option",24),C(39,"Active"),_(),y(40,"option",25),C(41,"Pending"),_(),y(42,"option",26),C(43,"Inactive"),_(),y(44,"option",27),C(45,"Offline"),_(),y(46,"option",28),C(47,"Away"),_()(),y(48,"div",23)(49,"span",9),C(50,"expand_more"),_()()()()(),y(51,"div",29)(52,"div",30)(53,"table",31)(54,"thead")(55,"tr",32)(56,"th",33),C(57,"User"),_(),y(58,"th",33),C(59,"Role"),_(),y(60,"th",33),C(61,"Status"),_(),y(62,"th",33),C(63,"Last Active"),_(),y(64,"th",34),C(65,"Actions"),_()()(),y(66,"tbody",35),it(67,Sz,31,22,"tr",36,Iz,!1,xz,6,0,"tr"),_()()(),y(70,"div",37)(71,"p",38),C(72,"Showing "),y(73,"span",39),C(74),_(),C(75," users"),_()()()()(),Z(76,Nz,44,9,"div",40),Z(77,Oz,22,4,"div",40),_()),t&2&&(D(23),me("ngModel",r.searchQuery()),D(3),me("ngModel",r.roleFilter()),D(3),st(r.userRoles),D(6),me("ngModel",r.statusFilter()),D(32),st(r.filteredUsers()),D(7),de(r.filteredUsers().length),D(2),J(r.showModal?76:-1),D(),J(r.showLoginModal?77:-1))},dependencies:[bn,Fs,Rc,Mc,ri,Os,Ps,Ui,Jl],encapsulation:2})};var a2=[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"overview",component:gm},{path:"groceries",component:ym},{path:"users",component:vm}];var c2={providers:[A0(),M_(a2),f1(()=>p1(tP.firebase)),ZN(()=>XN()),fR(()=>pR())]};function Fz(n,e){if(n&1&&(Lt(0,"h3",4),C(1),Jt()),n&2){let t=P();D(),de(t.title)}}function Lz(n,e){if(n&1){let t=Ie();Lt(0,"button",9),La("click",function(){j(t);let i=P(2);return B(i.cancel())}),C(1),Jt()}if(n&2){let t=P();D(),Ne(" ",t.cancelText||"Cancel"," ")}}function Vz(n,e){if(n&1){let t=Ie();Lt(0,"div",0)(1,"div",1),La("click",function(){let i=j(t),s=P();return B(i.type==="confirm"?s.cancel():s.confirm())}),Jt(),Lt(2,"div",2)(3,"div",3),Z(4,Fz,2,1,"h3",4),Lt(5,"p",5),C(6),Jt()(),Lt(7,"div",6),Z(8,Lz,2,1,"button",7),Lt(9,"button",8),La("click",function(){j(t);let i=P();return B(i.confirm())}),C(10),Jt()()()()}if(n&2){let t=e;D(4),J(t.title?4:-1),D(2),de(t.message),D(2),J(t.type==="confirm"?8:-1),D(),Vt("bg-rose-500",t.type==="error")("bg-primary",t.type!=="error"),D(),Ne(" ",t.confirmText||"OK"," ")}}var _m=class n{dialogService=E(rr);confirm(){this.dialogService.close(!0)}cancel(){this.dialogService.close(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ct({type:n,selectors:[["app-dialog"]],decls:1,vars:1,consts:[[1,"fixed","inset-0","z-[100]","flex","items-center","justify-center","p-4","bg-black/50","backdrop-blur-sm","animate-in","fade-in","duration-200"],[1,"absolute","inset-0",3,"click"],[1,"relative","bg-white","dark:bg-surface-dark","w-full","max-w-sm","rounded-2xl","shadow-xl","overflow-hidden","animate-in","zoom-in-95","duration-200","border","border-slate-200","dark:border-border-dark"],[1,"p-6"],[1,"text-xl","font-bold","text-slate-900","dark:text-white","mb-2"],[1,"text-slate-600","dark:text-slate-300","leading-relaxed"],[1,"p-4","bg-slate-50","dark:bg-black/20","flex","justify-end","gap-3"],[1,"px-4","py-2","rounded-lg","text-slate-600","dark:text-slate-400","font-bold","hover:bg-slate-200","dark:hover:bg-border-dark","transition-colors"],[1,"px-5","py-2","rounded-lg","text-slate-900","font-bold","hover:brightness-110","transition-all","shadow-lg","active:scale-95",3,"click"],[1,"px-4","py-2","rounded-lg","text-slate-600","dark:text-slate-400","font-bold","hover:bg-slate-200","dark:hover:bg-border-dark","transition-colors",3,"click"]],template:function(t,r){if(t&1&&Z(0,Vz,11,8,"div",0),t&2){let i;J((i=r.dialogService.dialog())?0:-1,i)}},dependencies:[bn],encapsulation:2})};var bm=class n{firestore=E(fn);COLLECTIONS=["groceries","categories","overview_tasks","assignees","shopping_history"];async migrateAllDataToUser(e){if(!e)return console.error("\u274C userId is required"),[];console.log(`\u{1F504} Starting data migration to userId: ${e}`);let t=[];for(let r of this.COLLECTIONS){let i=await this.migrateCollection(r,e);t.push(i)}return console.log("\u2705 Migration complete!",t),t}async migrateCollection(e,t){console.log(`  \u{1F4C1} Migrating collection: ${e}`);let r=0,i=0;try{let s=Bn(this.firestore,e),a=(await dI(s)).docs.map(async c=>{let u=c.data();if(u.userId===t){console.log(`    \u23ED\uFE0F Skipping ${c.id} (already has userId)`);return}if(u.userId==="system"&&e==="categories"){console.log(`    \u23ED\uFE0F Skipping ${c.id} (system category)`);return}try{await Sr(_t(this.firestore,e,c.id),{userId:t}),console.log(`    \u2705 Updated ${c.id}`),r++}catch(d){console.error(`    \u274C Error updating ${c.id}:`,d),i++}});await Promise.all(a)}catch(s){console.error(`  \u274C Error reading collection ${e}:`,s),i++}return console.log(`  \u{1F4CA} ${e}: ${r} updated, ${i} errors`),{collection:e,updated:r,errors:i}}async previewMigration(){console.log("\u{1F4CB} Preview of data to migrate:");for(let e of this.COLLECTIONS)try{let t=Bn(this.firestore,e),r=await dI(t),i=r.docs.filter(s=>{let o=s.data();return!o.userId||o.userId!=="system"&&e!=="categories"});console.log(`  \u{1F4C1} ${e}: ${i.length}/${r.docs.length} documents need migration`)}catch(t){console.error(`  \u274C Error reading ${e}:`,t)}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var Uz=(n,e)=>e.id;function jz(n,e){n&1&&(y(0,"h1",6),C(1,"HomeNeeds"),_())}function Bz(n,e){n&1&&(y(0,"p",7),C(1,"Manage your home effortlessly"),_())}function $z(n,e){if(n&1&&(y(0,"div",10)(1,"span",28),C(2),_(),y(3,"span",29),C(4),_()()),n&2){let t,r,i=P();D(2),de(((t=i.currentUser())==null?null:t.name)||"Guest"),D(2),de(((r=i.currentUser())==null?null:r.role)||"Visitor")}}function Hz(n,e){n&1&&(y(0,"span",15),C(1,"Overview"),_())}function zz(n,e){n&1&&(y(0,"span",18),C(1,"Groceries"),_())}function Gz(n,e){n&1&&(y(0,"span",18),C(1,"Users"),_())}function qz(n,e){n&1&&(y(0,"span",22),C(1,"Log Out"),_())}function Wz(n,e){if(n&1&&(y(0,"div",24)(1,"div",30)(2,"span",31),C(3,"pending_actions"),_(),y(4,"span",32),C(5,"Today"),_()(),y(6,"p",33),C(7),_(),y(8,"p",34),C(9,"Items Pending"),_()()),n&2){let t=P();D(7),de(t.pendingItemsCount())}}function Kz(n,e){if(n&1&&(y(0,"div",25)(1,"span",35),C(2,"pending_actions"),_(),y(3,"span",36),C(4),_()()),n&2){let t=P();D(4),de(t.pendingItemsCount())}}function Qz(n,e){n&1&&(y(0,"div",47)(1,"span",49),C(2,"lock"),_()())}function Yz(n,e){if(n&1){let t=Ie();y(0,"button",44),U("click",function(){let i=j(t).$implicit,s=P(3);return B(s.selectUser(i))}),y(1,"div",45),et(2,"img",46),Z(3,Qz,3,0,"div",47),_(),y(4,"span",48),C(5),_()()}if(n&2){let t=e.$implicit;D(2),me("src",t.avatarUrl||"https://ui-avatars.com/api/?name="+t.name+"&background=random",un),D(),J(t.password?3:-1),D(2),de(t.name)}}function Zz(n,e){if(n&1&&(y(0,"div",41),it(1,Yz,6,3,"button",43,Uz),_()),n&2){let t=P(2);D(),st(t.allUsers())}}function Jz(n,e){if(n&1&&(y(0,"p",55),C(1),_()),n&2){let t=P(3);D(),de(t.loginError())}}function Xz(n,e){if(n&1){let t=Ie();y(0,"div",42)(1,"div",50)(2,"div",51),et(3,"img",46),_(),y(4,"h3",52),C(5),_()(),y(6,"div",53)(7,"div")(8,"input",54),U("input",function(i){j(t);let s=P(2);return B(s.passwordInput.set(i.target.value))})("keyup.enter",function(){j(t);let i=P(2);return B(i.verifyLogin())}),_(),Z(9,Jz,2,1,"p",55),_(),y(10,"button",56),U("click",function(){j(t);let i=P(2);return B(i.verifyLogin())}),C(11,"Login"),_(),y(12,"button",57),U("click",function(){j(t);let i=P(2);return B(i.cancelPassword())}),C(13,"Back"),_()()()}if(n&2){let t,r,i=P(2);D(3),me("src",((t=i.selectedUser())==null?null:t.avatarUrl)||"https://ui-avatars.com/api/?name="+((t=i.selectedUser())==null?null:t.name)+"&background=random",un),D(2),de((r=i.selectedUser())==null?null:r.name),D(3),me("value",i.passwordInput()),D(),J(i.loginError()?9:-1)}}function eG(n,e){if(n&1&&(y(0,"div",27)(1,"div",37)(2,"div",38)(3,"h1",39),C(4,"Welcome Back"),_(),y(5,"p",40),C(6,"Who is using HomeNeeds?"),_()(),Z(7,Zz,3,0,"div",41)(8,Xz,14,4,"div",42),_()()),n&2){let t=P();D(7),J(t.loginStep()==="select"?7:8)}}var Cm=class n{title=te("frontend");overviewService=E(si);userService=E(nr);migrationService=E(bm);loadingService=E(wn);users=this.userService.users;allUsers=this.userService.allUsers;currentUser=this.userService.currentUser;loading=this.userService.loading;sidebarCollapsed=te(this.getSavedSidebarState());loginStep=te("select");selectedUser=te(null);passwordInput=te("");loginError=te("");pendingItemsCount=xe(()=>this.overviewService.tasks().filter(e=>!e.isCompleted).length);constructor(){window.userService=this.userService,window.migrationService=this.migrationService,window.loadingService=this.loadingService,Rn(()=>{let e=this.sidebarCollapsed();localStorage.setItem("sidebar-collapsed",JSON.stringify(e))})}getSavedSidebarState(){let e=localStorage.getItem("sidebar-collapsed");return e?JSON.parse(e):!1}toggleSidebar(){this.sidebarCollapsed.update(e=>!e)}selectUser(e){e.password?(this.selectedUser.set(e),this.loginStep.set("password"),this.passwordInput.set(""),this.loginError.set("")):this.userService.login$(e).subscribe()}cancelPassword(){this.loginStep.set("select"),this.selectedUser.set(null)}verifyLogin(){let e=this.selectedUser();e&&(e.password===this.passwordInput()?(this.userService.login$(e).subscribe(),this.loginStep.set("select"),this.selectedUser.set(null)):this.loginError.set("Incorrect password"))}logout(){this.userService.logout$().subscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ct({type:n,selectors:[["app-root"]],hostAttrs:[1,"w-full","h-screen","flex","overflow-hidden"],decls:42,vars:29,consts:[["id","app-sidebar"],["id","sidebar-toggle",1,"absolute","-right-3","top-6","z-10","w-6","h-6","bg-primary","rounded-full","flex","items-center","justify-center","shadow-lg","hover:bg-primary-hover","transition-all",3,"click","title"],[1,"material-symbols-outlined","text-white","text-sm",2,"font-size","16px"],[1,"flex","flex-col","mb-8"],[1,"flex","items-center","gap-2","mb-1"],[1,"material-symbols-outlined","text-primary",2,"font-size","32px"],[1,"text-2xl","font-extrabold","tracking-tight","whitespace-nowrap"],[1,"text-sm","text-slate-500","dark:text-text-muted"],["id","user-profile"],["alt","User avatar",1,"w-8","h-8","rounded-full","object-cover",3,"src","title"],[1,"flex","flex-col"],[2,"border-color","#54585e"],["id","main-nav",1,"flex","flex-col","gap-2"],["id","nav-overview","routerLink","/overview","routerLinkActive","bg-primary/10 text-primary-hover dark:text-primary",3,"title"],[1,"material-symbols-outlined","filled"],[1,"font-bold","text-sm"],["id","nav-groceries","routerLink","/groceries","routerLinkActive","bg-primary/10 text-primary-hover dark:text-primary",3,"title"],[1,"material-symbols-outlined","group-hover:text-slate-900","dark:group-hover:text-white","transition-colors"],[1,"font-medium","text-sm","group-hover:text-slate-900","dark:group-hover:text-white","transition-colors"],["id","nav-users","routerLink","/users","routerLinkActive","bg-primary/10 text-primary-hover dark:text-primary",3,"title"],["id","nav-logout",3,"click","title"],[1,"material-symbols-outlined","group-hover:text-red-500","dark:group-hover:text-red-400","transition-colors"],[1,"font-medium","text-sm","group-hover:text-red-500","dark:group-hover:text-red-400","transition-colors"],[1,"flex","flex-col","gap-4","mt-8"],["id","stats-card",1,"p-5","rounded-2xl","bg-surface-dark/40","border","border-border-dark","backdrop-blur-sm"],["title","Items Pending",1,"flex","flex-col","items-center","p-2","rounded-xl","bg-surface-dark/40","border","border-border-dark"],[1,"flex-1","h-screen","flex","flex-col","overflow-hidden"],[1,"fixed","inset-0","z-[100]","bg-[#111317]","flex","items-center","justify-center","p-4"],[1,"text-sm","font-bold","text-white","leading-none"],[1,"text-[10px]","text-text-muted","capitalize"],[1,"flex","justify-between","items-start","mb-2"],[1,"material-symbols-outlined","text-text-muted"],[1,"text-xs","font-bold","text-primary","bg-primary/10","px-2","py-1","rounded-full"],[1,"text-3xl","font-black","text-white","leading-tight","mb-1"],[1,"text-xs","text-text-muted","font-medium"],[1,"material-symbols-outlined","text-text-muted","text-sm"],[1,"text-lg","font-bold","text-white"],[1,"max-w-4xl","w-full","flex","flex-col","items-center","gap-12","animate-in","fade-in","zoom-in","duration-300"],[1,"text-center","space-y-2"],[1,"text-4xl","font-bold","text-white","tracking-tight"],[1,"text-[#9ea7b7]","text-lg"],[1,"flex","flex-wrap","justify-center","gap-8"],[1,"bg-[#1a202e]","border","border-[#292e38]","rounded-2xl","p-8","w-full","max-w-sm","shadow-2xl","animate-in","zoom-in-95","duration-200"],[1,"group","flex","flex-col","items-center","gap-4","transition-transform","hover:scale-105","outline-none","focus:scale-105"],[1,"group","flex","flex-col","items-center","gap-4","transition-transform","hover:scale-105","outline-none","focus:scale-105",3,"click"],[1,"size-24","rounded-full","border-2","border-[#292e38]","group-hover:border-[#2060df]","overflow-hidden","transition-colors","relative"],[1,"w-full","h-full","object-cover",3,"src"],[1,"absolute","inset-0","bg-black/40","flex","items-center","justify-center","opacity-0","group-hover:opacity-100","transition-opacity"],[1,"text-lg","font-medium","text-[#9ea7b7]","group-hover:text-white","transition-colors"],[1,"material-symbols-outlined","text-white"],[1,"flex","flex-col","items-center","gap-4","mb-6"],[1,"size-16","rounded-full","border","border-[#292e38]","overflow-hidden"],[1,"text-white","font-bold","text-xl"],[1,"space-y-4"],["type","password","placeholder","Enter Password","autofocus","",1,"w-full","bg-[#111317]","border","border-[#292e38]","rounded-lg","px-4","py-3","text-white","focus:outline-none","focus:border-[#2060df]","focus:ring-1","focus:ring-[#2060df]","transition-all","text-center","placeholder-[#586173]",3,"input","keyup.enter","value"],[1,"text-red-400","text-xs","mt-2","text-center"],[1,"w-full","py-3","rounded-lg","bg-[#2060df]","text-white","font-bold","hover:bg-[#2060df]/90","transition-colors",3,"click"],[1,"w-full","py-3","rounded-lg","border","border-[#3b4250]","text-[#9ea7b7]","font-bold","hover:text-white","hover:border-white","transition-colors",3,"click"]],template:function(t,r){if(t&1&&(y(0,"aside",0)(1,"button",1),U("click",function(){return r.toggleSidebar()}),y(2,"span",2),C(3),_()(),y(4,"div")(5,"div",3)(6,"div",4)(7,"span",5),C(8,"checklist"),_(),Z(9,jz,2,0,"h1",6),_(),Z(10,Bz,2,0,"p",7),_(),y(11,"div",8),et(12,"img",9),Z(13,$z,5,2,"div",10),_(),et(14,"br")(15,"hr",11)(16,"br"),y(17,"nav",12)(18,"a",13)(19,"span",14),C(20,"dashboard"),_(),Z(21,Hz,2,0,"span",15),_(),y(22,"a",16)(23,"span",17),C(24,"shopping_cart"),_(),Z(25,zz,2,0,"span",18),_(),y(26,"a",19)(27,"span",17),C(28,"group"),_(),Z(29,Gz,2,0,"span",18),_(),y(30,"button",20),U("click",function(){return r.logout()}),y(31,"span",21),C(32,"logout"),_(),Z(33,qz,2,0,"span",22),_()(),y(34,"div",23),Z(35,Wz,10,1,"div",24)(36,Kz,5,1,"div",25),_()()(),y(37,"div",26),et(38,"router-outlet"),_(),et(39,"app-dialog")(40,"app-loading"),Z(41,eG,9,1,"div",27)),t&2){let i,s;Be(r.sidebarCollapsed()?"sidebar sidebar-collapsed":"sidebar sidebar-expanded"),D(),me("title",r.sidebarCollapsed()?"Expand sidebar":"Collapse sidebar"),D(2),Ne(" ",r.sidebarCollapsed()?"chevron_right":"chevron_left"," "),D(6),J(r.sidebarCollapsed()?-1:9),D(),J(r.sidebarCollapsed()?-1:10),D(),Be(r.sidebarCollapsed()?"flex items-center justify-center p-2 rounded-full bg-surface-dark cursor-pointer hover:bg-border-dark transition-colors":"flex items-center gap-3 p-4 rounded-full bg-surface-dark cursor-pointer hover:bg-border-dark transition-colors"),D(),me("src",((i=r.currentUser())==null?null:i.avatarUrl)||"https://ui-avatars.com/api/?name=Guest&background=random",un)("title",((s=r.currentUser())==null?null:s.name)||"Guest"),D(),J(r.sidebarCollapsed()?-1:13),D(5),Be(r.sidebarCollapsed()?"nav-item nav-item-collapsed":"nav-item"),me("title",r.sidebarCollapsed()?"Overview":""),D(3),J(r.sidebarCollapsed()?-1:21),D(),Be(r.sidebarCollapsed()?"nav-item nav-item-collapsed":"nav-item"),me("title",r.sidebarCollapsed()?"Groceries":""),D(3),J(r.sidebarCollapsed()?-1:25),D(),Be(r.sidebarCollapsed()?"nav-item nav-item-collapsed":"nav-item"),me("title",r.sidebarCollapsed()?"Users":""),D(3),J(r.sidebarCollapsed()?-1:29),D(),Be(r.sidebarCollapsed()?"nav-item nav-item-collapsed text-left mt-auto":"nav-item text-left mt-auto"),me("title",r.sidebarCollapsed()?"Log Out":""),D(3),J(r.sidebarCollapsed()?-1:33),D(2),J(r.sidebarCollapsed()?36:35),D(6),J(!r.currentUser()&&!r.loading()?41:-1)}},dependencies:[vu,Ja,R_,_m,fm],styles:['.sidebar[_ngcontent-%COMP%]{height:100vh;flex-shrink:0;border-right-width:1px;border-right-style:solid;border-color:#e2e8f0;background-color:#fff;display:flex;flex-direction:column;justify-content:space-between;padding:1.5rem;position:relative;transition:width .3s cubic-bezier(.4,0,.2,1),padding .3s cubic-bezier(.4,0,.2,1)}.dark[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{border-color:#292e38;background-color:#111317}.sidebar-expanded[_ngcontent-%COMP%]{width:20rem}.sidebar-collapsed[_ngcontent-%COMP%]{width:5rem;padding-left:1rem;padding-right:1rem}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-radius:9999px;color:#64748b;transition:all .2s ease;width:100%}.nav-item[_ngcontent-%COMP%]:hover{background-color:#f1f5f9}.dark[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]{color:#9ea7b7}.dark[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background-color:#1e2433}.nav-item-collapsed[_ngcontent-%COMP%]{justify-content:center;padding-left:.5rem;padding-right:.5rem}.nav-item[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{transition:transform .2s ease}.sidebar-collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover   .material-symbols-outlined[_ngcontent-%COMP%]{transform:scale(1.1)}#sidebar-toggle[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .2s ease;z-index:100}#sidebar-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #2060df66}#stats-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}#user-profile[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.sidebar-collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{position:relative}.sidebar-collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:after{content:attr(title);position:absolute;left:100%;top:50%;transform:translateY(-50%);margin-left:.75rem;padding:.5rem .75rem;background:#1a202e;color:#fff;font-size:.75rem;font-weight:500;border-radius:.5rem;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .2s ease,transform .2s ease;z-index:100;box-shadow:0 4px 12px #0000004d}.sidebar-collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover:after{opacity:1;transform:translateY(-50%) translate(4px)}.sidebar-collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:not([title]):after, .sidebar-collapsed[_ngcontent-%COMP%]   .nav-item[title=""][_ngcontent-%COMP%]:after{display:none}']})};c_(Cm,c2).catch(n=>console.error(n));
